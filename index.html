
        <style>
        @import url(https://fonts.googleapis.com/css?family=Google+Sans+Text);
        html {
          font-family: 'Google Sans Text', 'Google Sans';
          font-size: 14px;
          color-scheme: light dark;
          background: light-dark(white, black);
          color: light-dark(black, white);
        }
        </style>
        
        <script type="importmap">{"imports":{"@modelcontextprotocol/sdk/":"https://esm.sh/@modelcontextprotocol/sdk/dist/esm/","https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/es2022/":"https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/es2022/dist/esm/","https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/client/index?target=es2022":"https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/dist/esm/client/index?target=es2022","https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/types?target=es2022":"https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/dist/esm/types?target=es2022","react":"https://aistudiocdn.com/react@^19.2.1","react-dom/":"https://aistudiocdn.com/react-dom@^19.2.1/","react/":"https://aistudiocdn.com/react@^19.2.1/","@/index":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20vY2xpZW50JzsKaW1wb3J0IEFwcCBmcm9tICdAL0FwcCc7CmNvbnN0IHJvb3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKTsKaWYgKCFyb290RWxlbWVudCkgewogICAgdGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgZmluZCByb290IGVsZW1lbnQgdG8gbW91bnQgdG8iKTsKfQpjb25zdCByb290ID0gUmVhY3RET00uY3JlYXRlUm9vdChyb290RWxlbWVudCk7CnJvb3QucmVuZGVyKF9qc3goUmVhY3QuU3RyaWN0TW9kZSwgeyBjaGlsZHJlbjogX2pzeChBcHAsIHt9KSB9KSk7Cg==","@":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20vY2xpZW50JzsKaW1wb3J0IEFwcCBmcm9tICdAL0FwcCc7CmNvbnN0IHJvb3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKTsKaWYgKCFyb290RWxlbWVudCkgewogICAgdGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgZmluZCByb290IGVsZW1lbnQgdG8gbW91bnQgdG8iKTsKfQpjb25zdCByb290ID0gUmVhY3RET00uY3JlYXRlUm9vdChyb290RWxlbWVudCk7CnJvb3QucmVuZGVyKF9qc3goUmVhY3QuU3RyaWN0TW9kZSwgeyBjaGlsZHJlbjogX2pzeChBcHAsIHt9KSB9KSk7Cg==","@/types":"data:application/javascript;base64,ZXhwb3J0IHZhciBBcHBTdGF0ZTsKKGZ1bmN0aW9uIChBcHBTdGF0ZSkgewogICAgQXBwU3RhdGVbIklETEUiXSA9ICJJRExFIjsKICAgIEFwcFN0YXRlWyJMT0FESU5HIl0gPSAiTE9BRElORyI7CiAgICBBcHBTdGF0ZVsiRURJVElORyJdID0gIkVESVRJTkciOwogICAgQXBwU3RhdGVbIlBST0NFU1NJTkciXSA9ICJQUk9DRVNTSU5HIjsKICAgIEFwcFN0YXRlWyJFUlJPUiJdID0gIkVSUk9SIjsKICAgIEFwcFN0YXRlWyJMSUJSQVJZIl0gPSAiTElCUkFSWSI7Cn0pKEFwcFN0YXRlIHx8IChBcHBTdGF0ZSA9IHt9KSk7CmV4cG9ydCB2YXIgVG9vbE1vZGU7CihmdW5jdGlvbiAoVG9vbE1vZGUpIHsKICAgIFRvb2xNb2RlWyJTRUxFQ1QiXSA9ICJTRUxFQ1QiOwogICAgVG9vbE1vZGVbIk1PVkUiXSA9ICJNT1ZFIjsKfSkoVG9vbE1vZGUgfHwgKFRvb2xNb2RlID0ge30pKTsK","@/constants":"data:application/javascript;base64,ZXhwb3J0IGNvbnN0IFRIRU1FX0NPTE9SID0gJyMwNmI2ZDQnOyAvLyBDeWFuLTUwMApleHBvcnQgY29uc3QgV0FWRUZPUk1fQ09MT1IgPSAnIzIyZDNlZSc7IC8vIEN5YW4tNDAwCmV4cG9ydCBjb25zdCBXQVZFRk9STV9CRyA9ICcjMTgxODFiJzsgLy8gWmluYy05MDAKZXhwb3J0IGNvbnN0IFNFTEVDVElPTl9DT0xPUiA9ICdyZ2JhKDYsIDE4MiwgMjEyLCAwLjMpJzsKZXhwb3J0IGNvbnN0IFBMQVlIRUFEX0NPTE9SID0gJyNlZjQ0NDQnOyAvLyBSZWQtNTAwCmV4cG9ydCBjb25zdCBERUZBVUxUX1NBTVBMRV9SQVRFID0gNDQxMDA7CmV4cG9ydCBjb25zdCBNQVhfWk9PTSA9IDMwMDsgLy8gcGl4ZWxzIHBlciBzZWNvbmQKZXhwb3J0IGNvbnN0IE1JTl9aT09NID0gMTA7CmV4cG9ydCBjb25zdCBERUZBVUxUX1pPT00gPSA1MDsKZXhwb3J0IGNvbnN0IExBTkVfSEVJR0hUID0gMTIwOyAvLyBIZWlnaHQgb2YgZWFjaCB0cmFjayBsYW5lIGluIHBpeGVscwpleHBvcnQgY29uc3QgU05BUF9USFJFU0hPTERfUFggPSAxNTsgLy8gRGlzdGFuY2UgaW4gcGl4ZWxzIHRvIHRyaWdnZXIgc25hcHBpbmcKLy8gRXh0ZW5kZWQgUGFsZXR0ZSBmb3IgTXVsdGktbGF5ZXIgdmlzdWFsaXphdGlvbgpleHBvcnQgY29uc3QgVFJBQ0tfQ09MT1JTID0gWwogICAgJyMyMmQzZWUnLCAvLyBDeWFuLTQwMAogICAgJyM4MThjZjgnLCAvLyBJbmRpZ28tNDAwCiAgICAnI2U4NzlmOScsIC8vIEZ1Y2hzaWEtNDAwCiAgICAnI2Y0NzJiNicsIC8vIFBpbmstNDAwCiAgICAnI2ZiNzE4NScsIC8vIFJvc2UtNDAwCiAgICAnIzM0ZDM5OScsIC8vIEVtZXJhbGQtNDAwCiAgICAnI2ZiYmYyNCcsIC8vIEFtYmVyLTQwMAogICAgJyNhNzhiZmEnLCAvLyBWaW9sZXQtNDAwCiAgICAnIzJkZDRiZicsIC8vIFRlYWwtNDAwCiAgICAnIzYwYTVmYScsIC8vIEJsdWUtNDAwCl07CmV4cG9ydCBjb25zdCBCRUFUX1BBVFRFUk5TID0gewogICAgLy8gMTYgc3RlcHMuIDEgPSBLaWNrLCAyID0gU25hcmUsIDMgPSBIaUhhdAogICAgJ1JvY2snOiBbWzEsIDAsIDMsIDAsIDIsIDAsIDMsIDAsIDEsIDAsIDMsIDEsIDIsIDAsIDMsIDBdXSwKICAgICdIaXBIb3AnOiBbWzEsIDAsIDMsIDAsIDIsIDAsIDMsIDEsIDAsIDEsIDMsIDAsIDIsIDAsIDMsIDBdXSwKICAgICdUZWNobm8nOiBbWzEsIDMsIDAsIDMsIDEsIDMsIDAsIDMsIDEsIDMsIDAsIDMsIDEsIDMsIDAsIDNdXSwKICAgICdNZXRyb25vbWUnOiBbWzQsIDAsIDAsIDAsIDUsIDAsIDAsIDAsIDUsIDAsIDAsIDAsIDUsIDAsIDAsIDBdXSAvLyA0PUhpZ2ggVGljaywgNT1Mb3cgVGljawp9Owo=","@/services/audioUtils":"data:application/javascript;base64,aW1wb3J0IHsgREVGQVVMVF9TQU1QTEVfUkFURSwgQkVBVF9QQVRURVJOUyB9IGZyb20gJ0AvY29uc3RhbnRzJzsKbGV0IGF1ZGlvQ29udGV4dCA9IG51bGw7CmV4cG9ydCBjb25zdCBnZXRBdWRpb0NvbnRleHQgPSAoKSA9PiB7CiAgICBpZiAoIWF1ZGlvQ29udGV4dCkgewogICAgICAgIGF1ZGlvQ29udGV4dCA9IG5ldyAod2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSh7CiAgICAgICAgICAgIHNhbXBsZVJhdGU6IERFRkFVTFRfU0FNUExFX1JBVEUsCiAgICAgICAgfSk7CiAgICB9CiAgICByZXR1cm4gYXVkaW9Db250ZXh0Owp9OwpleHBvcnQgY29uc3QgZGVjb2RlQXVkaW9EYXRhID0gYXN5bmMgKGFycmF5QnVmZmVyKSA9PiB7CiAgICBjb25zdCBjdHggPSBnZXRBdWRpb0NvbnRleHQoKTsKICAgIHJldHVybiBhd2FpdCBjdHguZGVjb2RlQXVkaW9EYXRhKGFycmF5QnVmZmVyKTsKfTsKZXhwb3J0IGNvbnN0IGNyZWF0ZUVtcHR5QnVmZmVyID0gKGN0eCwgc2Vjb25kcykgPT4gewogICAgcmV0dXJuIGN0eC5jcmVhdGVCdWZmZXIoMiwgY3R4LnNhbXBsZVJhdGUgKiBzZWNvbmRzLCBjdHguc2FtcGxlUmF0ZSk7Cn07Ci8vIC0tLSBCUE0gRGV0ZWN0aW9uIC0tLQpleHBvcnQgY29uc3QgZGV0ZWN0QlBNID0gYXN5bmMgKGJ1ZmZlcikgPT4gewogICAgdHJ5IHsKICAgICAgICAvLyAxLiBBbmFseXplIGEgc2VnbWVudCAodXAgdG8gMzBzIGZyb20gdGhlIG1pZGRsZSkgdG8gc2F2ZSByZXNvdXJjZXMKICAgICAgICBsZXQgYW5hbHlzaXNCdWZmZXIgPSBidWZmZXI7CiAgICAgICAgaWYgKGJ1ZmZlci5kdXJhdGlvbiA+IDQwKSB7CiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gTWF0aC5mbG9vcihidWZmZXIuZHVyYXRpb24gLyAyKSAtIDIwOwogICAgICAgICAgICBjb25zdCBlbmQgPSBzdGFydCArIDQwOwogICAgICAgICAgICBhbmFseXNpc0J1ZmZlciA9IHRyaW1CdWZmZXIoYnVmZmVyLCBzdGFydCwgZW5kKTsKICAgICAgICB9CiAgICAgICAgLy8gMi4gT2ZmbGluZSBQcm9jZXNzaW5nOiBGaWx0ZXIgZm9yIFJoeXRobWljIEVsZW1lbnRzCiAgICAgICAgLy8gV2UgdXNlIE9mZmxpbmVBdWRpb0NvbnRleHQgdG8gZmlsdGVyIGRvd24gdG8gdGhlIGJhc3Mva2ljay9zbmFyZSBmcmVxdWVuY2llcwogICAgICAgIGNvbnN0IG9mZmxpbmVDdHggPSBuZXcgT2ZmbGluZUF1ZGlvQ29udGV4dCgxLCBhbmFseXNpc0J1ZmZlci5sZW5ndGgsIGFuYWx5c2lzQnVmZmVyLnNhbXBsZVJhdGUpOwogICAgICAgIGNvbnN0IHNvdXJjZSA9IG9mZmxpbmVDdHguY3JlYXRlQnVmZmVyU291cmNlKCk7CiAgICAgICAgc291cmNlLmJ1ZmZlciA9IGFuYWx5c2lzQnVmZmVyOwogICAgICAgIC8vIEJhbmRwYXNzLWlzaCBGaWx0ZXIgKExvd3Bhc3MgKyBIaWdocGFzcykKICAgICAgICAvLyBGb2N1cyBvbiA3MEh6IC0gNDAwSHogcmFuZ2UgdG8gY2F0Y2gga2lja3MgYW5kIHNuYXJlIGJvZGllcwogICAgICAgIGNvbnN0IGxvd3Bhc3MgPSBvZmZsaW5lQ3R4LmNyZWF0ZUJpcXVhZEZpbHRlcigpOwogICAgICAgIGxvd3Bhc3MudHlwZSA9ICJsb3dwYXNzIjsKICAgICAgICBsb3dwYXNzLmZyZXF1ZW5jeS52YWx1ZSA9IDQwMDsKICAgICAgICBsb3dwYXNzLlEudmFsdWUgPSAxOwogICAgICAgIGNvbnN0IGhpZ2hwYXNzID0gb2ZmbGluZUN0eC5jcmVhdGVCaXF1YWRGaWx0ZXIoKTsKICAgICAgICBoaWdocGFzcy50eXBlID0gImhpZ2hwYXNzIjsKICAgICAgICBoaWdocGFzcy5mcmVxdWVuY3kudmFsdWUgPSA3MDsKICAgICAgICBoaWdocGFzcy5RLnZhbHVlID0gMTsKICAgICAgICBzb3VyY2UuY29ubmVjdChsb3dwYXNzKTsKICAgICAgICBsb3dwYXNzLmNvbm5lY3QoaGlnaHBhc3MpOwogICAgICAgIGhpZ2hwYXNzLmNvbm5lY3Qob2ZmbGluZUN0eC5kZXN0aW5hdGlvbik7CiAgICAgICAgc291cmNlLnN0YXJ0KDApOwogICAgICAgIGNvbnN0IHJlbmRlcmVkID0gYXdhaXQgb2ZmbGluZUN0eC5zdGFydFJlbmRlcmluZygpOwogICAgICAgIGNvbnN0IGRhdGEgPSByZW5kZXJlZC5nZXRDaGFubmVsRGF0YSgwKTsKICAgICAgICAvLyAzLiBFbnZlbG9wZSBFeHRyYWN0aW9uIChFbmVyZ3kgRmx1eCkKICAgICAgICAvLyBXZSBjYWxjdWxhdGUgUk1TIGVuZXJneSBpbiBzbWFsbCB3aW5kb3dzICg1bXMpIHRvIGNyZWF0ZSBhbiBlbnZlbG9wZQogICAgICAgIC8vIFRoZW4gd2UgY2FsY3VsYXRlIHRoZSAiRmx1eCIgKGNoYW5nZSBpbiBlbmVyZ3kpIHRvIGlkZW50aWZ5IHBlcmN1c3NpdmUgb25zZXRzCiAgICAgICAgY29uc3Qgd2luZG93U2l6ZSA9IE1hdGguZmxvb3IoYW5hbHlzaXNCdWZmZXIuc2FtcGxlUmF0ZSAqIDAuMDA1KTsgLy8gNW1zIHdpbmRvdwogICAgICAgIGNvbnN0IGVuZXJneVByb2ZpbGUgPSBbXTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IHdpbmRvd1NpemUpIHsKICAgICAgICAgICAgbGV0IHN1bSA9IDA7CiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgd2luZG93U2l6ZSAmJiBpICsgaiA8IGRhdGEubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgIHN1bSArPSBkYXRhW2kgKyBqXSAqIGRhdGFbaSArIGpdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVuZXJneVByb2ZpbGUucHVzaChNYXRoLnNxcnQoc3VtIC8gd2luZG93U2l6ZSkpOwogICAgICAgIH0KICAgICAgICAvLyBDYWxjdWxhdGUgRmx1eCAob25seSBwb3NpdGl2ZSBjaGFuZ2VzLCByZXByZXNlbnRpbmcgYXR0YWNrcykKICAgICAgICBjb25zdCBvbnNldFByb2ZpbGUgPSBbXTsKICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGVuZXJneVByb2ZpbGUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY29uc3QgZGlmZiA9IGVuZXJneVByb2ZpbGVbaV0gLSBlbmVyZ3lQcm9maWxlW2kgLSAxXTsKICAgICAgICAgICAgb25zZXRQcm9maWxlLnB1c2goTWF0aC5tYXgoZGlmZiwgMCkpOwogICAgICAgIH0KICAgICAgICAvLyA0LiBBdXRvY29ycmVsYXRpb24gZm9yIFRlbXBvIEVzdGltYXRpb24KICAgICAgICAvLyBXZSBjb3JyZWxhdGUgdGhlIG9uc2V0IHNpZ25hbCB3aXRoIGl0c2VsZiBhdCBkaWZmZXJlbnQgbGFncyBjb3JyZXNwb25kaW5nIHRvIDYwLTE4MCBCUE0KICAgICAgICBjb25zdCBtaW5CUE0gPSA2MDsKICAgICAgICBjb25zdCBtYXhCUE0gPSAxODA7CiAgICAgICAgLy8gQ29udmVydCBCUE0gdG8gbGFnIChpbiB3aW5kb3cgaW5kaWNlcykKICAgICAgICAvLyBMYWcgPSA2MCAvIChCUE0gKiB3aW5kb3dfc2Vjb25kcykKICAgICAgICBjb25zdCBtaW5MYWcgPSBNYXRoLmZsb29yKDYwIC8gKG1heEJQTSAqIDAuMDA1KSk7CiAgICAgICAgY29uc3QgbWF4TGFnID0gTWF0aC5jZWlsKDYwIC8gKG1pbkJQTSAqIDAuMDA1KSk7CiAgICAgICAgY29uc3QgY29ycmVsYXRpb25zID0gW107CiAgICAgICAgLy8gT3B0aW1pemU6IFdlIGRvbid0IG5lZWQgdG8gY29ycmVsYXRlIHRoZSBlbnRpcmUgNDBzLiAKICAgICAgICAvLyAxMC0xNSBzZWNvbmRzIG9mIHNpZ25hbCAoMjAwMC0zMDAwIHdpbmRvd3MpIGlzIGVub3VnaCBmb3IgcGVyaW9kaWNpdHkuCiAgICAgICAgY29uc3Qgc2VhcmNoTGVuID0gTWF0aC5taW4ob25zZXRQcm9maWxlLmxlbmd0aCwgMzAwMCk7CiAgICAgICAgZm9yIChsZXQgbGFnID0gbWluTGFnOyBsYWcgPD0gbWF4TGFnOyBsYWcrKykgewogICAgICAgICAgICBsZXQgY3VycmVudENvcnJlbGF0aW9uID0gMDsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWFyY2hMZW4gLSBsYWc7IGkrKykgewogICAgICAgICAgICAgICAgY3VycmVudENvcnJlbGF0aW9uICs9IG9uc2V0UHJvZmlsZVtpXSAqIG9uc2V0UHJvZmlsZVtpICsgbGFnXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb3JyZWxhdGlvbnMucHVzaCh7CiAgICAgICAgICAgICAgICBicG06IDYwIC8gKGxhZyAqIDAuMDA1KSwKICAgICAgICAgICAgICAgIHN0cmVuZ3RoOiBjdXJyZW50Q29ycmVsYXRpb24KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIC8vIDUuIFBlYWsgRmluZGluZyAmIEhldXJpc3RpY3MKICAgICAgICAvLyBTb3J0IGJ5IGNvcnJlbGF0aW9uIHN0cmVuZ3RoCiAgICAgICAgY29ycmVsYXRpb25zLnNvcnQoKGEsIGIpID0+IGIuc3RyZW5ndGggLSBhLnN0cmVuZ3RoKTsKICAgICAgICBpZiAoY29ycmVsYXRpb25zLmxlbmd0aCA9PT0gMCkKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgLy8gVGFrZSB0b3AgY2FuZGlkYXRlcwogICAgICAgIGNvbnN0IHRvcENhbmRpZGF0ZXMgPSBjb3JyZWxhdGlvbnMuc2xpY2UoMCwgNSk7CiAgICAgICAgbGV0IGNob3NlbkJQTSA9IHRvcENhbmRpZGF0ZXNbMF0uYnBtOwogICAgICAgIGNvbnN0IG1heFN0cmVuZ3RoID0gdG9wQ2FuZGlkYXRlc1swXS5zdHJlbmd0aDsKICAgICAgICAvLyBPY3RhdmUgRXJyb3IgQ29ycmVjdGlvbgogICAgICAgIC8vIEF1dG9jb3JyZWxhdGlvbiBvZnRlbiBkZXRlY3RzIGhhbGYtdGltZSBvciBkb3VibGUtdGltZS4KICAgICAgICAvLyBXZSBwcmVmZXIgQlBNcyBpbiB0aGUgInN0YW5kYXJkIiBwb3AgcmFuZ2UgKDkwLTE0MCkgaWYgdGhleSBhcmUgc3Ryb25nIGVub3VnaC4KICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRvcENhbmRpZGF0ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY29uc3QgY2FuZGlkYXRlID0gdG9wQ2FuZGlkYXRlc1tpXTsKICAgICAgICAgICAgLy8gSWYgY2FuZGlkYXRlIGlzIGF0IGxlYXN0IDc1JSBhcyBzdHJvbmcgYXMgdGhlIHdpbm5lcgogICAgICAgICAgICBpZiAoY2FuZGlkYXRlLnN0cmVuZ3RoID4gbWF4U3RyZW5ndGggKiAwLjc1KSB7CiAgICAgICAgICAgICAgICAvLyBDaGVjayAxOiBQcmVmZXIgOTAtMTQwIHJhbmdlCiAgICAgICAgICAgICAgICBjb25zdCB3aW5uZXJJc0V4dHJlbWUgPSBjaG9zZW5CUE0gPCA5MCB8fCBjaG9zZW5CUE0gPiAxNjA7CiAgICAgICAgICAgICAgICBjb25zdCBjYW5kaWRhdGVJc05vcm1hbCA9IGNhbmRpZGF0ZS5icG0gPj0gOTAgJiYgY2FuZGlkYXRlLmJwbSA8PSAxNjA7CiAgICAgICAgICAgICAgICBpZiAod2lubmVySXNFeHRyZW1lICYmIGNhbmRpZGF0ZUlzTm9ybWFsKSB7CiAgICAgICAgICAgICAgICAgICAgY2hvc2VuQlBNID0gY2FuZGlkYXRlLmJwbTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIENoZWNrIDI6IENvcnJlY3QgSGFsZi10aW1lIGRldGVjdGlvbiAoZS5nLiBkZXRlY3RlZCA2MCwgcmVhbCBpcyAxMjApCiAgICAgICAgICAgICAgICAvLyBJZiBjYW5kaWRhdGUgaXMgYXBwcm94IGRvdWJsZSB0aGUgY3VycmVudCB3aW5uZXIKICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhjYW5kaWRhdGUuYnBtIC0gMiAqIGNob3NlbkJQTSkgPCA1KSB7CiAgICAgICAgICAgICAgICAgICAgY2hvc2VuQlBNID0gY2FuZGlkYXRlLmJwbTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChjaG9zZW5CUE0pOwogICAgfQogICAgY2F0Y2ggKGUpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJCUE0gRGV0ZWN0aW9uIEVycm9yIiwgZSk7CiAgICAgICAgcmV0dXJuIDA7IC8vIFJldHVybiAwIG9uIGZhaWx1cmUKICAgIH0KfTsKLy8gLS0tIFByZXZpZXcgR2VuZXJhdGlvbiAtLS0KZXhwb3J0IGNvbnN0IGdlbmVyYXRlUHJvamVjdFByZXZpZXcgPSAodHJhY2tzLCB3aWR0aCwgaGVpZ2h0KSA9PiB7CiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsKICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoOwogICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDsKICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgaWYgKCFjdHgpCiAgICAgICAgcmV0dXJuICcnOwogICAgLy8gRGFyayBiYWNrZ3JvdW5kCiAgICBjdHguZmlsbFN0eWxlID0gJyMxODE4MWInOwogICAgY3R4LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpOwogICAgaWYgKHRyYWNrcy5sZW5ndGggPT09IDApCiAgICAgICAgcmV0dXJuIGNhbnZhcy50b0RhdGFVUkwoKTsKICAgIC8vIERldGVybWluZSB0b3RhbCBkdXJhdGlvbgogICAgY29uc3QgbWF4RHVyID0gTWF0aC5tYXgoLi4udHJhY2tzLm1hcCh0ID0+IHQuc3RhcnRUaW1lICsgdC5kdXJhdGlvbikpOwogICAgY29uc3Qgc2NhbGVYID0gd2lkdGggLyAobWF4RHVyIHx8IDEpOwogICAgLy8gRHJhdyBzaW1wbGlmaWVkIHRyYWNrcwogICAgdHJhY2tzLmZvckVhY2godHJhY2sgPT4gewogICAgICAgIGNvbnN0IHggPSB0cmFjay5zdGFydFRpbWUgKiBzY2FsZVg7CiAgICAgICAgY29uc3QgdyA9IE1hdGgubWF4KDIsIHRyYWNrLmR1cmF0aW9uICogc2NhbGVYKTsKICAgICAgICBjb25zdCBsYW5lSCA9IGhlaWdodCAvIDU7CiAgICAgICAgY29uc3QgeSA9ICh0cmFjay5sYW5lICUgNSkgKiBsYW5lSCArIDI7CiAgICAgICAgY29uc3QgaCA9IGxhbmVIIC0gNDsKICAgICAgICBjdHguZmlsbFN0eWxlID0gdHJhY2suY29sb3I7CiAgICAgICAgY3R4LmZpbGxSZWN0KHgsIHksIHcsIGgpOwogICAgfSk7CiAgICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7Cn07Ci8vIC0tLSBPZmZsaW5lIFByb2Nlc3NpbmcgVXRpbGl0aWVzIC0tLQpleHBvcnQgY29uc3QgYXBwbHlGYWRlID0gYXN5bmMgKGJ1ZmZlciwgdHlwZSwgZHVyYXRpb24pID0+IHsKICAgIGNvbnN0IGN0eCA9IG5ldyBPZmZsaW5lQXVkaW9Db250ZXh0KGJ1ZmZlci5udW1iZXJPZkNoYW5uZWxzLCBidWZmZXIubGVuZ3RoLCBidWZmZXIuc2FtcGxlUmF0ZSk7CiAgICBjb25zdCBzb3VyY2UgPSBjdHguY3JlYXRlQnVmZmVyU291cmNlKCk7CiAgICBzb3VyY2UuYnVmZmVyID0gYnVmZmVyOwogICAgY29uc3QgZ2FpbiA9IGN0eC5jcmVhdGVHYWluKCk7CiAgICBzb3VyY2UuY29ubmVjdChnYWluKTsKICAgIGdhaW4uY29ubmVjdChjdHguZGVzdGluYXRpb24pOwogICAgY29uc3QgZmFkZUR1ciA9IE1hdGgubWluKGR1cmF0aW9uLCBidWZmZXIuZHVyYXRpb24pOwogICAgaWYgKHR5cGUgPT09ICdpbicpIHsKICAgICAgICBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMCwgMCk7CiAgICAgICAgZ2Fpbi5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDEsIGZhZGVEdXIpOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgZ2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKDEsIGJ1ZmZlci5kdXJhdGlvbiAtIGZhZGVEdXIpOwogICAgICAgIGdhaW4uZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgwLCBidWZmZXIuZHVyYXRpb24pOwogICAgfQogICAgc291cmNlLnN0YXJ0KCk7CiAgICByZXR1cm4gYXdhaXQgY3R4LnN0YXJ0UmVuZGVyaW5nKCk7Cn07CmV4cG9ydCBjb25zdCBhcHBseUNyb3NzZmFkZSA9IGFzeW5jIChidWZmZXIsIHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQsIGR1cmF0aW9uID0gMC41KSA9PiB7CiAgICBjb25zdCBjdHggPSBuZXcgT2ZmbGluZUF1ZGlvQ29udGV4dChidWZmZXIubnVtYmVyT2ZDaGFubmVscywgYnVmZmVyLmxlbmd0aCwgYnVmZmVyLnNhbXBsZVJhdGUpOwogICAgY29uc3Qgc291cmNlID0gY3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpOwogICAgc291cmNlLmJ1ZmZlciA9IGJ1ZmZlcjsKICAgIGNvbnN0IGdhaW4gPSBjdHguY3JlYXRlR2FpbigpOwogICAgc291cmNlLmNvbm5lY3QoZ2Fpbik7CiAgICBnYWluLmNvbm5lY3QoY3R4LmRlc3RpbmF0aW9uKTsKICAgIGNvbnN0IGZhZGVEdXIgPSBNYXRoLm1pbihkdXJhdGlvbiwgKHNlbGVjdGlvbkVuZCAtIHNlbGVjdGlvblN0YXJ0KSAvIDIpOwogICAgZ2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKDEsIDApOwogICAgaWYgKHNlbGVjdGlvblN0YXJ0ID49IDApIHsKICAgICAgICBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMCwgc2VsZWN0aW9uU3RhcnQpOwogICAgICAgIGdhaW4uZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgxLCBzZWxlY3Rpb25TdGFydCArIGZhZGVEdXIpOwogICAgfQogICAgaWYgKHNlbGVjdGlvbkVuZCA8PSBidWZmZXIuZHVyYXRpb24pIHsKICAgICAgICBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMSwgc2VsZWN0aW9uRW5kIC0gZmFkZUR1cik7CiAgICAgICAgZ2Fpbi5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDAsIHNlbGVjdGlvbkVuZCk7CiAgICB9CiAgICBzb3VyY2Uuc3RhcnQoKTsKICAgIHJldHVybiBhd2FpdCBjdHguc3RhcnRSZW5kZXJpbmcoKTsKfTsKLyoqCiAqIE1lcmdlcyB0d28gYnVmZmVycyB3aXRoIGEgY3Jvc3NmYWRlIG92ZXJsYXAuCiAqIFVzZWQgZm9yIGpvaW5pbmcgdHdvIGFkamFjZW50IHRyYWNrcy4KICovCmV4cG9ydCBjb25zdCBtZXJnZUJ1ZmZlcnMgPSBhc3luYyAobGVmdCwgcmlnaHQsIG92ZXJsYXBEdXJhdGlvbikgPT4gewogICAgY29uc3QgY2hhbm5lbHMgPSBNYXRoLm1heChsZWZ0Lm51bWJlck9mQ2hhbm5lbHMsIHJpZ2h0Lm51bWJlck9mQ2hhbm5lbHMpOwogICAgY29uc3Qgc2FtcGxlUmF0ZSA9IGxlZnQuc2FtcGxlUmF0ZTsKICAgIC8vIENhbGN1bGF0ZSBuZXcgdG90YWwgZHVyYXRpb246IChMZWZ0ICsgUmlnaHQpIC0gT3ZlcmxhcAogICAgY29uc3QgdG90YWxEdXJhdGlvbiA9IGxlZnQuZHVyYXRpb24gKyByaWdodC5kdXJhdGlvbiAtIG92ZXJsYXBEdXJhdGlvbjsKICAgIGNvbnN0IGxlbmd0aCA9IE1hdGguY2VpbCh0b3RhbER1cmF0aW9uICogc2FtcGxlUmF0ZSk7CiAgICBjb25zdCBjdHggPSBuZXcgT2ZmbGluZUF1ZGlvQ29udGV4dChjaGFubmVscywgbGVuZ3RoLCBzYW1wbGVSYXRlKTsKICAgIC8vIExlZnQgU291cmNlIChGYWRlcyBvdXQgYXQgZW5kKQogICAgY29uc3Qgc3JjTGVmdCA9IGN0eC5jcmVhdGVCdWZmZXJTb3VyY2UoKTsKICAgIHNyY0xlZnQuYnVmZmVyID0gbGVmdDsKICAgIGNvbnN0IGdhaW5MZWZ0ID0gY3R4LmNyZWF0ZUdhaW4oKTsKICAgIHNyY0xlZnQuY29ubmVjdChnYWluTGVmdCk7CiAgICBnYWluTGVmdC5jb25uZWN0KGN0eC5kZXN0aW5hdGlvbik7CiAgICAvLyBSaWdodCBTb3VyY2UgKEZhZGVzIGluIGF0IHN0YXJ0LCBkZWxheWVkIGJ5IGxlZnQuZHVyYXRpb24gLSBvdmVybGFwKQogICAgY29uc3Qgc3JjUmlnaHQgPSBjdHguY3JlYXRlQnVmZmVyU291cmNlKCk7CiAgICBzcmNSaWdodC5idWZmZXIgPSByaWdodDsKICAgIGNvbnN0IGdhaW5SaWdodCA9IGN0eC5jcmVhdGVHYWluKCk7CiAgICBzcmNSaWdodC5jb25uZWN0KGdhaW5SaWdodCk7CiAgICBnYWluUmlnaHQuY29ubmVjdChjdHguZGVzdGluYXRpb24pOwogICAgY29uc3Qgb3ZlcmxhcFN0YXJ0ID0gbGVmdC5kdXJhdGlvbiAtIG92ZXJsYXBEdXJhdGlvbjsKICAgIC8vIFNjaGVkdWxlIEZhZGVzCiAgICAvLyBMZWZ0OiAxIC0+IDAgZHVyaW5nIG92ZXJsYXAKICAgIGdhaW5MZWZ0LmdhaW4uc2V0VmFsdWVBdFRpbWUoMSwgb3ZlcmxhcFN0YXJ0KTsKICAgIGdhaW5MZWZ0LmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoMCwgbGVmdC5kdXJhdGlvbik7CiAgICAvLyBSaWdodDogMCAtPiAxIGR1cmluZyBvdmVybGFwCiAgICBjb25zdCByaWdodFN0YXJ0VGltZSA9IG92ZXJsYXBTdGFydDsKICAgIGdhaW5SaWdodC5nYWluLnNldFZhbHVlQXRUaW1lKDAsIHJpZ2h0U3RhcnRUaW1lKTsKICAgIGdhaW5SaWdodC5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDEsIHJpZ2h0U3RhcnRUaW1lICsgb3ZlcmxhcER1cmF0aW9uKTsKICAgIHNyY0xlZnQuc3RhcnQoMCk7CiAgICBzcmNSaWdodC5zdGFydChyaWdodFN0YXJ0VGltZSk7CiAgICByZXR1cm4gYXdhaXQgY3R4LnN0YXJ0UmVuZGVyaW5nKCk7Cn07CmV4cG9ydCBjb25zdCBjaGFuZ2VTcGVlZCA9IGFzeW5jIChidWZmZXIsIHBsYXliYWNrUmF0ZSkgPT4gewogICAgY29uc3QgbmV3RHVyYXRpb24gPSBidWZmZXIuZHVyYXRpb24gLyBwbGF5YmFja1JhdGU7CiAgICBjb25zdCBjdHggPSBuZXcgT2ZmbGluZUF1ZGlvQ29udGV4dChidWZmZXIubnVtYmVyT2ZDaGFubmVscywgTWF0aC5jZWlsKG5ld0R1cmF0aW9uICogYnVmZmVyLnNhbXBsZVJhdGUpLCBidWZmZXIuc2FtcGxlUmF0ZSk7CiAgICBjb25zdCBzb3VyY2UgPSBjdHguY3JlYXRlQnVmZmVyU291cmNlKCk7CiAgICBzb3VyY2UuYnVmZmVyID0gYnVmZmVyOwogICAgc291cmNlLnBsYXliYWNrUmF0ZS52YWx1ZSA9IHBsYXliYWNrUmF0ZTsKICAgIHNvdXJjZS5jb25uZWN0KGN0eC5kZXN0aW5hdGlvbik7CiAgICBzb3VyY2Uuc3RhcnQoKTsKICAgIHJldHVybiBhd2FpdCBjdHguc3RhcnRSZW5kZXJpbmcoKTsKfTsKZXhwb3J0IGNvbnN0IHJldmVyc2VCdWZmZXIgPSAoYnVmZmVyKSA9PiB7CiAgICBjb25zdCBjdHggPSBnZXRBdWRpb0NvbnRleHQoKTsKICAgIGNvbnN0IG5ld0J1ZmZlciA9IGN0eC5jcmVhdGVCdWZmZXIoYnVmZmVyLm51bWJlck9mQ2hhbm5lbHMsIGJ1ZmZlci5sZW5ndGgsIGJ1ZmZlci5zYW1wbGVSYXRlKTsKICAgIGZvciAobGV0IGMgPSAwOyBjIDwgYnVmZmVyLm51bWJlck9mQ2hhbm5lbHM7IGMrKykgewogICAgICAgIGNvbnN0IG9sZERhdGEgPSBidWZmZXIuZ2V0Q2hhbm5lbERhdGEoYyk7CiAgICAgICAgY29uc3QgbmV3RGF0YSA9IG5ld0J1ZmZlci5nZXRDaGFubmVsRGF0YShjKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld0RhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgbmV3RGF0YVtpXSA9IG9sZERhdGFbYnVmZmVyLmxlbmd0aCAtIDEgLSBpXTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gbmV3QnVmZmVyOwp9OwpleHBvcnQgY29uc3Qgbm9ybWFsaXplQnVmZmVyID0gKGJ1ZmZlcikgPT4gewogICAgbGV0IG1heCA9IDA7CiAgICBmb3IgKGxldCBjID0gMDsgYyA8IGJ1ZmZlci5udW1iZXJPZkNoYW5uZWxzOyBjKyspIHsKICAgICAgICBjb25zdCBkYXRhID0gYnVmZmVyLmdldENoYW5uZWxEYXRhKGMpOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoTWF0aC5hYnMoZGF0YVtpXSkgPiBtYXgpCiAgICAgICAgICAgICAgICBtYXggPSBNYXRoLmFicyhkYXRhW2ldKTsKICAgICAgICB9CiAgICB9CiAgICBpZiAobWF4ID09PSAwKQogICAgICAgIHJldHVybiBidWZmZXI7CiAgICBjb25zdCBhbXAgPSAwLjk4IC8gbWF4OwogICAgY29uc3QgY3R4ID0gZ2V0QXVkaW9Db250ZXh0KCk7CiAgICBjb25zdCBuZXdCdWZmZXIgPSBjdHguY3JlYXRlQnVmZmVyKGJ1ZmZlci5udW1iZXJPZkNoYW5uZWxzLCBidWZmZXIubGVuZ3RoLCBidWZmZXIuc2FtcGxlUmF0ZSk7CiAgICBmb3IgKGxldCBjID0gMDsgYyA8IGJ1ZmZlci5udW1iZXJPZkNoYW5uZWxzOyBjKyspIHsKICAgICAgICBjb25zdCBvbGREYXRhID0gYnVmZmVyLmdldENoYW5uZWxEYXRhKGMpOwogICAgICAgIGNvbnN0IG5ld0RhdGEgPSBuZXdCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoYyk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdEYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIG5ld0RhdGFbaV0gPSBvbGREYXRhW2ldICogYW1wOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiBuZXdCdWZmZXI7Cn07CmV4cG9ydCBjb25zdCByZXNhbXBsZUJ1ZmZlciA9IGFzeW5jIChidWZmZXIsIHRhcmdldFJhdGUpID0+IHsKICAgIGlmIChidWZmZXIuc2FtcGxlUmF0ZSA9PT0gdGFyZ2V0UmF0ZSkKICAgICAgICByZXR1cm4gYnVmZmVyOwogICAgY29uc3QgY3R4ID0gbmV3IE9mZmxpbmVBdWRpb0NvbnRleHQoYnVmZmVyLm51bWJlck9mQ2hhbm5lbHMsIGJ1ZmZlci5kdXJhdGlvbiAqIHRhcmdldFJhdGUsIHRhcmdldFJhdGUpOwogICAgY29uc3Qgc291cmNlID0gY3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpOwogICAgc291cmNlLmJ1ZmZlciA9IGJ1ZmZlcjsKICAgIHNvdXJjZS5jb25uZWN0KGN0eC5kZXN0aW5hdGlvbik7CiAgICBzb3VyY2Uuc3RhcnQoKTsKICAgIHJldHVybiBhd2FpdCBjdHguc3RhcnRSZW5kZXJpbmcoKTsKfTsKZXhwb3J0IGNvbnN0IGFwcGx5RVEgPSBhc3luYyAoYnVmZmVyLCBwcmVzZXQpID0+IHsKICAgIC8vIFN0YW5kYXJkIEVRIHByb2Nlc3NpbmcgdXNpbmcgT2ZmbGluZUNvbnRleHQKICAgIGNvbnN0IGN0eCA9IG5ldyBPZmZsaW5lQXVkaW9Db250ZXh0KGJ1ZmZlci5udW1iZXJPZkNoYW5uZWxzLCBidWZmZXIubGVuZ3RoLCBidWZmZXIuc2FtcGxlUmF0ZSk7CiAgICBjb25zdCBzb3VyY2UgPSBjdHguY3JlYXRlQnVmZmVyU291cmNlKCk7CiAgICBzb3VyY2UuYnVmZmVyID0gYnVmZmVyOwogICAgLy8gQ3JlYXRlIGZpbHRlcnMgYmFzZWQgb24gcHJlc2V0CiAgICBjb25zdCBmaWx0ZXJzID0gW107CiAgICBjb25zdCBjcmVhdGVGaWx0ZXIgPSAodHlwZSwgZnJlcSwgZ2FpbiA9IDAsIFEgPSAxKSA9PiB7CiAgICAgICAgY29uc3QgZiA9IGN0eC5jcmVhdGVCaXF1YWRGaWx0ZXIoKTsKICAgICAgICBmLnR5cGUgPSB0eXBlOwogICAgICAgIGYuZnJlcXVlbmN5LnZhbHVlID0gZnJlcTsKICAgICAgICBmLmdhaW4udmFsdWUgPSBnYWluOwogICAgICAgIGYuUS52YWx1ZSA9IFE7CiAgICAgICAgcmV0dXJuIGY7CiAgICB9OwogICAgc3dpdGNoIChwcmVzZXQpIHsKICAgICAgICBjYXNlICdUZWxlcGhvbmUnOgogICAgICAgICAgICBmaWx0ZXJzLnB1c2goY3JlYXRlRmlsdGVyKCdoaWdocGFzcycsIDQwMCkpOwogICAgICAgICAgICBmaWx0ZXJzLnB1c2goY3JlYXRlRmlsdGVyKCdsb3dwYXNzJywgMzAwMCkpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdCYXNzIEJvb3N0JzoKICAgICAgICAgICAgZmlsdGVycy5wdXNoKGNyZWF0ZUZpbHRlcignbG93c2hlbGYnLCAxMDAsIDgpKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnVHJlYmxlIEJvb3N0JzoKICAgICAgICAgICAgZmlsdGVycy5wdXNoKGNyZWF0ZUZpbHRlcignaGlnaHNoZWxmJywgMzAwMCwgOCkpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdCYXNzIEN1dCc6CiAgICAgICAgICAgIGZpbHRlcnMucHVzaChjcmVhdGVGaWx0ZXIoJ2xvd3NoZWxmJywgMTAwLCAtMTIpKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnVHJlYmxlIEN1dCc6CiAgICAgICAgICAgIGZpbHRlcnMucHVzaChjcmVhdGVGaWx0ZXIoJ2hpZ2hzaGVsZicsIDMwMDAsIC0xMikpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdNaWQgQm9vc3QnOgogICAgICAgICAgICBmaWx0ZXJzLnB1c2goY3JlYXRlRmlsdGVyKCdwZWFraW5nJywgMTAwMCwgNiwgMSkpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdWLVNoYXBlJzogLy8gU2Nvb3AKICAgICAgICAgICAgZmlsdGVycy5wdXNoKGNyZWF0ZUZpbHRlcignbG93c2hlbGYnLCAxMDAsIDQpKTsKICAgICAgICAgICAgZmlsdGVycy5wdXNoKGNyZWF0ZUZpbHRlcigncGVha2luZycsIDEwMDAsIC02LCAxKSk7CiAgICAgICAgICAgIGZpbHRlcnMucHVzaChjcmVhdGVGaWx0ZXIoJ2hpZ2hzaGVsZicsIDMwMDAsIDQpKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnTG8tRmkgUmFkaW8nOgogICAgICAgICAgICBmaWx0ZXJzLnB1c2goY3JlYXRlRmlsdGVyKCdoaWdocGFzcycsIDIwMCkpOwogICAgICAgICAgICBmaWx0ZXJzLnB1c2goY3JlYXRlRmlsdGVyKCdsb3dwYXNzJywgMjAwMCkpOwogICAgICAgICAgICBmaWx0ZXJzLnB1c2goY3JlYXRlRmlsdGVyKCdwZWFraW5nJywgMTAwMCwgMTAsIDIpKTsgLy8gUmVzb25hbnQgcGVhawogICAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICByZXR1cm4gYnVmZmVyOwogICAgfQogICAgLy8gQ29ubmVjdCBub2RlcwogICAgbGV0IGN1cnJlbnROb2RlID0gc291cmNlOwogICAgZmlsdGVycy5mb3JFYWNoKGYgPT4gewogICAgICAgIGN1cnJlbnROb2RlLmNvbm5lY3QoZik7CiAgICAgICAgY3VycmVudE5vZGUgPSBmOwogICAgfSk7CiAgICBjdXJyZW50Tm9kZS5jb25uZWN0KGN0eC5kZXN0aW5hdGlvbik7CiAgICBzb3VyY2Uuc3RhcnQoKTsKICAgIHJldHVybiBhd2FpdCBjdHguc3RhcnRSZW5kZXJpbmcoKTsKfTsKLy8gLS0tIENvcmUgRWRpdGluZyAtLS0KZXhwb3J0IGNvbnN0IHRyaW1CdWZmZXIgPSAoYnVmZmVyLCBzdGFydCwgZW5kKSA9PiB7CiAgICBjb25zdCBjdHggPSBnZXRBdWRpb0NvbnRleHQoKTsKICAgIGNvbnN0IHJhdGUgPSBidWZmZXIuc2FtcGxlUmF0ZTsKICAgIGNvbnN0IHN0YXJ0T2Zmc2V0ID0gTWF0aC5mbG9vcihzdGFydCAqIHJhdGUpOwogICAgY29uc3QgZW5kT2Zmc2V0ID0gTWF0aC5mbG9vcihlbmQgKiByYXRlKTsKICAgIGNvbnN0IGZyYW1lQ291bnQgPSBlbmRPZmZzZXQgLSBzdGFydE9mZnNldDsKICAgIGlmIChmcmFtZUNvdW50IDw9IDApCiAgICAgICAgcmV0dXJuIGN0eC5jcmVhdGVCdWZmZXIoYnVmZmVyLm51bWJlck9mQ2hhbm5lbHMsIDEsIHJhdGUpOwogICAgY29uc3QgbmV3QnVmZmVyID0gY3R4LmNyZWF0ZUJ1ZmZlcihidWZmZXIubnVtYmVyT2ZDaGFubmVscywgZnJhbWVDb3VudCwgcmF0ZSk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlci5udW1iZXJPZkNoYW5uZWxzOyBpKyspIHsKICAgICAgICBjb25zdCBjaGFuRGF0YSA9IGJ1ZmZlci5nZXRDaGFubmVsRGF0YShpKTsKICAgICAgICBjb25zdCBuZXdDaGFuRGF0YSA9IG5ld0J1ZmZlci5nZXRDaGFubmVsRGF0YShpKTsKICAgICAgICBpZiAoc3RhcnRPZmZzZXQgPj0gMCAmJiBzdGFydE9mZnNldCA8IGNoYW5EYXRhLmxlbmd0aCkgewogICAgICAgICAgICBjb25zdCBzZWdtZW50ID0gY2hhbkRhdGEuc2xpY2Uoc3RhcnRPZmZzZXQsIHN0YXJ0T2Zmc2V0ICsgZnJhbWVDb3VudCk7CiAgICAgICAgICAgIG5ld0NoYW5EYXRhLnNldChzZWdtZW50KTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gbmV3QnVmZmVyOwp9OwpleHBvcnQgY29uc3Qgc3BsaXRCdWZmZXIgPSAoYnVmZmVyLCBzcGxpdFRpbWUpID0+IHsKICAgIGlmIChzcGxpdFRpbWUgPD0gMCB8fCBzcGxpdFRpbWUgPj0gYnVmZmVyLmR1cmF0aW9uKQogICAgICAgIHJldHVybiBudWxsOwogICAgY29uc3QgcGFydDEgPSB0cmltQnVmZmVyKGJ1ZmZlciwgMCwgc3BsaXRUaW1lKTsKICAgIGNvbnN0IHBhcnQyID0gdHJpbUJ1ZmZlcihidWZmZXIsIHNwbGl0VGltZSwgYnVmZmVyLmR1cmF0aW9uKTsKICAgIHJldHVybiBbcGFydDEsIHBhcnQyXTsKfTsKLy8gLS0tIEdlbmVyYXRpb24gLS0tCmV4cG9ydCBjb25zdCBnZW5lcmF0ZURydW1CZWF0ID0gYXN5bmMgKHN0eWxlLCBicG0sIGJhcnMpID0+IHsKICAgIGNvbnN0IHNyID0gREVGQVVMVF9TQU1QTEVfUkFURTsKICAgIGNvbnN0IGJlYXRzID0gQkVBVF9QQVRURVJOU1tzdHlsZV0gfHwgQkVBVF9QQVRURVJOU1snTWV0cm9ub21lJ107CiAgICBjb25zdCBiZWF0TGVuID0gNjAgLyBicG07CiAgICBjb25zdCBzdGVwTGVuID0gYmVhdExlbiAvIDQ7CiAgICBjb25zdCB0b3RhbER1cmF0aW9uID0gYmFycyAqIDQgKiBiZWF0TGVuOwogICAgY29uc3QgY3R4ID0gbmV3IE9mZmxpbmVBdWRpb0NvbnRleHQoMiwgTWF0aC5jZWlsKHRvdGFsRHVyYXRpb24gKiBzciksIHNyKTsKICAgIGNvbnN0IHBhdHRlcm4gPSBiZWF0c1swXTsKICAgIGNvbnN0IGNyZWF0ZVNvdW5kID0gKHR5cGUsIHRpbWUpID0+IHsKICAgICAgICBjb25zdCBvc2MgPSBjdHguY3JlYXRlT3NjaWxsYXRvcigpOwogICAgICAgIGNvbnN0IGdhaW4gPSBjdHguY3JlYXRlR2FpbigpOwogICAgICAgIG9zYy5jb25uZWN0KGdhaW4pOwogICAgICAgIGdhaW4uY29ubmVjdChjdHguZGVzdGluYXRpb24pOwogICAgICAgIGlmICh0eXBlID09PSAxKSB7IC8vIEtpY2sKICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZSgxNTAsIHRpbWUpOwogICAgICAgICAgICBvc2MuZnJlcXVlbmN5LmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgdGltZSArIDAuNSk7CiAgICAgICAgICAgIGdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgxLCB0aW1lKTsKICAgICAgICAgICAgZ2Fpbi5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgdGltZSArIDAuNSk7CiAgICAgICAgICAgIG9zYy5zdGFydCh0aW1lKTsKICAgICAgICAgICAgb3NjLnN0b3AodGltZSArIDAuNSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IDIpIHsgLy8gU25hcmUKICAgICAgICAgICAgb3NjLnR5cGUgPSAndHJpYW5nbGUnOwogICAgICAgICAgICBvc2MuZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKDEwMCwgdGltZSk7CiAgICAgICAgICAgIGdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjgsIHRpbWUpOwogICAgICAgICAgICBnYWluLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAxLCB0aW1lICsgMC4yKTsKICAgICAgICAgICAgb3NjLnN0YXJ0KHRpbWUpOwogICAgICAgICAgICBvc2Muc3RvcCh0aW1lICsgMC4yKTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gMykgeyAvLyBIaUhhdAogICAgICAgICAgICBvc2MudHlwZSA9ICdzcXVhcmUnOwogICAgICAgICAgICBvc2MuZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKDgwMCwgdGltZSk7CiAgICAgICAgICAgIGNvbnN0IGZpbHRlciA9IGN0eC5jcmVhdGVCaXF1YWRGaWx0ZXIoKTsKICAgICAgICAgICAgZmlsdGVyLnR5cGUgPSAnaGlnaHBhc3MnOwogICAgICAgICAgICBmaWx0ZXIuZnJlcXVlbmN5LnZhbHVlID0gNTAwMDsKICAgICAgICAgICAgb3NjLmRpc2Nvbm5lY3QoKTsKICAgICAgICAgICAgb3NjLmNvbm5lY3QoZmlsdGVyKTsKICAgICAgICAgICAgZmlsdGVyLmNvbm5lY3QoZ2Fpbik7CiAgICAgICAgICAgIGdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjMsIHRpbWUpOwogICAgICAgICAgICBnYWluLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAxLCB0aW1lICsgMC4wNSk7CiAgICAgICAgICAgIG9zYy5zdGFydCh0aW1lKTsKICAgICAgICAgICAgb3NjLnN0b3AodGltZSArIDAuMDUpOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmICh0eXBlID09PSA0KSB7IC8vIE1ldHJvIEhpZ2gKICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS52YWx1ZSA9IDEyMDA7CiAgICAgICAgICAgIGdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjUsIHRpbWUpOwogICAgICAgICAgICBnYWluLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAxLCB0aW1lICsgMC4xKTsKICAgICAgICAgICAgb3NjLnN0YXJ0KHRpbWUpOwogICAgICAgICAgICBvc2Muc3RvcCh0aW1lICsgMC4xKTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gNSkgeyAvLyBNZXRybyBMb3cKICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS52YWx1ZSA9IDgwMDsKICAgICAgICAgICAgZ2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKDAuNSwgdGltZSk7CiAgICAgICAgICAgIGdhaW4uZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIHRpbWUgKyAwLjEpOwogICAgICAgICAgICBvc2Muc3RhcnQodGltZSk7CiAgICAgICAgICAgIG9zYy5zdG9wKHRpbWUgKyAwLjEpOwogICAgICAgIH0KICAgIH07CiAgICBmb3IgKGxldCBiID0gMDsgYiA8IGJhcnM7IGIrKykgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykgewogICAgICAgICAgICBjb25zdCBzb3VuZFR5cGUgPSBwYXR0ZXJuW2ldOwogICAgICAgICAgICBpZiAoc291bmRUeXBlID4gMCkgewogICAgICAgICAgICAgICAgY29uc3QgdGltZSA9IChiICogMTYgKyBpKSAqIHN0ZXBMZW47CiAgICAgICAgICAgICAgICBjcmVhdGVTb3VuZChzb3VuZFR5cGUsIHRpbWUpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIGF3YWl0IGN0eC5zdGFydFJlbmRlcmluZygpOwp9OwovLyAtLS0gTWl4aW5nIC0tLQpleHBvcnQgY29uc3QgbWl4VHJhY2tzID0gYXN5bmMgKHRyYWNrcywgZHVyYXRpb24pID0+IHsKICAgIGNvbnN0IGN0eCA9IG5ldyBPZmZsaW5lQXVkaW9Db250ZXh0KDIsIGR1cmF0aW9uICogREVGQVVMVF9TQU1QTEVfUkFURSwgREVGQVVMVF9TQU1QTEVfUkFURSk7CiAgICB0cmFja3MuZm9yRWFjaCh0cmFjayA9PiB7CiAgICAgICAgaWYgKHRyYWNrLmlzTXV0ZWQpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBjb25zdCBzb3VyY2UgPSBjdHguY3JlYXRlQnVmZmVyU291cmNlKCk7CiAgICAgICAgc291cmNlLmJ1ZmZlciA9IHRyYWNrLmJ1ZmZlcjsKICAgICAgICBjb25zdCBnYWluID0gY3R4LmNyZWF0ZUdhaW4oKTsKICAgICAgICBnYWluLmdhaW4udmFsdWUgPSB0cmFjay52b2x1bWU7CiAgICAgICAgc291cmNlLmNvbm5lY3QoZ2Fpbik7CiAgICAgICAgZ2Fpbi5jb25uZWN0KGN0eC5kZXN0aW5hdGlvbik7CiAgICAgICAgLy8gVXNlIHN0YXJ0KHdoZW4sIG9mZnNldCwgZHVyYXRpb24pIHRvIG1peCBzdHJpY3RseSB0aGUgdHJpbW1lZCBwYXJ0CiAgICAgICAgLy8gdHJhY2sudHJpbVN0YXJ0IGlzIHRoZSBvZmZzZXQgaW50byB0aGUgYnVmZmVyCiAgICAgICAgLy8gdHJhY2suZHVyYXRpb24gaXMgaG93IGxvbmcgdG8gcGxheQogICAgICAgIHNvdXJjZS5zdGFydCh0cmFjay5zdGFydFRpbWUsIHRyYWNrLnRyaW1TdGFydCwgdHJhY2suZHVyYXRpb24pOwogICAgfSk7CiAgICByZXR1cm4gYXdhaXQgY3R4LnN0YXJ0UmVuZGVyaW5nKCk7Cn07Ci8qKgogKiBPcHRpbWl6ZWQgV0FWIEVuY29kZXIgdGhhdCByZXR1cm5zIEFycmF5QnVmZmVyIGRpcmVjdGx5CiAqIFNhdmVzIH41MCUgUkFNIGNvbXBhcmVkIHRvIGNyZWF0aW5nIGludGVybWVkaWF0ZSBGbG9hdDMyQXJyYXlzCiAqLwpleHBvcnQgY29uc3QgZW5jb2RlV0FWQnVmZmVyID0gKGJ1ZmZlcikgPT4gewogICAgY29uc3QgbnVtQ2hhbm5lbHMgPSBidWZmZXIubnVtYmVyT2ZDaGFubmVsczsKICAgIGNvbnN0IHNhbXBsZVJhdGUgPSBidWZmZXIuc2FtcGxlUmF0ZTsKICAgIGNvbnN0IGZvcm1hdCA9IDE7IC8vIFBDTQogICAgY29uc3QgYml0RGVwdGggPSAxNjsKICAgIGNvbnN0IGJ5dGVzUGVyU2FtcGxlID0gYml0RGVwdGggLyA4OwogICAgY29uc3QgbGVuZ3RoID0gYnVmZmVyLmxlbmd0aDsKICAgIGNvbnN0IGRhdGFMZW5ndGggPSBsZW5ndGggKiBudW1DaGFubmVscyAqIGJ5dGVzUGVyU2FtcGxlOwogICAgY29uc3QgYnVmZmVyTGVuZ3RoID0gNDQgKyBkYXRhTGVuZ3RoOwogICAgY29uc3QgYXJyYXlCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoYnVmZmVyTGVuZ3RoKTsKICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIpOwogICAgY29uc3Qgd3JpdGVTdHJpbmcgPSAob2Zmc2V0LCBzdHJpbmcpID0+IHsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2aWV3LnNldFVpbnQ4KG9mZnNldCArIGksIHN0cmluZy5jaGFyQ29kZUF0KGkpKTsKICAgICAgICB9CiAgICB9OwogICAgd3JpdGVTdHJpbmcoMCwgJ1JJRkYnKTsKICAgIHZpZXcuc2V0VWludDMyKDQsIDM2ICsgZGF0YUxlbmd0aCwgdHJ1ZSk7CiAgICB3cml0ZVN0cmluZyg4LCAnV0FWRScpOwogICAgd3JpdGVTdHJpbmcoMTIsICdmbXQgJyk7CiAgICB2aWV3LnNldFVpbnQzMigxNiwgMTYsIHRydWUpOwogICAgdmlldy5zZXRVaW50MTYoMjAsIGZvcm1hdCwgdHJ1ZSk7CiAgICB2aWV3LnNldFVpbnQxNigyMiwgbnVtQ2hhbm5lbHMsIHRydWUpOwogICAgdmlldy5zZXRVaW50MzIoMjQsIHNhbXBsZVJhdGUsIHRydWUpOwogICAgdmlldy5zZXRVaW50MzIoMjgsIHNhbXBsZVJhdGUgKiBudW1DaGFubmVscyAqIGJ5dGVzUGVyU2FtcGxlLCB0cnVlKTsKICAgIHZpZXcuc2V0VWludDE2KDMyLCBudW1DaGFubmVscyAqIGJ5dGVzUGVyU2FtcGxlLCB0cnVlKTsKICAgIHZpZXcuc2V0VWludDE2KDM0LCBiaXREZXB0aCwgdHJ1ZSk7CiAgICB3cml0ZVN0cmluZygzNiwgJ2RhdGEnKTsKICAgIHZpZXcuc2V0VWludDMyKDQwLCBkYXRhTGVuZ3RoLCB0cnVlKTsKICAgIGxldCBvZmZzZXQgPSA0NDsKICAgIC8vIFJlYWQgZGlyZWN0bHkgZnJvbSBjaGFubmVscyB0byBhdm9pZCBjcmVhdGluZyBsYXJnZSBpbnRlcmxlYXZlZCBidWZmZXIKICAgIGNvbnN0IGNoYW5uZWxzID0gW107CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUNoYW5uZWxzOyBpKyspIHsKICAgICAgICBjaGFubmVscy5wdXNoKGJ1ZmZlci5nZXRDaGFubmVsRGF0YShpKSk7CiAgICB9CiAgICAvLyBJbnRlcmxlYXZlIGFuZCBXcml0ZQogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgIGZvciAobGV0IGNoID0gMDsgY2ggPCBudW1DaGFubmVsczsgY2grKykgewogICAgICAgICAgICBjb25zdCBzYW1wbGUgPSBjaGFubmVsc1tjaF1baV07CiAgICAgICAgICAgIC8vIENsYW1wIGFuZCBzY2FsZQogICAgICAgICAgICBjb25zdCBzID0gTWF0aC5tYXgoLTEsIE1hdGgubWluKDEsIHNhbXBsZSkpOwogICAgICAgICAgICAvLyBDb252ZXJ0IHRvIDE2LWJpdCBQQ00KICAgICAgICAgICAgdmlldy5zZXRJbnQxNihvZmZzZXQsIHMgPCAwID8gcyAqIDB4ODAwMCA6IHMgKiAweDdGRkYsIHRydWUpOwogICAgICAgICAgICBvZmZzZXQgKz0gMjsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gYXJyYXlCdWZmZXI7Cn07CmV4cG9ydCBjb25zdCBlbmNvZGVXQVYgPSAoYnVmZmVyKSA9PiB7CiAgICByZXR1cm4gbmV3IEJsb2IoW2VuY29kZVdBVkJ1ZmZlcihidWZmZXIpXSwgeyB0eXBlOiAnYXVkaW8vd2F2JyB9KTsKfTsKLyoqCiAqIE1QMyBFbmNvZGVyIHVzaW5nIGxhbWVqcwogKi8KZXhwb3J0IGNvbnN0IGVuY29kZU1QMyA9IChidWZmZXIpID0+IHsKICAgIGNvbnN0IGxhbWUgPSB3aW5kb3cubGFtZWpzOwogICAgaWYgKCFsYW1lKQogICAgICAgIHRocm93IG5ldyBFcnJvcigiTVAzIEVuY29kZXIgbm90IGxvYWRlZCIpOwogICAgY29uc3QgY2hhbm5lbHMgPSBidWZmZXIubnVtYmVyT2ZDaGFubmVsczsKICAgIGNvbnN0IHNhbXBsZVJhdGUgPSBidWZmZXIuc2FtcGxlUmF0ZTsKICAgIGNvbnN0IGticHMgPSAxMjg7CiAgICAvLyBDcmVhdGUgRW5jb2RlcgogICAgY29uc3QgbXAzRW5jb2RlciA9IG5ldyBsYW1lLk1wM0VuY29kZXIoY2hhbm5lbHMsIHNhbXBsZVJhdGUsIGticHMpOwogICAgLy8gR2V0IERhdGEKICAgIGNvbnN0IHNhbXBsZXNMID0gYnVmZmVyLmdldENoYW5uZWxEYXRhKDApOwogICAgY29uc3Qgc2FtcGxlc1IgPSBjaGFubmVscyA+IDEgPyBidWZmZXIuZ2V0Q2hhbm5lbERhdGEoMSkgOiB1bmRlZmluZWQ7CiAgICAvLyBDb252ZXJ0IEZsb2F0MzIgWy0xLCAxXSB0byBJbnQxNiBbLTMyNzY4LCAzMjc2N10KICAgIGNvbnN0IGNvbnZlcnRUb0ludDE2ID0gKGRhdGEpID0+IHsKICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgSW50MTZBcnJheShkYXRhLmxlbmd0aCk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IHMgPSBNYXRoLm1heCgtMSwgTWF0aC5taW4oMSwgZGF0YVtpXSkpOwogICAgICAgICAgICByZXN1bHRbaV0gPSBzIDwgMCA/IHMgKiAweDgwMDAgOiBzICogMHg3RkZGOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfTsKICAgIGNvbnN0IGludDE2TCA9IGNvbnZlcnRUb0ludDE2KHNhbXBsZXNMKTsKICAgIGNvbnN0IGludDE2UiA9IHNhbXBsZXNSID8gY29udmVydFRvSW50MTYoc2FtcGxlc1IpIDogdW5kZWZpbmVkOwogICAgY29uc3QgbXAzRGF0YSA9IFtdOwogICAgLy8gRW5jb2RlCiAgICBjb25zdCBtcDNidWYgPSBtcDNFbmNvZGVyLmVuY29kZUJ1ZmZlcihpbnQxNkwsIGludDE2Uik7CiAgICBpZiAobXAzYnVmLmxlbmd0aCA+IDApCiAgICAgICAgbXAzRGF0YS5wdXNoKG1wM2J1Zik7CiAgICAvLyBGbHVzaAogICAgY29uc3QgZmx1c2ggPSBtcDNFbmNvZGVyLmZsdXNoKCk7CiAgICBpZiAoZmx1c2gubGVuZ3RoID4gMCkKICAgICAgICBtcDNEYXRhLnB1c2goZmx1c2gpOwogICAgcmV0dXJuIG5ldyBCbG9iKG1wM0RhdGEsIHsgdHlwZTogJ2F1ZGlvL21wMycgfSk7Cn07Cg==","@/services/geminiService":"data:application/javascript;base64,Ly8gTGVnYWN5IGNvZGUgcmVtb3ZlZCBmb3Igc3RhYmlsaXR5Cg==","@/components/Button":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmNvbnN0IEJ1dHRvbiA9ICh7IHZhcmlhbnQgPSAncHJpbWFyeScsIGljb24sIGxhYmVsLCBmdWxsV2lkdGggPSBmYWxzZSwgY2xhc3NOYW1lID0gJycsIGNoaWxkcmVuLCAuLi5wcm9wcyB9KSA9PiB7CiAgICBjb25zdCBiYXNlU3R5bGVzID0gImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweC00IHB5LTMgcm91bmRlZC14bCBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWFsbCBhY3RpdmU6c2NhbGUtOTUgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIHRvdWNoLW1hbmlwdWxhdGlvbiI7CiAgICBjb25zdCB2YXJpYW50cyA9IHsKICAgICAgICBwcmltYXJ5OiAiYmctY3lhbi01MDAgaG92ZXI6YmctY3lhbi00MDAgdGV4dC1ibGFjayBzaGFkb3ctbGcgc2hhZG93LWN5YW4tNTAwLzIwIiwKICAgICAgICBzZWNvbmRhcnk6ICJiZy16aW5jLTgwMCBob3ZlcjpiZy16aW5jLTcwMCB0ZXh0LXppbmMtMTAwIGJvcmRlciBib3JkZXItemluYy03MDAiLAogICAgICAgIGRhbmdlcjogImJnLXJlZC01MDAvMTAgaG92ZXI6YmctcmVkLTUwMC8yMCB0ZXh0LXJlZC00MDAgYm9yZGVyIGJvcmRlci1yZWQtNTAwLzUwIiwKICAgICAgICBnaG9zdDogImJnLXRyYW5zcGFyZW50IGhvdmVyOmJnLXppbmMtODAwLzUwIHRleHQtemluYy00MDAgaG92ZXI6dGV4dC16aW5jLTIwMCIKICAgIH07CiAgICBjb25zdCB3aWR0aENsYXNzID0gZnVsbFdpZHRoID8gJ3ctZnVsbCcgOiAnJzsKICAgIHJldHVybiAoX2pzeHMoImJ1dHRvbiIsIHsgY2xhc3NOYW1lOiBgJHtiYXNlU3R5bGVzfSAke3ZhcmlhbnRzW3ZhcmlhbnRdfSAke3dpZHRoQ2xhc3N9ICR7Y2xhc3NOYW1lfWAsIC4uLnByb3BzLCBjaGlsZHJlbjogW2ljb24gJiYgX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiBsYWJlbCB8fCBjaGlsZHJlbiA/ICJtci0yIiA6ICIiLCBjaGlsZHJlbjogaWNvbiB9KSwgbGFiZWwgfHwgY2hpbGRyZW5dIH0pKTsKfTsKZXhwb3J0IGRlZmF1bHQgQnV0dG9uOwo=","@/components/WaveformDisplay":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCwgeyB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgU0VMRUNUSU9OX0NPTE9SIH0gZnJvbSAnQC9jb25zdGFudHMnOwpjb25zdCBkYXJrZW5Db2xvciA9IChoZXgsIHBlcmNlbnQpID0+IHsKICAgIGxldCBudW0gPSBwYXJzZUludChoZXgucmVwbGFjZSgiIyIsICIiKSwgMTYpLCBhbXQgPSBNYXRoLnJvdW5kKDIuNTUgKiBwZXJjZW50KSwgUiA9IChudW0gPj4gMTYpIC0gYW10LCBHID0gKG51bSA+PiA4ICYgMHgwMEZGKSAtIGFtdCwgQiA9IChudW0gJiAweDAwMDBGRikgLSBhbXQ7CiAgICByZXR1cm4gIiMiICsgKDB4MTAwMDAwMCArIChSIDwgMjU1ID8gUiA8IDEgPyAwIDogUiA6IDI1NSkgKiAweDEwMDAwICsgKEcgPCAyNTUgPyBHIDwgMSA/IDAgOiBHIDogMjU1KSAqIDB4MTAwICsgKEIgPCAyNTUgPyBCIDwgMSA/IDAgOiBCIDogMjU1KSkudG9TdHJpbmcoMTYpLnNsaWNlKDEpOwp9Owpjb25zdCBXYXZlZm9ybURpc3BsYXkgPSAoeyBidWZmZXIsIGN1cnJlbnRUaW1lLCBzdGFydFRpbWUsIHRyaW1TdGFydCwgZHVyYXRpb24sIHNlbGVjdGlvbiwgY29sb3IsIHpvb20sIG9uU2VsZWN0aW9uQ2hhbmdlLCBjb2xvck92ZXJyaWRlLCBmYWRlSW5EdXJhdGlvbiA9IDAsIGZhZGVPdXREdXJhdGlvbiA9IDAgfSkgPT4gewogICAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmKG51bGwpOwogICAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmKG51bGwpOwogICAgLy8gQ29tcHV0ZWQgZGltZW5zaW9ucyBiYXNlZCBvbiB6b29tIGFuZCB2aXNpYmxlIGR1cmF0aW9uCiAgICBjb25zdCB3aWR0aCA9IE1hdGgubWF4KDEsIE1hdGguY2VpbChkdXJhdGlvbiAqIHpvb20pKTsKICAgIGNvbnN0IGhlaWdodCA9IDgwOwogICAgLy8gRHJhdyBsb29wCiAgICB1c2VFZmZlY3QoKCkgPT4gewogICAgICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50OwogICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcz8uZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgICBpZiAoIWNhbnZhcyB8fCAhY3R4IHx8ICFidWZmZXIpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAvLyBSZXNldCBjYW52YXMgZGltZW5zaW9ucyBmb3IgaGlnaCBEUEkKICAgICAgICBjb25zdCBkcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxOwogICAgICAgIGlmIChjYW52YXMud2lkdGggIT09IHdpZHRoICogZHByIHx8IGNhbnZhcy5oZWlnaHQgIT09IGhlaWdodCAqIGRwcikgewogICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aCAqIGRwcjsKICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodCAqIGRwcjsKICAgICAgICAgICAgY3R4LnNjYWxlKGRwciwgZHByKTsKICAgICAgICB9CiAgICAgICAgLy8gQ2xlYXIKICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpOwogICAgICAgIC8vIERyYXcgV2F2ZWZvcm0gLSBTbGljZSBsb2dpYwogICAgICAgIGNvbnN0IGRhdGEgPSBidWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7CiAgICAgICAgLy8gV2Ugb25seSByZW5kZXIgcGl4ZWxzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHRyaW1tZWQgc2VjdGlvbgogICAgICAgIGNvbnN0IHN0YXJ0U2FtcGxlID0gTWF0aC5mbG9vcih0cmltU3RhcnQgKiBidWZmZXIuc2FtcGxlUmF0ZSk7CiAgICAgICAgY29uc3QgdmlzaWJsZVNhbXBsZXMgPSBNYXRoLmZsb29yKGR1cmF0aW9uICogYnVmZmVyLnNhbXBsZVJhdGUpOwogICAgICAgIC8vIFN0ZXAgc2l6ZTogSG93IG1hbnkgc2FtcGxlcyBwZXIgcGl4ZWwKICAgICAgICBjb25zdCBzdGVwID0gTWF0aC5jZWlsKHZpc2libGVTYW1wbGVzIC8gd2lkdGgpOwogICAgICAgIGNvbnN0IGFtcCA9IGhlaWdodCAvIDI7CiAgICAgICAgaWYgKGNvbG9yT3ZlcnJpZGUpIHsKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yT3ZlcnJpZGU7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgZ3JhZGllbnQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoMCwgMCwgMCwgaGVpZ2h0KTsKICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgwLCBjb2xvcik7CiAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMSwgZGFya2VuQ29sb3IoY29sb3IsIDQwKSk7CiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZ3JhZGllbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3aWR0aDsgaSsrKSB7CiAgICAgICAgICAgIC8vIFRpbWUgcmVsYXRpdmUgdG8gdGhlIFNUQVJUIG9mIHRoZSB2aXNpYmxlIGNsaXAKICAgICAgICAgICAgY29uc3QgdCA9IGkgLyB6b29tOwogICAgICAgICAgICBsZXQgbWluID0gMS4wOwogICAgICAgICAgICBsZXQgbWF4ID0gLTEuMDsKICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGluZGV4IHJlbGF0aXZlIHRvIHRoZSB0cmltU3RhcnQKICAgICAgICAgICAgY29uc3QgZGF0YUluZGV4ID0gc3RhcnRTYW1wbGUgKyBNYXRoLmZsb29yKGkgKiBzdGVwKTsKICAgICAgICAgICAgaWYgKGRhdGFJbmRleCA+PSBkYXRhLmxlbmd0aCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAvLyBTYW1wbGluZwogICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHN0ZXA7IGorKykgewogICAgICAgICAgICAgICAgaWYgKGRhdGFJbmRleCArIGogPj0gZGF0YS5sZW5ndGgpCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjb25zdCBkYXR1bSA9IGRhdGFbZGF0YUluZGV4ICsgal07CiAgICAgICAgICAgICAgICBpZiAoZGF0dW0gPCBtaW4pCiAgICAgICAgICAgICAgICAgICAgbWluID0gZGF0dW07CiAgICAgICAgICAgICAgICBpZiAoZGF0dW0gPiBtYXgpCiAgICAgICAgICAgICAgICAgICAgbWF4ID0gZGF0dW07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG1pbiA9PT0gMS4wICYmIG1heCA9PT0gLTEuMCkgewogICAgICAgICAgICAgICAgbWluID0gMDsKICAgICAgICAgICAgICAgIG1heCA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gQXBwbHkgVmlzdWFsIEdhaW4gZm9yIEZhZGVzCiAgICAgICAgICAgIGxldCBnYWluID0gMS4wOwogICAgICAgICAgICAvLyBGYWRlIEluCiAgICAgICAgICAgIGlmIChmYWRlSW5EdXJhdGlvbiA+IDAgJiYgdCA8IGZhZGVJbkR1cmF0aW9uKSB7CiAgICAgICAgICAgICAgICBnYWluICo9ICh0IC8gZmFkZUluRHVyYXRpb24pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIEZhZGUgT3V0CiAgICAgICAgICAgIGlmIChmYWRlT3V0RHVyYXRpb24gPiAwICYmIHQgPiAoZHVyYXRpb24gLSBmYWRlT3V0RHVyYXRpb24pKSB7CiAgICAgICAgICAgICAgICBjb25zdCB0aW1lRnJvbUVuZCA9IGR1cmF0aW9uIC0gdDsKICAgICAgICAgICAgICAgIGdhaW4gKj0gKHRpbWVGcm9tRW5kIC8gZmFkZU91dER1cmF0aW9uKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBDbGFtcCBnYWluCiAgICAgICAgICAgIGdhaW4gPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBnYWluKSk7CiAgICAgICAgICAgIG1pbiAqPSBnYWluOwogICAgICAgICAgICBtYXggKj0gZ2FpbjsKICAgICAgICAgICAgY3R4LmZpbGxSZWN0KGksICgxICsgbWluKSAqIGFtcCwgMSwgTWF0aC5tYXgoMSwgKG1heCAtIG1pbikgKiBhbXApKTsKICAgICAgICB9CiAgICAgICAgLy8gRHJhdyBTZWxlY3Rpb24KICAgICAgICBpZiAoc2VsZWN0aW9uKSB7CiAgICAgICAgICAgIGNvbnN0IHRyYWNrRW5kID0gc3RhcnRUaW1lICsgZHVyYXRpb247CiAgICAgICAgICAgIGlmIChzZWxlY3Rpb24uZW5kID4gc3RhcnRUaW1lICYmIHNlbGVjdGlvbi5zdGFydCA8IHRyYWNrRW5kKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZVN0YXJ0ID0gTWF0aC5tYXgoMCwgc2VsZWN0aW9uLnN0YXJ0IC0gc3RhcnRUaW1lKTsKICAgICAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlRW5kID0gTWF0aC5taW4oZHVyYXRpb24sIHNlbGVjdGlvbi5lbmQgLSBzdGFydFRpbWUpOwogICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRQeCA9IHJlbGF0aXZlU3RhcnQgKiB6b29tOwogICAgICAgICAgICAgICAgY29uc3QgZW5kUHggPSByZWxhdGl2ZUVuZCAqIHpvb207CiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gU0VMRUNUSU9OX0NPTE9SOwogICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHN0YXJ0UHgsIDAsIGVuZFB4IC0gc3RhcnRQeCwgaGVpZ2h0KTsKICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2ZmZic7CiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3Qoc3RhcnRQeCwgMCwgMSwgaGVpZ2h0KTsKICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdChlbmRQeCwgMCwgMSwgaGVpZ2h0KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sIFtidWZmZXIsIHN0YXJ0VGltZSwgdHJpbVN0YXJ0LCBkdXJhdGlvbiwgc2VsZWN0aW9uLCB3aWR0aCwgaGVpZ2h0LCBjb2xvciwgem9vbSwgY29sb3JPdmVycmlkZSwgZmFkZUluRHVyYXRpb24sIGZhZGVPdXREdXJhdGlvbl0pOwogICAgcmV0dXJuIChfanN4KCJkaXYiLCB7IHJlZjogY29udGFpbmVyUmVmLCBzdHlsZTogeyB3aWR0aDogYCR7d2lkdGh9cHhgLCBoZWlnaHQ6IGAke2hlaWdodH1weGAgfSwgY2xhc3NOYW1lOiBgcmVsYXRpdmUgc2hyaW5rLTAgcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW4gJHtjb2xvck92ZXJyaWRlID8gJycgOiAncmluZy0xIHJpbmctd2hpdGUvNSd9YCwgY2hpbGRyZW46IF9qc3goImNhbnZhcyIsIHsgcmVmOiBjYW52YXNSZWYsIHN0eWxlOiB7IHdpZHRoOiAnMTAwJScsIGhlaWdodDogJzEwMCUnIH0gfSkgfSkpOwp9OwpleHBvcnQgZGVmYXVsdCBXYXZlZm9ybURpc3BsYXk7Cg==","@/components/AIGeneratorModal":"data:application/javascript;base64,Ly8gTGVnYWN5IGNvZGUgcmVtb3ZlZCBmb3Igc3RhYmlsaXR5Cg==","@/App":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMsIEZyYWdtZW50IGFzIF9GcmFnbWVudCB9IGZyb20gInJlYWN0L2pzeC1ydW50aW1lIjsKaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2ssIHVzZUxheW91dEVmZmVjdCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IFdhdmVmb3JtRGlzcGxheSBmcm9tICdAL2NvbXBvbmVudHMvV2F2ZWZvcm1EaXNwbGF5JzsKaW1wb3J0IEJ1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvQnV0dG9uJzsKaW1wb3J0IEJlYXRNYWtlck1vZGFsIGZyb20gJ0AvY29tcG9uZW50cy9CZWF0TWFrZXJNb2RhbCc7CmltcG9ydCBFZmZlY3RzTW9kYWwgZnJvbSAnQC9jb21wb25lbnRzL0VmZmVjdHNNb2RhbCc7CmltcG9ydCBFeHBvcnRNb2RhbCBmcm9tICdAL2NvbXBvbmVudHMvRXhwb3J0TW9kYWwnOwppbXBvcnQgeyBnZXRBdWRpb0NvbnRleHQsIGRlY29kZUF1ZGlvRGF0YSwgZW5jb2RlV0FWLCBlbmNvZGVNUDMsIGFwcGx5RmFkZSwgbWVyZ2VCdWZmZXJzLCBjaGFuZ2VTcGVlZCwgcmV2ZXJzZUJ1ZmZlciwgbm9ybWFsaXplQnVmZmVyLCByZXNhbXBsZUJ1ZmZlciwgYXBwbHlFUSwgbWl4VHJhY2tzLCBnZW5lcmF0ZVByb2plY3RQcmV2aWV3LCBkZXRlY3RCUE0gfSBmcm9tICdAL3NlcnZpY2VzL2F1ZGlvVXRpbHMnOwppbXBvcnQgeyBzYXZlUHJvamVjdCwgbG9hZFByb2plY3RzLCBsb2FkUHJvamVjdFRyYWNrcywgZGVsZXRlUHJvamVjdCwgdXBkYXRlUHJvamVjdE5hbWUgfSBmcm9tICdAL3NlcnZpY2VzL3N0b3JhZ2VTZXJ2aWNlJzsKaW1wb3J0IHsgQXBwU3RhdGUgfSBmcm9tICdAL3R5cGVzJzsKaW1wb3J0IHsgREVGQVVMVF9aT09NLCBNQVhfWk9PTSwgTUlOX1pPT00sIFRSQUNLX0NPTE9SUywgTEFORV9IRUlHSFQsIFNOQVBfVEhSRVNIT0xEX1BYIH0gZnJvbSAnQC9jb25zdGFudHMnOwovLyBJY29ucwpjb25zdCBQbGF5SWNvbiA9ICgpID0+IF9qc3goInN2ZyIsIHsgY2xhc3NOYW1lOiAidy04IGgtOCB0cmFuc2xhdGUteC0wLjUiLCBmaWxsOiAiY3VycmVudENvbG9yIiwgdmlld0JveDogIjAgMCAyNCAyNCIsIGNoaWxkcmVuOiBfanN4KCJwYXRoIiwgeyBkOiAiTTggNXYxNGwxMS03eiIgfSkgfSk7CmNvbnN0IFBhdXNlSWNvbiA9ICgpID0+IF9qc3goInN2ZyIsIHsgY2xhc3NOYW1lOiAidy04IGgtOCIsIGZpbGw6ICJjdXJyZW50Q29sb3IiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IGQ6ICJNNiAxOWg0VjVINnYxNHptOC0xNHYxNGg0VjVoLTR6IiB9KSB9KTsKY29uc3QgU2Npc3NvcnNJY29uID0gKCkgPT4gX2pzeCgic3ZnIiwgeyBjbGFzc05hbWU6ICJ3LTUgaC01IC1yb3RhdGUtOTAiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNMTQuMTIxIDE0LjEyMUwxOSAxOW0tNy03bDctN20tNyA3bC0yLjg3OSAyLjg3OU0xMiAxMkw5LjEyMSA5LjEyMW0wIDUuNzU4YTMgMyAwIDEwLTQuMjQzIDQuMjQzIDMgMyAwIDAwNC4yNDMtNC4yNDN6bTAtNS43NThhMyAzIDAgMTAtNC4yNDMtNC4yNDMgMyAzIDAgMDA0LjI0MyA0LjI0M3oiIH0pIH0pOwpjb25zdCBJT1NDcm9wSWNvbiA9ICgpID0+IF9qc3goInN2ZyIsIHsgY2xhc3NOYW1lOiAidy01IGgtNSIsIGZpbGw6ICJjdXJyZW50Q29sb3IiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IGQ6ICJNMTcgMTVoMlY3YzAtMS4xLS45LTItMi0ySDl2Mmg4djh6TTcgMTdWMUg1djRIMXYyaDR2MTBjMCAxLjEuOSAyIDIgMmgxMHY0aDJ2LTRoNHYtMkg3eiIgfSkgfSk7CmNvbnN0IFNoYXJlRXhwb3J0SWNvbiA9ICgpID0+IF9qc3goInN2ZyIsIHsgY2xhc3NOYW1lOiAidy01IGgtNSIsIGZpbGw6ICJub25lIiwgc3Ryb2tlOiAiY3VycmVudENvbG9yIiwgc3Ryb2tlV2lkdGg6ICIyIiwgdmlld0JveDogIjAgMCAyNCAyNCIsIGNoaWxkcmVuOiBfanN4KCJwYXRoIiwgeyBzdHJva2VMaW5lY2FwOiAicm91bmQiLCBzdHJva2VMaW5lam9pbjogInJvdW5kIiwgZDogIk0zIDE2LjV2Mi4yNUEyLjI1IDIuMjUgMCAwMDUuMjUgMjFoMTMuNUEyLjI1IDIuMjUgMCAwMDIxIDE4Ljc1VjE2LjVtLTEzLjUtOUwxMiAzbTAgMGw0LjUgNC41TTEyIDN2MTMuNSIgfSkgfSk7CmNvbnN0IFVwbG9hZEljb24gPSAoKSA9PiBfanN4KCJzdmciLCB7IGNsYXNzTmFtZTogInctNiBoLTYiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNOSAxOVY2bDEyLTN2MTNNOSAxOWMwIDEuMTA1LTEuMzQzIDItMyAycy0zLS44OTUtMy0yIDEuMzQzLTIgMy0yIDMgLjg5NSAzIDJ6bTEyLTNjMCAxLjEwNS0xLjM0MyAyLTMgMnMtMy0uODk1LTMtMiAxLjM0My0yIDMtMiAzIC44OTUgMyAyek05IDEwbDEyLTMiIH0pIH0pOwpjb25zdCBGeEljb24gPSAoKSA9PiBfanN4cygic3ZnIiwgeyBjbGFzc05hbWU6ICJ3LTUgaC01IiwgZmlsbDogIm5vbmUiLCBzdHJva2U6ICJjdXJyZW50Q29sb3IiLCBzdHJva2VXaWR0aDogIjIiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IFtfanN4KCJwYXRoIiwgeyBzdHJva2VMaW5lY2FwOiAicm91bmQiLCBzdHJva2VMaW5lam9pbjogInJvdW5kIiwgZDogIk0xMC41IDZhNy41IDcuNSAwIDEwNy41IDcuNWgtNy41VjZ6IiB9KSwgX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNMTMuNSAxMC41SDIxQTcuNSA3LjUgMCAwMDEzLjUgM3Y3LjV6IiB9KV0gfSk7CmNvbnN0IFVuZG9JY29uID0gKCkgPT4gX2pzeCgic3ZnIiwgeyBjbGFzc05hbWU6ICJ3LTUgaC01IiwgZmlsbDogIm5vbmUiLCBzdHJva2U6ICJjdXJyZW50Q29sb3IiLCBzdHJva2VXaWR0aDogIjIiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IHN0cm9rZUxpbmVjYXA6ICJyb3VuZCIsIHN0cm9rZUxpbmVqb2luOiAicm91bmQiLCBkOiAiTTMgMTBoMTBhOCA4IDAgMDE4IDh2Mk0zIDEwbDYgNm0tNi02bDYtNiIgfSkgfSk7CmNvbnN0IFRyYXNoSWNvbiA9ICh7IGNsYXNzTmFtZSA9ICJ3LTQgaC00IiB9KSA9PiBfanN4KCJzdmciLCB7IGNsYXNzTmFtZTogY2xhc3NOYW1lLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNMTkgN2wtLjg2NyAxMi4xNDJBMiAyIDAgMDExNi4xMzggMjFINy44NjJhMiAyIDAgMDEtMS45OTUtMS44NThMNSA3bTUgNHY2bTQtNnY2bTEtMTBWNGExIDEgMCAwMC0xLTFoLTRhMSAxIDAgMDAtMSAxdjNNNCA3aDE2IiB9KSB9KTsKY29uc3QgWm9vbUluSWNvbiA9ICgpID0+IF9qc3goInN2ZyIsIHsgY2xhc3NOYW1lOiAidy00IGgtNCIsIGZpbGw6ICJub25lIiwgc3Ryb2tlOiAiY3VycmVudENvbG9yIiwgc3Ryb2tlV2lkdGg6ICIyIiwgdmlld0JveDogIjAgMCAyNCAyNCIsIGNoaWxkcmVuOiBfanN4KCJwYXRoIiwgeyBzdHJva2VMaW5lY2FwOiAicm91bmQiLCBzdHJva2VMaW5lam9pbjogInJvdW5kIiwgZDogIk0yMSAyMWwtNi02bTItNWE3IDcgMCAxMS0xNCAwIDcgNyAwIDAxMTQgMHpNMTAgN3YzbTAgMHYzbTAtM2gzbS0zIDBINyIgfSkgfSk7CmNvbnN0IFpvb21PdXRJY29uID0gKCkgPT4gX2pzeCgic3ZnIiwgeyBjbGFzc05hbWU6ICJ3LTQgaC00IiwgZmlsbDogIm5vbmUiLCBzdHJva2U6ICJjdXJyZW50Q29sb3IiLCBzdHJva2VXaWR0aDogIjIiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IHN0cm9rZUxpbmVjYXA6ICJyb3VuZCIsIHN0cm9rZUxpbmVqb2luOiAicm91bmQiLCBkOiAiTTIxIDIxbC02LTZtMi01YTcgNyAwIDExLTE0IDAgNyA3IDAgMDExNCAwek0xMyAxMEg3IiB9KSB9KTsKY29uc3QgRHJ1bUljb24gPSAoKSA9PiBfanN4KCJzdmciLCB7IGNsYXNzTmFtZTogInctNiBoLTYiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNNSAyMGgxNGEyIDIgMCAwMTIgMnYxSDN2LTFhMiAyIDAgMDEyLTJ6bTAtNmgxNGwxLjUgNUgzLjVMNSAxNHptMC05YTMgMyAwIDAxNiAwdjJINVY1em04IDBhMyAzIDAgMDE2IDB2MmgtNlY1eiIgfSkgfSk7CmNvbnN0IENoZXZyb25MZWZ0SWNvbiA9ICgpID0+IF9qc3goInN2ZyIsIHsgY2xhc3NOYW1lOiAidy00IGgtNCB0ZXh0LWJsYWNrIiwgZmlsbDogIm5vbmUiLCBzdHJva2U6ICJjdXJyZW50Q29sb3IiLCBzdHJva2VXaWR0aDogIjMiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IHN0cm9rZUxpbmVjYXA6ICJyb3VuZCIsIHN0cm9rZUxpbmVqb2luOiAicm91bmQiLCBkOiAiTTE1IDE5bC03LTcgNy03IiB9KSB9KTsKY29uc3QgQ2hldnJvblJpZ2h0SWNvbiA9ICgpID0+IF9qc3goInN2ZyIsIHsgY2xhc3NOYW1lOiAidy00IGgtNCB0ZXh0LWJsYWNrIiwgZmlsbDogIm5vbmUiLCBzdHJva2U6ICJjdXJyZW50Q29sb3IiLCBzdHJva2VXaWR0aDogIjMiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IHN0cm9rZUxpbmVjYXA6ICJyb3VuZCIsIHN0cm9rZUxpbmVqb2luOiAicm91bmQiLCBkOiAiTTkgNWw3IDctNyA3IiB9KSB9KTsKY29uc3QgTWljSWNvbiA9ICgpID0+IF9qc3goInN2ZyIsIHsgY2xhc3NOYW1lOiAidy02IGgtNiIsIGZpbGw6ICJub25lIiwgc3Ryb2tlOiAiY3VycmVudENvbG9yIiwgc3Ryb2tlV2lkdGg6ICIyIiwgdmlld0JveDogIjAgMCAyNCAyNCIsIGNoaWxkcmVuOiBfanN4KCJwYXRoIiwgeyBzdHJva2VMaW5lY2FwOiAicm91bmQiLCBzdHJva2VMaW5lam9pbjogInJvdW5kIiwgZDogIk0xOSAxMWE3IDcgMCAwMS03IDdtMCAwYTcgNyAwIDAxLTctN203IDd2NG0wIDBIOG00IDBoNG0tNC04YTMgMyAwIDAxLTMtM1Y1YTMgMyAwIDExNiAwdjZhMyAzIDAgMDEtMyAzeiIgfSkgfSk7CmNvbnN0IFN0b3BSZWNJY29uID0gKCkgPT4gX2pzeCgic3ZnIiwgeyBjbGFzc05hbWU6ICJ3LTYgaC02IHRleHQtcmVkLTUwMCIsIGZpbGw6ICJjdXJyZW50Q29sb3IiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IF9qc3goInJlY3QiLCB7IHg6ICI2IiwgeTogIjYiLCB3aWR0aDogIjEyIiwgaGVpZ2h0OiAiMTIiLCByeDogIjIiIH0pIH0pOwpjb25zdCBMaWJyYXJ5SWNvbiA9ICgpID0+IF9qc3goInN2ZyIsIHsgY2xhc3NOYW1lOiAidy02IGgtNiIsIGZpbGw6ICJub25lIiwgc3Ryb2tlOiAiY3VycmVudENvbG9yIiwgc3Ryb2tlV2lkdGg6ICIyIiwgdmlld0JveDogIjAgMCAyNCAyNCIsIGNoaWxkcmVuOiBfanN4KCJwYXRoIiwgeyBzdHJva2VMaW5lY2FwOiAicm91bmQiLCBzdHJva2VMaW5lam9pbjogInJvdW5kIiwgZDogIk0xMiA2LjI1M3YxM20wLTEzQzEwLjgzMiA1LjQ3NyA5LjI0NiA1IDcuNSA1UzQuMTY4IDUuNDc3IDMgNi4yNTN2MTNDNC4xNjggMTguNDc3IDUuNzU0IDE4IDcuNSAxOHMzLjMzMi40NzcgNC41IDEuMjUzbTAtMTNDMTMuMTY4IDUuNDc3IDE0Ljc1NCA1IDE2LjUgNWMxLjc0NyAwIDMuMzMyLjQ3NyA0LjUgMS4yNTN2MTNDMTkuODMyIDE4LjQ3NyAxOC4yNDcgMTggMTYuNSAxOGMtMS43NDYgMC0zLjMzMi40NzctNC41IDEuMjUzIiB9KSB9KTsKY29uc3QgUGVuY2lsSWNvbiA9ICgpID0+IF9qc3goInN2ZyIsIHsgY2xhc3NOYW1lOiAidy00IGgtNCIsIGZpbGw6ICJub25lIiwgc3Ryb2tlOiAiY3VycmVudENvbG9yIiwgc3Ryb2tlV2lkdGg6ICIyIiwgdmlld0JveDogIjAgMCAyNCAyNCIsIGNoaWxkcmVuOiBfanN4KCJwYXRoIiwgeyBzdHJva2VMaW5lY2FwOiAicm91bmQiLCBzdHJva2VMaW5lam9pbjogInJvdW5kIiwgZDogIk0xNS4yMzIgNS4yMzJsMy41MzYgMy41MzZtLTIuMDM2LTUuMDM2YTIuNSAyLjUgMCAxMTMuNTM2IDMuNTM2TDYuNSAyMS4wMzZIM3YtMy41NzJMMTYuNzMyIDMuNzMyeiIgfSkgfSk7CmNvbnN0IENoZWNrSWNvbiA9ICgpID0+IF9qc3goInN2ZyIsIHsgY2xhc3NOYW1lOiAidy00IGgtNCIsIGZpbGw6ICJub25lIiwgc3Ryb2tlOiAiY3VycmVudENvbG9yIiwgc3Ryb2tlV2lkdGg6ICIyIiwgdmlld0JveDogIjAgMCAyNCAyNCIsIGNoaWxkcmVuOiBfanN4KCJwYXRoIiwgeyBzdHJva2VMaW5lY2FwOiAicm91bmQiLCBzdHJva2VMaW5lam9pbjogInJvdW5kIiwgZDogIk00LjUgMTIuNzVsNiA2IDktMTMuNSIgfSkgfSk7CmNvbnN0IE5ld0RvY0ljb24gPSAoKSA9PiBfanN4KCJzdmciLCB7IGNsYXNzTmFtZTogInctNSBoLTUiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNMTIgNC41djE1bTcuNS03LjVoLTE1IiB9KSB9KTsKY29uc3QgTG9hZGluZ1NwaW5uZXIgPSAoKSA9PiBfanN4cygic3ZnIiwgeyBjbGFzc05hbWU6ICJhbmltYXRlLXNwaW4gaC04IHctOCB0ZXh0LWN5YW4tNTAwIiwgeG1sbnM6ICJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsIGZpbGw6ICJub25lIiwgdmlld0JveDogIjAgMCAyNCAyNCIsIGNoaWxkcmVuOiBbX2pzeCgiY2lyY2xlIiwgeyBjbGFzc05hbWU6ICJvcGFjaXR5LTI1IiwgY3g6ICIxMiIsIGN5OiAiMTIiLCByOiAiMTAiLCBzdHJva2U6ICJjdXJyZW50Q29sb3IiLCBzdHJva2VXaWR0aDogIjQiIH0pLCBfanN4KCJwYXRoIiwgeyBjbGFzc05hbWU6ICJvcGFjaXR5LTc1IiwgZmlsbDogImN1cnJlbnRDb2xvciIsIGQ6ICJNNCAxMmE4IDggMCAwMTgtOFYwQzUuMzczIDAgMCA1LjM3MyAwIDEyaDR6bTIgNS4yOTFBNy45NjIgNy45NjIgMCAwMTQgMTJIMGMwIDMuMDQyIDEuMTM1IDUuODI0IDMgNy45MzhsMy0yLjY0N3oiIH0pXSB9KTsKY29uc3QgU2F2ZVN0YXR1c0ljb24gPSAoeyBzdGF0dXMgfSkgPT4gewogICAgaWYgKHN0YXR1cyA9PT0gJ3NhdmluZycpCiAgICAgICAgcmV0dXJuIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQteHMgdGV4dC15ZWxsb3ctNTAwIGFuaW1hdGUtcHVsc2UgZm9udC1tZWRpdW0iLCBjaGlsZHJlbjogIlNhdmluZy4uLiIgfSk7CiAgICBpZiAoc3RhdHVzID09PSAnc2F2ZWQnKQogICAgICAgIHJldHVybiBfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXhzIHRleHQtZ3JlZW4tNTAwIGZvbnQtbWVkaXVtIiwgY2hpbGRyZW46ICJTYXZlZCIgfSk7CiAgICByZXR1cm4gX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC14cyB0ZXh0LXppbmMtNTAwIGZvbnQtbWVkaXVtIiwgY2hpbGRyZW46ICJVbnNhdmVkIiB9KTsKfTsKY29uc3QgQXBwID0gKCkgPT4gewogICAgLy8gU3RhdGUKICAgIGNvbnN0IFt0cmFja3MsIHNldFRyYWNrc10gPSB1c2VTdGF0ZShbXSk7CiAgICBjb25zdCBbaGlzdG9yeSwgc2V0SGlzdG9yeV0gPSB1c2VTdGF0ZShbXSk7CiAgICBjb25zdCBbc2VsZWN0ZWRUcmFja0lkLCBzZXRTZWxlY3RlZFRyYWNrSWRdID0gdXNlU3RhdGUobnVsbCk7CiAgICBjb25zdCBbaXNQbGF5aW5nLCBzZXRJc1BsYXlpbmddID0gdXNlU3RhdGUoZmFsc2UpOwogICAgY29uc3QgW2lzU2NydWJiaW5nLCBzZXRJc1NjcnViYmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7CiAgICBjb25zdCBbaXNSZWNvcmRpbmcsIHNldElzUmVjb3JkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsKICAgIGNvbnN0IFtjdXJyZW50VGltZSwgc2V0Q3VycmVudFRpbWVdID0gdXNlU3RhdGUoMCk7CiAgICBjb25zdCBbc2VsZWN0aW9uLCBzZXRTZWxlY3Rpb25dID0gdXNlU3RhdGUobnVsbCk7CiAgICBjb25zdCBbYXBwU3RhdGUsIHNldEFwcFN0YXRlXSA9IHVzZVN0YXRlKEFwcFN0YXRlLklETEUpOwogICAgY29uc3QgW2xvYWRFcnJvciwgc2V0TG9hZEVycm9yXSA9IHVzZVN0YXRlKG51bGwpOwogICAgY29uc3QgW3pvb20sIHNldFpvb21dID0gdXNlU3RhdGUoREVGQVVMVF9aT09NKTsKICAgIGNvbnN0IFtzYXZlU3RhdHVzLCBzZXRTYXZlU3RhdHVzXSA9IHVzZVN0YXRlKCdzYXZlZCcpOwogICAgY29uc3QgW2lzQmVhdE1vZGFsT3Blbiwgc2V0QmVhdE1vZGFsT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgICBjb25zdCBbaXNFZmZlY3RzTW9kYWxPcGVuLCBzZXRFZmZlY3RzTW9kYWxPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTsKICAgIGNvbnN0IFtpc0V4cG9ydE1vZGFsT3Blbiwgc2V0RXhwb3J0TW9kYWxPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTsKICAgIC8vIFBlcnNpc3RlbmNlCiAgICBjb25zdCBbY3VycmVudFByb2plY3RJZCwgc2V0Q3VycmVudFByb2plY3RJZF0gPSB1c2VTdGF0ZShudWxsKTsKICAgIGNvbnN0IFtjdXJyZW50UHJvamVjdE5hbWUsIHNldEN1cnJlbnRQcm9qZWN0TmFtZV0gPSB1c2VTdGF0ZSgiIik7CiAgICBjb25zdCBbc2F2ZWRQcm9qZWN0cywgc2V0U2F2ZWRQcm9qZWN0c10gPSB1c2VTdGF0ZShbXSk7CiAgICBjb25zdCBbcmVjZW50UHJvamVjdFByZXZpZXcsIHNldFJlY2VudFByb2plY3RQcmV2aWV3XSA9IHVzZVN0YXRlKG51bGwpOwogICAgY29uc3QgW3Byb2plY3RUb0RlbGV0ZSwgc2V0UHJvamVjdFRvRGVsZXRlXSA9IHVzZVN0YXRlKG51bGwpOwogICAgLy8gR3VhcmQgdG8gcHJldmVudCBhdXRvc2F2ZSBvdmVyd3JpdGVzIGR1cmluZyBsb2FkaW5nCiAgICBjb25zdCBpZ25vcmVDaGFuZ2VzUmVmID0gdXNlUmVmKGZhbHNlKTsKICAgIGNvbnN0IGlzRGlydHlSZWYgPSB1c2VSZWYoZmFsc2UpOwogICAgLy8gSW5saW5lIFJlbmFtaW5nIFN0YXRlCiAgICBjb25zdCBbZWRpdGluZ1Byb2plY3RJZCwgc2V0RWRpdGluZ1Byb2plY3RJZF0gPSB1c2VTdGF0ZShudWxsKTsKICAgIGNvbnN0IFtlZGl0aW5nTmFtZSwgc2V0RWRpdGluZ05hbWVdID0gdXNlU3RhdGUoIiIpOwogICAgLy8gVmlld3BvcnQgVHJhY2tpbmcKICAgIGNvbnN0IFtzY3JvbGxMZWZ0LCBzZXRTY3JvbGxMZWZ0XSA9IHVzZVN0YXRlKDApOwogICAgY29uc3QgW3ZpZXdwb3J0V2lkdGgsIHNldFZpZXdwb3J0V2lkdGhdID0gdXNlU3RhdGUod2luZG93LmlubmVyV2lkdGgpOwogICAgLy8gTmV3IE1vZGVzCiAgICBjb25zdCBbaXNUcmltTW9kZSwgc2V0SXNUcmltTW9kZV0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgICBjb25zdCBbdHJpbVN0YXRlLCBzZXRUcmltU3RhdGVdID0gdXNlU3RhdGUobnVsbCk7CiAgICAvLyBJbnRlcmFjdGl2ZSBGYWRlIE1vZGUKICAgIGNvbnN0IFtpbnRlcmFjdGl2ZU1vZGUsIHNldEludGVyYWN0aXZlTW9kZV0gPSB1c2VTdGF0ZShudWxsKTsKICAgIC8vIERyYWdnaW5nIFN0YXRlCiAgICBjb25zdCBbZHJhZ2dpbmdUcmFja0lkLCBzZXREcmFnZ2luZ1RyYWNrSWRdID0gdXNlU3RhdGUobnVsbCk7CiAgICBjb25zdCBkcmFnUmVmID0gdXNlUmVmKHsgc3RhcnRYOiAwLCBzdGFydFk6IDAsIG9mZnNldFRpbWU6IDAsIHRyYWNrSWQ6ICcnLCBsYXN0UG9pbnRlclg6IDAsIGxhc3RQb2ludGVyWTogMCB9KTsKICAgIGNvbnN0IGxvbmdQcmVzc1RpbWVyUmVmID0gdXNlUmVmKG51bGwpOwogICAgLy8gUGluY2ggWm9vbSBSZWZzCiAgICBjb25zdCBhY3RpdmVQb2ludGVycyA9IHVzZVJlZihuZXcgTWFwKCkpOwogICAgY29uc3QgcHJldlBpbmNoRGlmZiA9IHVzZVJlZigwKTsKICAgIGNvbnN0IHBlbmRpbmdTY3JvbGxSZWYgPSB1c2VSZWYobnVsbCk7CiAgICAvLyBSZWZzCiAgICBjb25zdCBhdWRpb1NvdXJjZU5vZGVzID0gdXNlUmVmKFtdKTsKICAgIGNvbnN0IG1lZGlhUmVjb3JkZXJSZWYgPSB1c2VSZWYobnVsbCk7CiAgICBjb25zdCBzdGFydFRpbWVSZWYgPSB1c2VSZWYoMCk7CiAgICBjb25zdCBmaWxlSW5wdXRSZWYgPSB1c2VSZWYobnVsbCk7CiAgICBjb25zdCB0aW1lbGluZVJlZiA9IHVzZVJlZihudWxsKTsKICAgIGNvbnN0IHBsYXloZWFkUmVmID0gdXNlUmVmKG51bGwpOwogICAgY29uc3Qgc2F2ZVRpbWVvdXRSZWYgPSB1c2VSZWYobnVsbCk7CiAgICAvLyBUcmFja3MgUmVmIGZvciBFdmVudCBIYW5kbGVycwogICAgY29uc3QgdHJhY2tzUmVmID0gdXNlUmVmKHRyYWNrcyk7CiAgICB1c2VFZmZlY3QoKCkgPT4geyB0cmFja3NSZWYuY3VycmVudCA9IHRyYWNrczsgfSwgW3RyYWNrc10pOwogICAgLy8gQXBwbHkgcGVuZGluZyBzY3JvbGwgYWRqdXN0bWVudHMgYWZ0ZXIgem9vbSBsYXlvdXQgdXBkYXRlcwogICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHsKICAgICAgICBpZiAocGVuZGluZ1Njcm9sbFJlZi5jdXJyZW50ICE9PSBudWxsICYmIHRpbWVsaW5lUmVmLmN1cnJlbnQpIHsKICAgICAgICAgICAgdGltZWxpbmVSZWYuY3VycmVudC5zY3JvbGxMZWZ0ID0gcGVuZGluZ1Njcm9sbFJlZi5jdXJyZW50OwogICAgICAgICAgICBwZW5kaW5nU2Nyb2xsUmVmLmN1cnJlbnQgPSBudWxsOwogICAgICAgIH0KICAgIH0sIFt6b29tXSk7CiAgICAvLyBEZXJpdmVkIFN0YXRlOiBTbWFydCBTZWxlY3Rpb24KICAgIGNvbnN0IGVmZmVjdGl2ZVNlbGVjdGVkVHJhY2tJZCA9IHNlbGVjdGVkVHJhY2tJZCB8fCAoKCkgPT4gewogICAgICAgIGNvbnN0IGF0UGxheWhlYWQgPSB0cmFja3MuZmlsdGVyKHQgPT4gY3VycmVudFRpbWUgPj0gdC5zdGFydFRpbWUgJiYgY3VycmVudFRpbWUgPCB0LnN0YXJ0VGltZSArIHQuZHVyYXRpb24pOwogICAgICAgIHJldHVybiBhdFBsYXloZWFkLmxlbmd0aCA9PT0gMSA/IGF0UGxheWhlYWRbMF0uaWQgOiBudWxsOwogICAgfSkoKTsKICAgIGNvbnN0IHNlbGVjdGVkVHJhY2sgPSB0cmFja3MuZmluZCh0ID0+IHQuaWQgPT09IGVmZmVjdGl2ZVNlbGVjdGVkVHJhY2tJZCk7CiAgICAvLyBDYWxjdWxhdGUgbWF4RHVyYXRpb24gYW5kIGxheW91dCBtZXRyaWNzCiAgICBjb25zdCBtYXhEdXJhdGlvbiA9IE1hdGgubWF4KC4uLnRyYWNrcy5tYXAodCA9PiB0LnN0YXJ0VGltZSArIHQuZHVyYXRpb24pLCAxMCk7CiAgICBjb25zdCBtYXhMYW5lID0gdHJhY2tzLmxlbmd0aCA+IDAgPyBNYXRoLm1heCguLi50cmFja3MubWFwKHQgPT4gdC5sYW5lKSkgOiAwOwogICAgY29uc3QgdG90YWxMYW5lcyA9IG1heExhbmUgKyAyOwogICAgLy8gRGV0ZXJtaW5lIFByb2plY3QgQlBNIChmcm9tIGZpcnN0IHRyYWNrIG9yIGRlZmF1bHQpCiAgICBjb25zdCBwcm9qZWN0QnBtID0gdHJhY2tzLmZpbmQodCA9PiB0LmJwbSk/LmJwbSB8fCAxMjA7CiAgICBjb25zdCBiZWF0RHVyYXRpb24gPSA2MCAvIHByb2plY3RCcG07CiAgICAvLyBWaWV3cG9ydCBSZXNpemUgT2JzZXJ2ZXIKICAgIHVzZUVmZmVjdCgoKSA9PiB7CiAgICAgICAgaWYgKHRpbWVsaW5lUmVmLmN1cnJlbnQpIHsKICAgICAgICAgICAgc2V0Vmlld3BvcnRXaWR0aCh0aW1lbGluZVJlZi5jdXJyZW50LmNsaWVudFdpZHRoKTsKICAgICAgICB9CiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZW50cmllcyA9PiB7CiAgICAgICAgICAgIGZvciAobGV0IGVudHJ5IG9mIGVudHJpZXMpIHsKICAgICAgICAgICAgICAgIHNldFZpZXdwb3J0V2lkdGgoZW50cnkuY29udGVudFJlY3Qud2lkdGgpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgaWYgKHRpbWVsaW5lUmVmLmN1cnJlbnQpCiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUodGltZWxpbmVSZWYuY3VycmVudCk7CiAgICAgICAgcmV0dXJuICgpID0+IG9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKICAgIH0sIFtdKTsKICAgIGNvbnN0IHBlcmZvcm1ab29tID0gKG5ld1pvb20pID0+IHsKICAgICAgICBjb25zdCBzYWZlWm9vbSA9IE1hdGgubWluKE1BWF9aT09NLCBNYXRoLm1heChNSU5fWk9PTSwgbmV3Wm9vbSkpOwogICAgICAgIGlmIChNYXRoLmFicyhzYWZlWm9vbSAtIHpvb20pIDwgMC4wMSkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIGlmICh0aW1lbGluZVJlZi5jdXJyZW50KSB7CiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSB0aW1lbGluZVJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICBjb25zdCBjdXJyZW50U2Nyb2xsID0gdGltZWxpbmVSZWYuY3VycmVudC5zY3JvbGxMZWZ0OwogICAgICAgICAgICBjb25zdCB2aWV3cG9ydFcgPSByZWN0LndpZHRoOwogICAgICAgICAgICAvLyBDYWxjdWxhdGUgY29udGVudCBib3VuZHMKICAgICAgICAgICAgbGV0IGNvbnRlbnRTdGFydCA9IDA7CiAgICAgICAgICAgIGxldCBjb250ZW50RW5kID0gMDsKICAgICAgICAgICAgY29uc3QgaGFzVHJhY2tzID0gdHJhY2tzLmxlbmd0aCA+IDA7CiAgICAgICAgICAgIGlmIChoYXNUcmFja3MpIHsKICAgICAgICAgICAgICAgIGNvbnRlbnRTdGFydCA9IE1hdGgubWluKC4uLnRyYWNrcy5tYXAodCA9PiB0LnN0YXJ0VGltZSkpOwogICAgICAgICAgICAgICAgY29udGVudEVuZCA9IE1hdGgubWF4KC4uLnRyYWNrcy5tYXAodCA9PiB0LnN0YXJ0VGltZSArIHQuZHVyYXRpb24pKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBjb250ZW50U3RhcnRQeCA9IGNvbnRlbnRTdGFydCAqIHpvb207CiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRFbmRQeCA9IGNvbnRlbnRFbmQgKiB6b29tOwogICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgQUxMIGNvbnRlbnQgaXMgZWZmZWN0aXZlbHkgdmlzaWJsZSBpbiB0aGUgdmlld3BvcnQgcmlnaHQgbm93CiAgICAgICAgICAgIC8vIEFsbG93IGEgc21hbGwgbWFyZ2luIG9mIGVycm9yIChlLmcuIDEwcHgpCiAgICAgICAgICAgIGNvbnN0IGlzRnVsbHlWaXNpYmxlID0gaGFzVHJhY2tzICYmCiAgICAgICAgICAgICAgICBjb250ZW50U3RhcnRQeCA+PSAoY3VycmVudFNjcm9sbCAtIDEwKSAmJgogICAgICAgICAgICAgICAgY29udGVudEVuZFB4IDw9IChjdXJyZW50U2Nyb2xsICsgdmlld3BvcnRXICsgMTApOwogICAgICAgICAgICBsZXQgY2VudGVyVGltZTsKICAgICAgICAgICAgaWYgKGlzRnVsbHlWaXNpYmxlKSB7CiAgICAgICAgICAgICAgICAvLyBJZiBldmVyeXRoaW5nIGlzIHZpc2libGUsIHBpdm90IGFyb3VuZCB0aGUgY2VudGVyIG9mIHRoZSBDT05URU5UCiAgICAgICAgICAgICAgICAvLyBUaGlzIHByZXZlbnRzIGRyaWZ0aW5nIGludG8gZW1wdHkgc3BhY2Ugd2hlbiB6b29taW5nIGluIGZyb20gYSAiYmlyZHMgZXllIHZpZXciCiAgICAgICAgICAgICAgICBjZW50ZXJUaW1lID0gKGNvbnRlbnRTdGFydCArIGNvbnRlbnRFbmQpIC8gMjsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIFN0YW5kYXJkIGJlaGF2aW9yOiBQaXZvdCBhcm91bmQgdGhlIGNlbnRlciBvZiB0aGUgVklFV1BPUlQKICAgICAgICAgICAgICAgIGNvbnN0IGNlbnRlclBpeGVsID0gY3VycmVudFNjcm9sbCArIHZpZXdwb3J0VyAvIDI7CiAgICAgICAgICAgICAgICBjZW50ZXJUaW1lID0gY2VudGVyUGl4ZWwgLyB6b29tOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBuZXcgc2Nyb2xsIHRvIGtlZXAgY2VudGVyVGltZSBhdCB0aGUgbWlkZGxlIG9mIHRoZSB2aWV3cG9ydAogICAgICAgICAgICBjb25zdCBuZXdDZW50ZXJQaXhlbCA9IGNlbnRlclRpbWUgKiBzYWZlWm9vbTsKICAgICAgICAgICAgY29uc3QgbmV3U2Nyb2xsID0gbmV3Q2VudGVyUGl4ZWwgLSB2aWV3cG9ydFcgLyAyOwogICAgICAgICAgICBwZW5kaW5nU2Nyb2xsUmVmLmN1cnJlbnQgPSBNYXRoLm1heCgwLCBuZXdTY3JvbGwpOwogICAgICAgIH0KICAgICAgICBzZXRab29tKHNhZmVab29tKTsKICAgIH07CiAgICBjb25zdCBoYW5kbGVGaWxlVXBsb2FkID0gYXN5bmMgKGUpID0+IHsKICAgICAgICBjb25zdCBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzOwogICAgICAgIGlmICghZmlsZXMgfHwgZmlsZXMubGVuZ3RoID09PSAwKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgc2V0QXBwU3RhdGUoQXBwU3RhdGUuTE9BRElORyk7CiAgICAgICAgcHVzaEhpc3RvcnkoKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCBuZXdUcmFja3MgPSBbXTsKICAgICAgICAgICAgY29uc3Qgc3RhcnRMYW5lID0gdHJhY2tzLmxlbmd0aCA+IDAgPyBNYXRoLm1heCguLi50cmFja3MubWFwKHQgPT4gdC5sYW5lKSkgKyAxIDogMDsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IGZpbGVzW2ldOwogICAgICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBmaWxlLmFycmF5QnVmZmVyKCk7CiAgICAgICAgICAgICAgICBjb25zdCBkZWNvZGVkID0gYXdhaXQgZGVjb2RlQXVkaW9EYXRhKGFycmF5QnVmZmVyKTsKICAgICAgICAgICAgICAgIGxldCB0cmFja05hbWUgPSBmaWxlLm5hbWUuc3Vic3RyaW5nKDAsIDE1KTsKICAgICAgICAgICAgICAgIGxldCBkZXRlY3RlZEJwbSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnBtID0gYXdhaXQgZGV0ZWN0QlBNKGRlY29kZWQpOwogICAgICAgICAgICAgICAgICAgIGlmIChicG0gPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRldGVjdGVkQnBtID0gYnBtOwogICAgICAgICAgICAgICAgICAgICAgICB0cmFja05hbWUgPSBgJHt0cmFja05hbWV9ICgke2JwbX0gQlBNKWA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggKGJwbUVycikgeyB9CiAgICAgICAgICAgICAgICBuZXdUcmFja3MucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgaWQ6IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KSwKICAgICAgICAgICAgICAgICAgICBuYW1lOiB0cmFja05hbWUsCiAgICAgICAgICAgICAgICAgICAgYnVmZmVyOiBkZWNvZGVkLAogICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogY3VycmVudFRpbWUsIHRyaW1TdGFydDogMCwKICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogZGVjb2RlZC5kdXJhdGlvbiwKICAgICAgICAgICAgICAgICAgICBsYW5lOiBzdGFydExhbmUgKyBpLAogICAgICAgICAgICAgICAgICAgIHZvbHVtZTogMS4wLCBpc011dGVkOiBmYWxzZSwgaXNTb2xvOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogVFJBQ0tfQ09MT1JTWyhzdGFydExhbmUgKyBpKSAlIFRSQUNLX0NPTE9SUy5sZW5ndGhdLAogICAgICAgICAgICAgICAgICAgIGJwbTogZGV0ZWN0ZWRCcG0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNldFRyYWNrcyhwcmV2ID0+IFsuLi5wcmV2LCAuLi5uZXdUcmFja3NdKTsKICAgICAgICAgICAgaWYgKG5ld1RyYWNrcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFRyYWNrSWQobmV3VHJhY2tzW25ld1RyYWNrcy5sZW5ndGggLSAxXS5pZCk7CiAgICAgICAgICAgICAgICBzZXRJc1RyaW1Nb2RlKGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZXRBcHBTdGF0ZShBcHBTdGF0ZS5FRElUSU5HKTsKICAgICAgICB9CiAgICAgICAgY2F0Y2ggKGVycikgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgICAgICAgIHNldEFwcFN0YXRlKEFwcFN0YXRlLkVSUk9SKTsKICAgICAgICB9CiAgICAgICAgaWYgKGZpbGVJbnB1dFJlZi5jdXJyZW50KQogICAgICAgICAgICBmaWxlSW5wdXRSZWYuY3VycmVudC52YWx1ZSA9ICcnOwogICAgfTsKICAgIGNvbnN0IHB1c2hIaXN0b3J5ID0gKCkgPT4gewogICAgICAgIHNldEhpc3RvcnkocHJldiA9PiB7CiAgICAgICAgICAgIGNvbnN0IG5ld0hpc3RvcnkgPSBbLi4ucHJldiwgdHJhY2tzXTsKICAgICAgICAgICAgaWYgKG5ld0hpc3RvcnkubGVuZ3RoID4gMjApCiAgICAgICAgICAgICAgICBuZXdIaXN0b3J5LnNoaWZ0KCk7CiAgICAgICAgICAgIHJldHVybiBuZXdIaXN0b3J5OwogICAgICAgIH0pOwogICAgfTsKICAgIGNvbnN0IGhhbmRsZVVuZG8gPSAoKSA9PiB7CiAgICAgICAgaWYgKGhpc3RvcnkubGVuZ3RoID09PSAwKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgY29uc3QgcHJldlRyYWNrcyA9IGhpc3RvcnlbaGlzdG9yeS5sZW5ndGggLSAxXTsKICAgICAgICBzZXRUcmFja3MocHJldlRyYWNrcyk7CiAgICAgICAgc2V0SGlzdG9yeShwcmV2ID0+IHByZXYuc2xpY2UoMCwgLTEpKTsKICAgICAgICBzdG9wUGxheWJhY2soKTsKICAgICAgICBzZXRJc1RyaW1Nb2RlKGZhbHNlKTsKICAgICAgICBzZXRUcmltU3RhdGUobnVsbCk7CiAgICAgICAgc2V0SW50ZXJhY3RpdmVNb2RlKG51bGwpOwogICAgfTsKICAgIGNvbnN0IHN0b3BQbGF5YmFjayA9IHVzZUNhbGxiYWNrKCgpID0+IHsKICAgICAgICBhdWRpb1NvdXJjZU5vZGVzLmN1cnJlbnQuZm9yRWFjaChub2RlID0+IHsgdHJ5IHsKICAgICAgICAgICAgbm9kZS5zdG9wKCk7CiAgICAgICAgfQogICAgICAgIGNhdGNoIChlKSB7IH0gfSk7CiAgICAgICAgYXVkaW9Tb3VyY2VOb2Rlcy5jdXJyZW50ID0gW107CiAgICAgICAgc2V0SXNQbGF5aW5nKGZhbHNlKTsKICAgIH0sIFtdKTsKICAgIC8vIC0tLSBQTEFZQkFDSyBMT09QIC0tLQogICAgdXNlRWZmZWN0KCgpID0+IHsKICAgICAgICBpZiAoIWlzUGxheWluZyB8fCBpc1NjcnViYmluZykKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIGxldCBhbmltYXRpb25GcmFtZUlkOwogICAgICAgIGNvbnN0IGN0eCA9IGdldEF1ZGlvQ29udGV4dCgpOwogICAgICAgIGNvbnN0IGxvb3AgPSAoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGVsYXBzZWQgPSBjdHguY3VycmVudFRpbWUgLSBzdGFydFRpbWVSZWYuY3VycmVudDsKICAgICAgICAgICAgc2V0Q3VycmVudFRpbWUoZWxhcHNlZCk7CiAgICAgICAgICAgIGlmICh0aW1lbGluZVJlZi5jdXJyZW50KSB7CiAgICAgICAgICAgICAgICBjb25zdCBwbGF5aGVhZFggPSBlbGFwc2VkICogem9vbTsKICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lclcgPSB0aW1lbGluZVJlZi5jdXJyZW50LmNsaWVudFdpZHRoOwogICAgICAgICAgICAgICAgY29uc3QgaGFsZlNjcmVlbiA9IGNvbnRhaW5lclcgLyAyOwogICAgICAgICAgICAgICAgaWYgKHBsYXloZWFkWCA+IGhhbGZTY3JlZW4pIHsKICAgICAgICAgICAgICAgICAgICB0aW1lbGluZVJlZi5jdXJyZW50LnNjcm9sbExlZnQgPSBwbGF5aGVhZFggLSBoYWxmU2NyZWVuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGltZWxpbmVSZWYuY3VycmVudC5zY3JvbGxMZWZ0ID0gMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZWxhcHNlZCA+PSBtYXhEdXJhdGlvbikgewogICAgICAgICAgICAgICAgc3RvcFBsYXliYWNrKCk7CiAgICAgICAgICAgICAgICBzZXRDdXJyZW50VGltZSgwKTsKICAgICAgICAgICAgICAgIGlmICh0aW1lbGluZVJlZi5jdXJyZW50KQogICAgICAgICAgICAgICAgICAgIHRpbWVsaW5lUmVmLmN1cnJlbnQuc2Nyb2xsTGVmdCA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBhbmltYXRpb25GcmFtZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBhbmltYXRpb25GcmFtZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApOwogICAgICAgIHJldHVybiAoKSA9PiBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZUlkKTsKICAgIH0sIFtpc1BsYXlpbmcsIGlzU2NydWJiaW5nLCBtYXhEdXJhdGlvbiwgem9vbSwgc3RvcFBsYXliYWNrXSk7CiAgICBjb25zdCBoYW5kbGVQbGF5UGF1c2UgPSBhc3luYyAoKSA9PiB7CiAgICAgICAgY29uc3QgY3R4ID0gZ2V0QXVkaW9Db250ZXh0KCk7CiAgICAgICAgaWYgKGN0eC5zdGF0ZSA9PT0gJ3N1c3BlbmRlZCcpCiAgICAgICAgICAgIGF3YWl0IGN0eC5yZXN1bWUoKTsKICAgICAgICBpZiAoaXNQbGF5aW5nKSB7CiAgICAgICAgICAgIHN0b3BQbGF5YmFjaygpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgc3RvcFBsYXliYWNrKCk7CiAgICAgICAgICAgIGNvbnN0IG5vdyA9IGN0eC5jdXJyZW50VGltZTsKICAgICAgICAgICAgc3RhcnRUaW1lUmVmLmN1cnJlbnQgPSBub3cgLSBjdXJyZW50VGltZTsKICAgICAgICAgICAgdHJhY2tzLmZvckVhY2godHJhY2sgPT4gewogICAgICAgICAgICAgICAgaWYgKHRyYWNrLmlzTXV0ZWQpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgY29uc3QgdHJhY2tTdGFydCA9IHRyYWNrLnN0YXJ0VGltZTsKICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGltZSA+IHRyYWNrU3RhcnQgKyB0cmFjay5kdXJhdGlvbikKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICBsZXQgc3RhcnRPZmZzZXQgPSAwOwogICAgICAgICAgICAgICAgbGV0IHNjaGVkdWxlVGltZSA9IDA7CiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRpbWUgPCB0cmFja1N0YXJ0KSB7CiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVUaW1lID0gbm93ICsgKHRyYWNrU3RhcnQgLSBjdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICAgICAgc3RhcnRPZmZzZXQgPSAwOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVUaW1lID0gbm93OwogICAgICAgICAgICAgICAgICAgIHN0YXJ0T2Zmc2V0ID0gY3VycmVudFRpbWUgLSB0cmFja1N0YXJ0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29uc3Qgc291cmNlID0gY3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpOwogICAgICAgICAgICAgICAgc291cmNlLmJ1ZmZlciA9IHRyYWNrLmJ1ZmZlcjsKICAgICAgICAgICAgICAgIGNvbnN0IGdhaW4gPSBjdHguY3JlYXRlR2FpbigpOwogICAgICAgICAgICAgICAgZ2Fpbi5nYWluLnZhbHVlID0gdHJhY2sudm9sdW1lOwogICAgICAgICAgICAgICAgc291cmNlLmNvbm5lY3QoZ2Fpbik7CiAgICAgICAgICAgICAgICBnYWluLmNvbm5lY3QoY3R4LmRlc3RpbmF0aW9uKTsKICAgICAgICAgICAgICAgIGlmIChzdGFydE9mZnNldCA+PSAwICYmIHN0YXJ0T2Zmc2V0IDwgdHJhY2suZHVyYXRpb24pIHsKICAgICAgICAgICAgICAgICAgICBzb3VyY2Uuc3RhcnQoc2NoZWR1bGVUaW1lLCB0cmFjay50cmltU3RhcnQgKyBzdGFydE9mZnNldCwgdHJhY2suZHVyYXRpb24gLSBzdGFydE9mZnNldCk7CiAgICAgICAgICAgICAgICAgICAgYXVkaW9Tb3VyY2VOb2Rlcy5jdXJyZW50LnB1c2goc291cmNlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNldElzUGxheWluZyh0cnVlKTsKICAgICAgICB9CiAgICB9OwogICAgLy8gLS0tIEludGVyYWN0aW9uIEhhbmRsZXJzIC0tLQogICAgY29uc3QgaGFuZGxlVGltZWxpbmVTY3JvbGwgPSAoZSkgPT4gc2V0U2Nyb2xsTGVmdChlLmN1cnJlbnRUYXJnZXQuc2Nyb2xsTGVmdCk7CiAgICBjb25zdCB1cGRhdGVQbGF5aGVhZCA9IChjbGllbnRYKSA9PiB7CiAgICAgICAgaWYgKCF0aW1lbGluZVJlZi5jdXJyZW50KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgY29uc3QgcmVjdCA9IHRpbWVsaW5lUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgY29uc3QgcmVsYXRpdmVYID0gY2xpZW50WCAtIHJlY3QubGVmdCArIHRpbWVsaW5lUmVmLmN1cnJlbnQuc2Nyb2xsTGVmdDsKICAgICAgICBsZXQgbmV3VGltZSA9IE1hdGgubWF4KDAsIHJlbGF0aXZlWCAvIHpvb20pOwogICAgICAgIGNvbnN0IHNuYXBTZWNvbmRzID0gU05BUF9USFJFU0hPTERfUFggLyB6b29tOwogICAgICAgIGxldCBjbG9zZXN0U25hcFRpbWUgPSAtMTsKICAgICAgICBsZXQgbWluRGlmZiA9IEluZmluaXR5OwogICAgICAgIGlmIChuZXdUaW1lIDwgc25hcFNlY29uZHMpIHsKICAgICAgICAgICAgY2xvc2VzdFNuYXBUaW1lID0gMDsKICAgICAgICAgICAgbWluRGlmZiA9IG5ld1RpbWU7CiAgICAgICAgfQogICAgICAgIHRyYWNrcy5mb3JFYWNoKHQgPT4gewogICAgICAgICAgICBjb25zdCBzdGFydCA9IHQuc3RhcnRUaW1lOwogICAgICAgICAgICBjb25zdCBlbmQgPSB0LnN0YXJ0VGltZSArIHQuZHVyYXRpb247CiAgICAgICAgICAgIGNvbnN0IGRpZmZTdGFydCA9IE1hdGguYWJzKG5ld1RpbWUgLSBzdGFydCk7CiAgICAgICAgICAgIGlmIChkaWZmU3RhcnQgPCBzbmFwU2Vjb25kcyAmJiBkaWZmU3RhcnQgPCBtaW5EaWZmKSB7CiAgICAgICAgICAgICAgICBjbG9zZXN0U25hcFRpbWUgPSBzdGFydDsKICAgICAgICAgICAgICAgIG1pbkRpZmYgPSBkaWZmU3RhcnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZGlmZkVuZCA9IE1hdGguYWJzKG5ld1RpbWUgLSBlbmQpOwogICAgICAgICAgICBpZiAoZGlmZkVuZCA8IHNuYXBTZWNvbmRzICYmIGRpZmZFbmQgPCBtaW5EaWZmKSB7CiAgICAgICAgICAgICAgICBjbG9zZXN0U25hcFRpbWUgPSBlbmQ7CiAgICAgICAgICAgICAgICBtaW5EaWZmID0gZGlmZkVuZDsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGlmIChjbG9zZXN0U25hcFRpbWUgIT09IC0xKSB7CiAgICAgICAgICAgIGlmIChNYXRoLmFicyhuZXdUaW1lIC0gY2xvc2VzdFNuYXBUaW1lKSA+IDAuMDAxICYmIG5hdmlnYXRvci52aWJyYXRlKQogICAgICAgICAgICAgICAgbmF2aWdhdG9yLnZpYnJhdGUoNSk7CiAgICAgICAgICAgIG5ld1RpbWUgPSBjbG9zZXN0U25hcFRpbWU7CiAgICAgICAgfQogICAgICAgIHNldEN1cnJlbnRUaW1lKG5ld1RpbWUpOwogICAgfTsKICAgIC8vIFBsYXloZWFkIEV2ZW50cwogICAgY29uc3QgaGFuZGxlUGxheWhlYWRQb2ludGVyRG93biA9IChlKSA9PiB7IGUucHJldmVudERlZmF1bHQoKTsgZS5zdG9wUHJvcGFnYXRpb24oKTsgc2V0SXNTY3J1YmJpbmcodHJ1ZSk7IHN0b3BQbGF5YmFjaygpOyBlLnRhcmdldC5zZXRQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCk7IH07CiAgICBjb25zdCBoYW5kbGVQbGF5aGVhZFBvaW50ZXJNb3ZlID0gKGUpID0+IHsgaWYgKCFpc1NjcnViYmluZykKICAgICAgICByZXR1cm47IGUucHJldmVudERlZmF1bHQoKTsgZS5zdG9wUHJvcGFnYXRpb24oKTsgdXBkYXRlUGxheWhlYWQoZS5jbGllbnRYKTsgfTsKICAgIGNvbnN0IGhhbmRsZVBsYXloZWFkUG9pbnRlclVwID0gKGUpID0+IHsgaWYgKGlzU2NydWJiaW5nKSB7CiAgICAgICAgc2V0SXNTY3J1YmJpbmcoZmFsc2UpOwogICAgICAgIGlmIChlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIGUudGFyZ2V0Lmhhc1BvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKSkgewogICAgICAgICAgICBlLnRhcmdldC5yZWxlYXNlUG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpOwogICAgICAgIH0KICAgIH0gfTsKICAgIC8vIFRpbWVsaW5lIEV2ZW50cwogICAgY29uc3QgaGFuZGxlVGltZWxpbmVQb2ludGVyRG93biA9IChlKSA9PiB7IGlmIChlLnRhcmdldC5jbG9zZXN0KCcudHJhY2stY2xpcCcpKQogICAgICAgIHJldHVybjsgaWYgKGUudGFyZ2V0LmNsb3Nlc3QoJy5mYWRlLWhhbmRsZScpKQogICAgICAgIHJldHVybjsgZS5wcmV2ZW50RGVmYXVsdCgpOyBpZiAoaXNQbGF5aW5nKQogICAgICAgIHN0b3BQbGF5YmFjaygpOyBzZXRTZWxlY3RlZFRyYWNrSWQobnVsbCk7IHNldElzVHJpbU1vZGUoZmFsc2UpOyBzZXRJc1NjcnViYmluZyh0cnVlKTsgZS5jdXJyZW50VGFyZ2V0LnNldFBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTsgdXBkYXRlUGxheWhlYWQoZS5jbGllbnRYKTsgfTsKICAgIC8vIC0tLSBUcmFjayBEcmFnZ2luZyBMb2dpYyAtLS0KICAgIGNvbnN0IGhhbmRsZVRyYWNrUG9pbnRlckRvd24gPSAoZSwgdHJhY2spID0+IHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICBpZiAoaXNUcmltTW9kZSkgewogICAgICAgICAgICBpZiAoZWZmZWN0aXZlU2VsZWN0ZWRUcmFja0lkICE9PSB0cmFjay5pZCkKICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkVHJhY2tJZCh0cmFjay5pZCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGludGVyYWN0aXZlTW9kZSkgewogICAgICAgICAgICBpZiAoZWZmZWN0aXZlU2VsZWN0ZWRUcmFja0lkICE9PSB0cmFjay5pZCkgewogICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRUcmFja0lkKHRyYWNrLmlkKTsKICAgICAgICAgICAgICAgIHNldEludGVyYWN0aXZlTW9kZShudWxsKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChpc1BsYXlpbmcpCiAgICAgICAgICAgIHN0b3BQbGF5YmFjaygpOwogICAgICAgIHNldFNlbGVjdGVkVHJhY2tJZCh0cmFjay5pZCk7CiAgICAgICAgc2V0RHJhZ2dpbmdUcmFja0lkKHRyYWNrLmlkKTsKICAgICAgICBjb25zdCByZWN0ID0gdGltZWxpbmVSZWYuY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgaWYgKCFyZWN0KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgY29uc3QgbW91c2VUaW1lID0gKChlLmNsaWVudFggLSByZWN0LmxlZnQpICsgKHRpbWVsaW5lUmVmLmN1cnJlbnQ/LnNjcm9sbExlZnQgfHwgMCkpIC8gem9vbTsKICAgICAgICBjb25zdCB0aW1lT2Zmc2V0ID0gbW91c2VUaW1lIC0gdHJhY2suc3RhcnRUaW1lOwogICAgICAgIGRyYWdSZWYuY3VycmVudCA9IHsKICAgICAgICAgICAgc3RhcnRYOiBlLmNsaWVudFgsCiAgICAgICAgICAgIHN0YXJ0WTogZS5jbGllbnRZLAogICAgICAgICAgICBvZmZzZXRUaW1lOiB0aW1lT2Zmc2V0LAogICAgICAgICAgICB0cmFja0lkOiB0cmFjay5pZCwKICAgICAgICAgICAgbGFzdFBvaW50ZXJYOiBlLmNsaWVudFgsCiAgICAgICAgICAgIGxhc3RQb2ludGVyWTogZS5jbGllbnRZCiAgICAgICAgfTsKICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc2V0UG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpOwogICAgfTsKICAgIGNvbnN0IGhhbmRsZVRyYWNrRHJhZ01vdmUgPSAoZSkgPT4gewogICAgICAgIGlmICghZHJhZ2dpbmdUcmFja0lkIHx8ICF0aW1lbGluZVJlZi5jdXJyZW50KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGNvbnN0IHRyYWNrID0gdHJhY2tzLmZpbmQodCA9PiB0LmlkID09PSBkcmFnZ2luZ1RyYWNrSWQpOwogICAgICAgIGlmICghdHJhY2spCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBjb25zdCByZWN0ID0gdGltZWxpbmVSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICBjb25zdCBzY3JvbGxMID0gdGltZWxpbmVSZWYuY3VycmVudC5zY3JvbGxMZWZ0OwogICAgICAgIGNvbnN0IG1vdXNlWCA9IGUuY2xpZW50WCAtIHJlY3QubGVmdCArIHNjcm9sbEw7CiAgICAgICAgY29uc3QgbW91c2VZID0gZS5jbGllbnRZIC0gcmVjdC50b3AgKyB0aW1lbGluZVJlZi5jdXJyZW50LnNjcm9sbFRvcDsKICAgICAgICAvLyAxLiBEZXRlcm1pbmUgVGFyZ2V0IExhbmUKICAgICAgICBsZXQgdGFyZ2V0TGFuZSA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoKG1vdXNlWSAtIDEwKSAvIExBTkVfSEVJR0hUKSk7CiAgICAgICAgLy8gMi4gRGV0ZXJtaW5lIHJhdyB0aW1lIGJhc2VkIG9uIG1vdXNlIG9mZnNldAogICAgICAgIGNvbnN0IGN1cnJlbnRNb3VzZVRpbWUgPSBNYXRoLm1heCgwLCBtb3VzZVggLyB6b29tKTsKICAgICAgICBsZXQgcHJvcG9zZWRTdGFydFRpbWUgPSBjdXJyZW50TW91c2VUaW1lIC0gZHJhZ1JlZi5jdXJyZW50Lm9mZnNldFRpbWU7CiAgICAgICAgLy8gMy4gQ29sbGlzaW9uIExvZ2ljIChHYXAgQW5hbHlzaXMpCiAgICAgICAgY29uc3QgbGFuZVRyYWNrcyA9IHRyYWNrcy5maWx0ZXIodCA9PiB0LmxhbmUgPT09IHRhcmdldExhbmUgJiYgdC5pZCAhPT0gZHJhZ2dpbmdUcmFja0lkKTsKICAgICAgICBjb25zdCBwcm9wb3NlZENlbnRlciA9IHByb3Bvc2VkU3RhcnRUaW1lICsgKHRyYWNrLmR1cmF0aW9uIC8gMik7CiAgICAgICAgbGV0IHByZXZUcmFjayA9IG51bGw7CiAgICAgICAgbGV0IG5leHRUcmFjayA9IG51bGw7CiAgICAgICAgZm9yIChjb25zdCB0IG9mIGxhbmVUcmFja3MpIHsKICAgICAgICAgICAgY29uc3QgdENlbnRlciA9IHQuc3RhcnRUaW1lICsgKHQuZHVyYXRpb24gLyAyKTsKICAgICAgICAgICAgaWYgKHRDZW50ZXIgPCBwcm9wb3NlZENlbnRlcikgewogICAgICAgICAgICAgICAgaWYgKCFwcmV2VHJhY2sgfHwgdC5zdGFydFRpbWUgPiBwcmV2VHJhY2suc3RhcnRUaW1lKQogICAgICAgICAgICAgICAgICAgIHByZXZUcmFjayA9IHQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAoIW5leHRUcmFjayB8fCB0LnN0YXJ0VGltZSA8IG5leHRUcmFjay5zdGFydFRpbWUpCiAgICAgICAgICAgICAgICAgICAgbmV4dFRyYWNrID0gdDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBjb25zdCB2YWxpZE1pbiA9IHByZXZUcmFjayA/IHByZXZUcmFjay5zdGFydFRpbWUgKyBwcmV2VHJhY2suZHVyYXRpb24gOiAwOwogICAgICAgIGNvbnN0IHZhbGlkTWF4ID0gbmV4dFRyYWNrID8gbmV4dFRyYWNrLnN0YXJ0VGltZSA6IEluZmluaXR5OwogICAgICAgIGNvbnN0IGNsYW1wZWRNaW4gPSB2YWxpZE1pbjsKICAgICAgICBjb25zdCBjbGFtcGVkTWF4ID0gTWF0aC5tYXgodmFsaWRNaW4sIHZhbGlkTWF4IC0gdHJhY2suZHVyYXRpb24pOwogICAgICAgIHByb3Bvc2VkU3RhcnRUaW1lID0gTWF0aC5tYXgoY2xhbXBlZE1pbiwgTWF0aC5taW4ocHJvcG9zZWRTdGFydFRpbWUsIGNsYW1wZWRNYXgpKTsKICAgICAgICAvLyA0LiBTbmFwcGluZwogICAgICAgIGNvbnN0IHNuYXBTZWNvbmRzID0gU05BUF9USFJFU0hPTERfUFggLyB6b29tOwogICAgICAgIGxldCBiZXN0U25hcCA9IC0xOwogICAgICAgIGxldCBtaW5EaWZmID0gSW5maW5pdHk7CiAgICAgICAgY29uc3QgY2FuZGlkYXRlcyA9IFswLCBjdXJyZW50VGltZV07CiAgICAgICAgaWYgKHZhbGlkTWluID4gMCkKICAgICAgICAgICAgY2FuZGlkYXRlcy5wdXNoKHZhbGlkTWluKTsKICAgICAgICBpZiAodmFsaWRNYXggIT09IEluZmluaXR5KQogICAgICAgICAgICBjYW5kaWRhdGVzLnB1c2godmFsaWRNYXggLSB0cmFjay5kdXJhdGlvbik7CiAgICAgICAgdHJhY2tzLmZvckVhY2gob3RoZXIgPT4gewogICAgICAgICAgICBpZiAob3RoZXIuaWQgPT09IGRyYWdnaW5nVHJhY2tJZCkKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgY2FuZGlkYXRlcy5wdXNoKG90aGVyLnN0YXJ0VGltZSk7CiAgICAgICAgICAgIGNhbmRpZGF0ZXMucHVzaChvdGhlci5zdGFydFRpbWUgKyBvdGhlci5kdXJhdGlvbik7CiAgICAgICAgfSk7CiAgICAgICAgLy8gLS0tIEJQTSBHcmlkIFNuYXBwaW5nIC0tLQogICAgICAgIC8vIEVuYWJsZWQgd2hlbiB6b29tZWQgaW4gPiAyNSUgb2YgdGhlIHJhbmdlCiAgICAgICAgLy8gUmFuZ2U6IDEwIHRvIDMwMC4gMjUlIGlzIGFwcHJveCA3Mi41ICsgMTAgPSA4Mi41CiAgICAgICAgY29uc3QgU05BUF9aT09NX1RIUkVTSE9MRCA9IE1JTl9aT09NICsgKE1BWF9aT09NIC0gTUlOX1pPT00pICogMC4yNTsKICAgICAgICBpZiAoem9vbSA+IFNOQVBfWk9PTV9USFJFU0hPTEQpIHsKICAgICAgICAgICAgLy8gMS4gR2xvYmFsIFByb2plY3QgR3JpZAogICAgICAgICAgICBjb25zdCBjbG9zZXN0QmVhdCA9IE1hdGgucm91bmQocHJvcG9zZWRTdGFydFRpbWUgLyBiZWF0RHVyYXRpb24pICogYmVhdER1cmF0aW9uOwogICAgICAgICAgICBjYW5kaWRhdGVzLnB1c2goY2xvc2VzdEJlYXQpOwogICAgICAgICAgICBjb25zdCBjbG9zZXN0RW5kQmVhdCA9IE1hdGgucm91bmQoKHByb3Bvc2VkU3RhcnRUaW1lICsgdHJhY2suZHVyYXRpb24pIC8gYmVhdER1cmF0aW9uKSAqIGJlYXREdXJhdGlvbjsKICAgICAgICAgICAgY2FuZGlkYXRlcy5wdXNoKGNsb3Nlc3RFbmRCZWF0IC0gdHJhY2suZHVyYXRpb24pOwogICAgICAgICAgICAvLyAyLiBBZGphY2VudCBUcmFjayBCUE0gU25hcHBpbmcgKEFib3ZlL0JlbG93KQogICAgICAgICAgICBjb25zdCBuZWlnaGJvclRyYWNrcyA9IHRyYWNrcy5maWx0ZXIodCA9PiBNYXRoLmFicyh0LmxhbmUgLSB0YXJnZXRMYW5lKSA9PT0gMSk7CiAgICAgICAgICAgIG5laWdoYm9yVHJhY2tzLmZvckVhY2gobnQgPT4gewogICAgICAgICAgICAgICAgaWYgKG50LmJwbSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG50QmVhdCA9IDYwIC8gbnQuYnBtOwogICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIGJlYXQgb24gdGhlIG5laWdoYm9yIHRyYWNrIGNsb3Nlc3QgdG8gdGhlIGRyYWdnZWQgdHJhY2sncyBzdGFydAogICAgICAgICAgICAgICAgICAgIC8vIG5laWdoYm9yIGJlYXRzIG9jY3VyIGF0OiBudC5zdGFydFRpbWUgKyBrICogbnRCZWF0CiAgICAgICAgICAgICAgICAgICAgLy8gV2Ugd2FudCBudC5zdGFydFRpbWUgKyBrICogbnRCZWF0IH49IHByb3Bvc2VkU3RhcnRUaW1lCiAgICAgICAgICAgICAgICAgICAgLy8gayB+PSAocHJvcG9zZWRTdGFydFRpbWUgLSBudC5zdGFydFRpbWUpIC8gbnRCZWF0CiAgICAgICAgICAgICAgICAgICAgY29uc3QgayA9IE1hdGgucm91bmQoKHByb3Bvc2VkU3RhcnRUaW1lIC0gbnQuc3RhcnRUaW1lKSAvIG50QmVhdCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc25hcFBvaW50ID0gbnQuc3RhcnRUaW1lICsgKGsgKiBudEJlYXQpOwogICAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZXMucHVzaChzbmFwUG9pbnQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgLy8gRXZhbHVhdGUgQ2FuZGlkYXRlcwogICAgICAgIGNhbmRpZGF0ZXMuZm9yRWFjaChjYW5kID0+IHsKICAgICAgICAgICAgLy8gU25hcCBTdGFydAogICAgICAgICAgICBjb25zdCBkaWZmU3RhcnQgPSBNYXRoLmFicyhwcm9wb3NlZFN0YXJ0VGltZSAtIGNhbmQpOwogICAgICAgICAgICBpZiAoZGlmZlN0YXJ0IDwgc25hcFNlY29uZHMgJiYgZGlmZlN0YXJ0IDwgbWluRGlmZikgewogICAgICAgICAgICAgICAgYmVzdFNuYXAgPSBjYW5kOwogICAgICAgICAgICAgICAgbWluRGlmZiA9IGRpZmZTdGFydDsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBTbmFwIEVuZAogICAgICAgICAgICBjb25zdCBteUVuZCA9IHByb3Bvc2VkU3RhcnRUaW1lICsgdHJhY2suZHVyYXRpb247CiAgICAgICAgICAgIGNvbnN0IGRpZmZFbmQgPSBNYXRoLmFicyhteUVuZCAtIGNhbmQpOwogICAgICAgICAgICBpZiAoZGlmZkVuZCA8IHNuYXBTZWNvbmRzICYmIGRpZmZFbmQgPCBtaW5EaWZmKSB7CiAgICAgICAgICAgICAgICBiZXN0U25hcCA9IGNhbmQgLSB0cmFjay5kdXJhdGlvbjsKICAgICAgICAgICAgICAgIG1pbkRpZmYgPSBkaWZmRW5kOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgLy8gQXBwbHkgU25hcCBpZiB2YWxpZCBhbmQgZG9lc24ndCBjYXVzZSBvdmVybGFwCiAgICAgICAgaWYgKGJlc3RTbmFwICE9PSAtMSkgewogICAgICAgICAgICBpZiAoYmVzdFNuYXAgPj0gY2xhbXBlZE1pbiAtIDAuMDAxICYmIGJlc3RTbmFwIDw9IGNsYW1wZWRNYXggKyAwLjAwMSkgewogICAgICAgICAgICAgICAgcHJvcG9zZWRTdGFydFRpbWUgPSBiZXN0U25hcDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLyBGaW5hbCBzYWZldHkgY2xhbXAKICAgICAgICBwcm9wb3NlZFN0YXJ0VGltZSA9IE1hdGgubWF4KGNsYW1wZWRNaW4sIE1hdGgubWluKHByb3Bvc2VkU3RhcnRUaW1lLCBjbGFtcGVkTWF4KSk7CiAgICAgICAgdXBkYXRlVHJhY2soZHJhZ2dpbmdUcmFja0lkLCB7IHN0YXJ0VGltZTogcHJvcG9zZWRTdGFydFRpbWUsIGxhbmU6IHRhcmdldExhbmUgfSk7CiAgICB9OwogICAgY29uc3QgaGFuZGxlVHJhY2tQb2ludGVyVXAgPSAoZSkgPT4gewogICAgICAgIGlmIChkcmFnZ2luZ1RyYWNrSWQpIHsKICAgICAgICAgICAgc2V0RHJhZ2dpbmdUcmFja0lkKG51bGwpOwogICAgICAgICAgICBwdXNoSGlzdG9yeSgpOwogICAgICAgICAgICBpZiAoZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBlLnRhcmdldC5oYXNQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCkpIHsKICAgICAgICAgICAgICAgIGUudGFyZ2V0LnJlbGVhc2VQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgLy8gLS0tIFRyaW0gTG9naWMgLS0tCiAgICBjb25zdCBoYW5kbGVUcmltUG9pbnRlckRvd24gPSAoZSwgdHJhY2ssIHNpZGUpID0+IHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICBzZXRUcmltU3RhdGUoewogICAgICAgICAgICBpc0RyYWdnaW5nOiB0cnVlLCBzaWRlLAogICAgICAgICAgICBpbml0aWFsTW91c2VYOiBlLmNsaWVudFgsCiAgICAgICAgICAgIGluaXRpYWxTdGFydFRpbWU6IHRyYWNrLnN0YXJ0VGltZSwKICAgICAgICAgICAgaW5pdGlhbFRyaW1TdGFydDogdHJhY2sudHJpbVN0YXJ0LAogICAgICAgICAgICBpbml0aWFsRHVyYXRpb246IHRyYWNrLmR1cmF0aW9uLAogICAgICAgICAgICBjdXJyZW50RGVsdGE6IDAKICAgICAgICB9KTsKICAgICAgICBlLnRhcmdldC5zZXRQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCk7CiAgICB9OwogICAgY29uc3QgaGFuZGxlVHJpbVBvaW50ZXJNb3ZlID0gKGUpID0+IHsKICAgICAgICBpZiAoIXRyaW1TdGF0ZT8uaXNEcmFnZ2luZykKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICBjb25zdCBkZWx0YVB4ID0gZS5jbGllbnRYIC0gdHJpbVN0YXRlLmluaXRpYWxNb3VzZVg7CiAgICAgICAgc2V0VHJpbVN0YXRlKHByZXYgPT4gcHJldiA/ICh7IC4uLnByZXYsIGN1cnJlbnREZWx0YTogZGVsdGFQeCAvIHpvb20gfSkgOiBudWxsKTsKICAgIH07CiAgICBjb25zdCBoYW5kbGVUcmltUG9pbnRlclVwID0gKGUsIHRyYWNrKSA9PiB7CiAgICAgICAgaWYgKCF0cmltU3RhdGU/LmlzRHJhZ2dpbmcpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgY29uc3QgdCA9IHRyYWNrIHx8IHRyYWNrcy5maW5kKHRyID0+IHRyLmlkID09PSBlZmZlY3RpdmVTZWxlY3RlZFRyYWNrSWQpOwogICAgICAgIGlmICh0KSB7CiAgICAgICAgICAgIGxldCBjaGFuZ2UgPSB0cmltU3RhdGUuY3VycmVudERlbHRhOwogICAgICAgICAgICBsZXQgeyBzdGFydFRpbWU6IG5ld1N0YXJ0VGltZSwgdHJpbVN0YXJ0OiBuZXdUcmltU3RhcnQsIGR1cmF0aW9uOiBuZXdEdXJhdGlvbiB9ID0gdDsKICAgICAgICAgICAgaWYgKHRyaW1TdGF0ZS5zaWRlID09PSAnc3RhcnQnKSB7CiAgICAgICAgICAgICAgICBpZiAobmV3VHJpbVN0YXJ0ICsgY2hhbmdlIDwgMCkKICAgICAgICAgICAgICAgICAgICBjaGFuZ2UgPSAtbmV3VHJpbVN0YXJ0OwogICAgICAgICAgICAgICAgaWYgKG5ld0R1cmF0aW9uIC0gY2hhbmdlIDwgMC4xKQogICAgICAgICAgICAgICAgICAgIGNoYW5nZSA9IG5ld0R1cmF0aW9uIC0gMC4xOwogICAgICAgICAgICAgICAgbmV3U3RhcnRUaW1lICs9IGNoYW5nZTsKICAgICAgICAgICAgICAgIG5ld0R1cmF0aW9uIC09IGNoYW5nZTsKICAgICAgICAgICAgICAgIG5ld1RyaW1TdGFydCArPSBjaGFuZ2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAobmV3RHVyYXRpb24gKyBjaGFuZ2UgPCAwLjEpCiAgICAgICAgICAgICAgICAgICAgY2hhbmdlID0gMC4xIC0gbmV3RHVyYXRpb247CiAgICAgICAgICAgICAgICBpZiAobmV3VHJpbVN0YXJ0ICsgbmV3RHVyYXRpb24gKyBjaGFuZ2UgPiB0LmJ1ZmZlci5kdXJhdGlvbikKICAgICAgICAgICAgICAgICAgICBjaGFuZ2UgPSB0LmJ1ZmZlci5kdXJhdGlvbiAtIChuZXdUcmltU3RhcnQgKyBuZXdEdXJhdGlvbik7CiAgICAgICAgICAgICAgICBuZXdEdXJhdGlvbiArPSBjaGFuZ2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdXBkYXRlVHJhY2sodC5pZCwgeyBzdGFydFRpbWU6IG5ld1N0YXJ0VGltZSwgdHJpbVN0YXJ0OiBuZXdUcmltU3RhcnQsIGR1cmF0aW9uOiBuZXdEdXJhdGlvbiB9KTsKICAgICAgICAgICAgcHVzaEhpc3RvcnkoKTsKICAgICAgICB9CiAgICAgICAgc2V0VHJpbVN0YXRlKG51bGwpOwogICAgICAgIGlmIChlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIGUudGFyZ2V0Lmhhc1BvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKSkKICAgICAgICAgICAgZS50YXJnZXQucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTsKICAgIH07CiAgICAvLyAtLS0gRmFkZSBIYW5kbGVzIExvZ2ljIC0tLQogICAgY29uc3QgaGFuZGxlRmFkZUhhbmRsZVBvaW50ZXJEb3duID0gKGUpID0+IHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICBpZiAoaW50ZXJhY3RpdmVNb2RlKSB7CiAgICAgICAgICAgIHNldEludGVyYWN0aXZlTW9kZShwcmV2ID0+IHByZXYgPyAoeyAuLi5wcmV2LCBpc0RyYWdnaW5nOiB0cnVlIH0pIDogbnVsbCk7CiAgICAgICAgICAgIGUudGFyZ2V0LnNldFBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTsKICAgICAgICB9CiAgICB9OwogICAgY29uc3QgaGFuZGxlRmFkZUhhbmRsZURyYWcgPSAoZSwgdHJhY2spID0+IHsKICAgICAgICBpZiAoIWludGVyYWN0aXZlTW9kZT8uaXNEcmFnZ2luZyB8fCBpbnRlcmFjdGl2ZU1vZGUudHJhY2tJZCAhPT0gdHJhY2suaWQpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBjb25zdCByZWN0ID0gdGltZWxpbmVSZWYuY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgaWYgKCFyZWN0KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgY29uc3QgbW91c2VSZWwgPSAoZS5jbGllbnRYIC0gcmVjdC5sZWZ0ICsgKHRpbWVsaW5lUmVmLmN1cnJlbnQ/LnNjcm9sbExlZnQgfHwgMCkpIC0gKHRyYWNrLnN0YXJ0VGltZSAqIHpvb20pOwogICAgICAgIGxldCBuZXdEdXIgPSBtb3VzZVJlbCAvIHpvb207CiAgICAgICAgaWYgKGludGVyYWN0aXZlTW9kZS50eXBlID09PSAnZmFkZUluJykgewogICAgICAgICAgICBuZXdEdXIgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihuZXdEdXIsIHRyYWNrLmR1cmF0aW9uKSk7CiAgICAgICAgICAgIHVwZGF0ZVRyYWNrKHRyYWNrLmlkLCB7IGFjdGl2ZUVmZmVjdHM6IHsgLi4udHJhY2suYWN0aXZlRWZmZWN0cywgZmFkZUluOiBuZXdEdXIgfSB9KTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGNvbnN0IGZyb21FbmQgPSB0cmFjay5kdXJhdGlvbiAtIG5ld0R1cjsKICAgICAgICAgICAgbmV3RHVyID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZnJvbUVuZCwgdHJhY2suZHVyYXRpb24pKTsKICAgICAgICAgICAgdXBkYXRlVHJhY2sodHJhY2suaWQsIHsgYWN0aXZlRWZmZWN0czogeyAuLi50cmFjay5hY3RpdmVFZmZlY3RzLCBmYWRlT3V0OiBuZXdEdXIgfSB9KTsKICAgICAgICB9CiAgICB9OwogICAgY29uc3QgaGFuZGxlRmFkZUhhbmRsZVBvaW50ZXJVcCA9IChlLCB0cmFjaykgPT4gewogICAgICAgIGlmIChpbnRlcmFjdGl2ZU1vZGU/LmlzRHJhZ2dpbmcpIHsKICAgICAgICAgICAgc2V0SW50ZXJhY3RpdmVNb2RlKHByZXYgPT4gcHJldiA/ICh7IC4uLnByZXYsIGlzRHJhZ2dpbmc6IGZhbHNlIH0pIDogbnVsbCk7CiAgICAgICAgICAgIHB1c2hIaXN0b3J5KCk7CiAgICAgICAgICAgIGlmIChlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIGUudGFyZ2V0Lmhhc1BvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKSkKICAgICAgICAgICAgICAgIGUudGFyZ2V0LnJlbGVhc2VQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCk7CiAgICAgICAgfQogICAgfTsKICAgIGNvbnN0IGRlbGV0ZVNlbGVjdGVkVHJhY2sgPSAoKSA9PiB7IGlmIChzZWxlY3RlZFRyYWNrSWQpIHsKICAgICAgICBzZXRUcmFja3MocHJldiA9PiBwcmV2LmZpbHRlcih0ID0+IHQuaWQgIT09IHNlbGVjdGVkVHJhY2tJZCkpOwogICAgICAgIHNldFNlbGVjdGVkVHJhY2tJZChudWxsKTsKICAgIH0gfTsKICAgIGNvbnN0IGhhbmRsZVRvZ2dsZVJlY29yZCA9IGFzeW5jICgpID0+IHsKICAgICAgICBpZiAoaXNSZWNvcmRpbmcpIHsKICAgICAgICAgICAgbWVkaWFSZWNvcmRlclJlZi5jdXJyZW50Py5zdG9wKCk7CiAgICAgICAgICAgIHNldElzUmVjb3JkaW5nKGZhbHNlKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlIH0pOwogICAgICAgICAgICAgICAgY29uc3QgbWVkaWFSZWNvcmRlciA9IG5ldyBNZWRpYVJlY29yZGVyKHN0cmVhbSk7CiAgICAgICAgICAgICAgICBjb25zdCBjaHVua3MgPSBbXTsKICAgICAgICAgICAgICAgIG1lZGlhUmVjb3JkZXIub25kYXRhYXZhaWxhYmxlID0gZSA9PiBjaHVua3MucHVzaChlLmRhdGEpOwogICAgICAgICAgICAgICAgbWVkaWFSZWNvcmRlci5vbnN0b3AgPSBhc3luYyAoKSA9PiB7IGNvbnN0IGJsb2IgPSBuZXcgQmxvYihjaHVua3MsIHsgdHlwZTogJ2F1ZGlvL3dlYm0nIH0pOyBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGJsb2IuYXJyYXlCdWZmZXIoKTsgY29uc3QgYXVkaW9CdWZmZXIgPSBhd2FpdCBkZWNvZGVBdWRpb0RhdGEoYXJyYXlCdWZmZXIpOyBwdXNoSGlzdG9yeSgpOyBjb25zdCBzdGFydExhbmUgPSB0cmFja3MubGVuZ3RoID4gMCA/IE1hdGgubWF4KC4uLnRyYWNrcy5tYXAodCA9PiB0LmxhbmUpKSArIDEgOiAwOyBjb25zdCBuZXdUcmFjayA9IHsgaWQ6IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KSwgbmFtZTogYFJlY29yZGluZ2AsIGJ1ZmZlcjogYXVkaW9CdWZmZXIsIHN0YXJ0VGltZTogY3VycmVudFRpbWUsIHRyaW1TdGFydDogMCwgZHVyYXRpb246IGF1ZGlvQnVmZmVyLmR1cmF0aW9uLCBsYW5lOiBzdGFydExhbmUsIHZvbHVtZTogMS4wLCBpc011dGVkOiBmYWxzZSwgaXNTb2xvOiBmYWxzZSwgY29sb3I6IFRSQUNLX0NPTE9SU1tzdGFydExhbmUgJSBUUkFDS19DT0xPUlMubGVuZ3RoXSB9OyBzZXRUcmFja3MocHJldiA9PiBbLi4ucHJldiwgbmV3VHJhY2tdKTsgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4gdHJhY2suc3RvcCgpKTsgfTsKICAgICAgICAgICAgICAgIG1lZGlhUmVjb3JkZXIuc3RhcnQoKTsKICAgICAgICAgICAgICAgIHNldElzUmVjb3JkaW5nKHRydWUpOwogICAgICAgICAgICAgICAgaWYgKCFpc1BsYXlpbmcpCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlUGxheVBhdXNlKCk7CiAgICAgICAgICAgICAgICBtZWRpYVJlY29yZGVyUmVmLmN1cnJlbnQgPSBtZWRpYVJlY29yZGVyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgiTWljcm9waG9uZSBhY2Nlc3MgZGVuaWVkIG9yIGVycm9yOiAiICsgZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgY29uc3QgdXBkYXRlVHJhY2sgPSAoaWQsIHVwZGF0ZXMpID0+IHNldFRyYWNrcyhwcmV2ID0+IHByZXYubWFwKHQgPT4gdC5pZCA9PT0gaWQgPyB7IC4uLnQsIC4uLnVwZGF0ZXMgfSA6IHQpKTsKICAgIGNvbnN0IGRlbGV0ZVRyYWNrID0gKGlkKSA9PiB7IHB1c2hIaXN0b3J5KCk7IHNldFRyYWNrcyhwcmV2ID0+IHByZXYuZmlsdGVyKHQgPT4gdC5pZCAhPT0gaWQpKTsgaWYgKGVmZmVjdGl2ZVNlbGVjdGVkVHJhY2tJZCA9PT0gaWQpIHsKICAgICAgICBzZXRTZWxlY3RlZFRyYWNrSWQobnVsbCk7CiAgICAgICAgc2V0SXNUcmltTW9kZShmYWxzZSk7CiAgICB9IHNldFNlbGVjdGlvbihudWxsKTsgfTsKICAgIC8vIC4uLiAoS2VlcCBjb21wbGV4IGxvZ2ljIGZvciBDcm9wL0N1dC9FZmZlY3RzL0V4cG9ydCAtIG1pbmltYWwgY2hhbmdlcyBuZWVkZWQgdGhlcmUpIC4uLgogICAgY29uc3QgaGFuZGxlQ3JvcCA9ICgpID0+IHsgaWYgKCFlZmZlY3RpdmVTZWxlY3RlZFRyYWNrSWQpCiAgICAgICAgcmV0dXJuOyBpZiAoc2VsZWN0aW9uKSB7CiAgICAgICAgY29uc3QgdHJhY2sgPSB0cmFja3MuZmluZCh0ID0+IHQuaWQgPT09IGVmZmVjdGl2ZVNlbGVjdGVkVHJhY2tJZCk7CiAgICAgICAgaWYgKCF0cmFjaykKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIHB1c2hIaXN0b3J5KCk7CiAgICAgICAgY29uc3QgcmVsU3RhcnQgPSBNYXRoLm1heCgwLCBzZWxlY3Rpb24uc3RhcnQgLSB0cmFjay5zdGFydFRpbWUpOwogICAgICAgIGNvbnN0IHJlbEVuZCA9IE1hdGgubWluKHRyYWNrLmR1cmF0aW9uLCBzZWxlY3Rpb24uZW5kIC0gdHJhY2suc3RhcnRUaW1lKTsKICAgICAgICBpZiAocmVsRW5kID4gcmVsU3RhcnQpIHsKICAgICAgICAgICAgY29uc3QgbmV3VHJpbVN0YXJ0ID0gdHJhY2sudHJpbVN0YXJ0ICsgcmVsU3RhcnQ7CiAgICAgICAgICAgIGNvbnN0IG5ld0R1cmF0aW9uID0gcmVsRW5kIC0gcmVsU3RhcnQ7CiAgICAgICAgICAgIHVwZGF0ZVRyYWNrKGVmZmVjdGl2ZVNlbGVjdGVkVHJhY2tJZCwgeyB0cmltU3RhcnQ6IG5ld1RyaW1TdGFydCwgZHVyYXRpb246IG5ld0R1cmF0aW9uLCBzdGFydFRpbWU6IHNlbGVjdGlvbi5zdGFydCB9KTsKICAgICAgICB9CiAgICAgICAgc2V0U2VsZWN0aW9uKG51bGwpOwogICAgICAgIHNldElzVHJpbU1vZGUoZmFsc2UpOwogICAgICAgIHN0b3BQbGF5YmFjaygpOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgY29uc3Qgd2lsbEVuYWJsZSA9ICFpc1RyaW1Nb2RlOwogICAgICAgIGlmICh3aWxsRW5hYmxlICYmICFzZWxlY3RlZFRyYWNrSWQpIHsKICAgICAgICAgICAgc2V0U2VsZWN0ZWRUcmFja0lkKGVmZmVjdGl2ZVNlbGVjdGVkVHJhY2tJZCk7CiAgICAgICAgfQogICAgICAgIHNldElzVHJpbU1vZGUod2lsbEVuYWJsZSk7CiAgICAgICAgaWYgKCF3aWxsRW5hYmxlKQogICAgICAgICAgICBzZXRUcmltU3RhdGUobnVsbCk7CiAgICB9IH07CiAgICBjb25zdCBoYW5kbGVDdXQgPSAoKSA9PiB7IGlmICghZWZmZWN0aXZlU2VsZWN0ZWRUcmFja0lkKSB7CiAgICAgICAgYWxlcnQoIlNlbGVjdCBhIHRyYWNrIHRvIGN1dC4iKTsKICAgICAgICByZXR1cm47CiAgICB9IGNvbnN0IHRyYWNrID0gdHJhY2tzUmVmLmN1cnJlbnQuZmluZCh0ID0+IHQuaWQgPT09IGVmZmVjdGl2ZVNlbGVjdGVkVHJhY2tJZCk7IGlmICghdHJhY2spCiAgICAgICAgcmV0dXJuOyBjb25zdCByZWxUaW1lID0gY3VycmVudFRpbWUgLSB0cmFjay5zdGFydFRpbWU7IGlmIChyZWxUaW1lIDw9IDAuMDUgfHwgcmVsVGltZSA+PSB0cmFjay5kdXJhdGlvbiAtIDAuMDUpIHsKICAgICAgICBhbGVydCgiUGxhY2UgcGxheWhlYWQgaW5zaWRlIHRyYWNrLiIpOwogICAgICAgIHJldHVybjsKICAgIH0gY29uc3Qgc3BsaXRQb2ludEluRmlsZSA9IHRyYWNrLnRyaW1TdGFydCArIHJlbFRpbWU7IHB1c2hIaXN0b3J5KCk7IGNvbnN0IHQxID0geyAuLi50cmFjaywgaWQ6IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KSwgbmFtZTogYCR7dHJhY2submFtZX0gQWAsIGR1cmF0aW9uOiByZWxUaW1lLCBicG06IHRyYWNrLmJwbSB9OyBjb25zdCB0MiA9IHsgLi4udHJhY2ssIGlkOiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSksIG5hbWU6IGAke3RyYWNrLm5hbWV9IEJgLCBzdGFydFRpbWU6IHRyYWNrLnN0YXJ0VGltZSArIHJlbFRpbWUsIHRyaW1TdGFydDogc3BsaXRQb2ludEluRmlsZSwgZHVyYXRpb246IHRyYWNrLmR1cmF0aW9uIC0gcmVsVGltZSwgYnBtOiB0cmFjay5icG0gfTsgc2V0VHJhY2tzKHByZXYgPT4geyBjb25zdCBpZHggPSBwcmV2LmZpbmRJbmRleCh0ID0+IHQuaWQgPT09IHRyYWNrLmlkKTsgY29uc3QgbiA9IFsuLi5wcmV2XTsgbi5zcGxpY2UoaWR4LCAxLCB0MSwgdDIpOyByZXR1cm4gbjsgfSk7IHNldFNlbGVjdGVkVHJhY2tJZCh0Mi5pZCk7IHNldElzVHJpbU1vZGUoZmFsc2UpOyBzdG9wUGxheWJhY2soKTsgfTsKICAgIGNvbnN0IGhhbmRsZUFwcGx5RWZmZWN0ID0gYXN5bmMgKGVmZmVjdElkLCBwYXJhbXMpID0+IHsgLyogLi4uIHJldXNlIC4uLiAqLyBpZiAoIWVmZmVjdGl2ZVNlbGVjdGVkVHJhY2tJZCkKICAgICAgICByZXR1cm47IGNvbnN0IHRyYWNrID0gdHJhY2tzLmZpbmQodCA9PiB0LmlkID09PSBlZmZlY3RpdmVTZWxlY3RlZFRyYWNrSWQpOyBpZiAoIXRyYWNrKQogICAgICAgIHJldHVybjsgaWYgKHBhcmFtcz8uaW50ZXJhY3RpdmUpIHsKICAgICAgICBpZiAoIXNlbGVjdGVkVHJhY2tJZCkKICAgICAgICAgICAgc2V0U2VsZWN0ZWRUcmFja0lkKGVmZmVjdGl2ZVNlbGVjdGVkVHJhY2tJZCk7CiAgICAgICAgc2V0SW50ZXJhY3RpdmVNb2RlKHsgdHlwZTogZWZmZWN0SWQsIHRyYWNrSWQ6IHRyYWNrLmlkLCBpc0RyYWdnaW5nOiBmYWxzZSB9KTsKICAgICAgICBjb25zdCBkZWZhdWx0RmFkZSA9IE1hdGgubWluKHRyYWNrLmR1cmF0aW9uLCAyLjApOwogICAgICAgIGNvbnN0IGN1cnJlbnRFZmZlY3RzID0gdHJhY2suYWN0aXZlRWZmZWN0cyB8fCB7fTsKICAgICAgICBpZiAoZWZmZWN0SWQgPT09ICdmYWRlSW4nICYmICFjdXJyZW50RWZmZWN0cy5mYWRlSW4pIHsKICAgICAgICAgICAgdXBkYXRlVHJhY2sodHJhY2suaWQsIHsgYWN0aXZlRWZmZWN0czogeyAuLi5jdXJyZW50RWZmZWN0cywgZmFkZUluOiBkZWZhdWx0RmFkZSB9IH0pOwogICAgICAgIH0KICAgICAgICBpZiAoZWZmZWN0SWQgPT09ICdmYWRlT3V0JyAmJiAhY3VycmVudEVmZmVjdHMuZmFkZU91dCkgewogICAgICAgICAgICB1cGRhdGVUcmFjayh0cmFjay5pZCwgeyBhY3RpdmVFZmZlY3RzOiB7IC4uLmN1cnJlbnRFZmZlY3RzLCBmYWRlT3V0OiBkZWZhdWx0RmFkZSB9IH0pOwogICAgICAgIH0KICAgICAgICByZXR1cm47CiAgICB9IHB1c2hIaXN0b3J5KCk7IGlmIChlZmZlY3RJZCA9PT0gJ3ZvbHVtZScpIHsKICAgICAgICB1cGRhdGVUcmFjayh0cmFjay5pZCwgeyB2b2x1bWU6IHBhcmFtcz8ubGV2ZWwgPz8gMS4wIH0pOwogICAgICAgIHNldEFwcFN0YXRlKEFwcFN0YXRlLkVESVRJTkcpOwogICAgICAgIHJldHVybjsKICAgIH0gc2V0QXBwU3RhdGUoQXBwU3RhdGUuUFJPQ0VTU0lORyk7IHN0b3BQbGF5YmFjaygpOyB0cnkgewogICAgICAgIGlmIChlZmZlY3RJZCA9PT0gJ2Nyb3NzZmFkZScpIHsgLyogLi4uIGNyb3NzZmFkZSBsb2dpYyAuLi4gKi8KICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBwYXJhbXM/LmR1cmF0aW9uIHx8IDEuMDsKICAgICAgICAgICAgY29uc3QgdGFyZ2V0TGFuZSA9IHRyYWNrLmxhbmU7CiAgICAgICAgICAgIGNvbnN0IHNwbGl0VGltZSA9IGN1cnJlbnRUaW1lOwogICAgICAgICAgICBjb25zdCB0aHJlc2hvbGQgPSAwLjE7CiAgICAgICAgICAgIGNvbnN0IGxlZnRUcmFjayA9IHRyYWNrcy5maW5kKHQgPT4gdC5sYW5lID09PSB0YXJnZXRMYW5lICYmIE1hdGguYWJzKCh0LnN0YXJ0VGltZSArIHQuZHVyYXRpb24pIC0gc3BsaXRUaW1lKSA8IHRocmVzaG9sZCk7CiAgICAgICAgICAgIGNvbnN0IHJpZ2h0VHJhY2sgPSB0cmFja3MuZmluZCh0ID0+IHQubGFuZSA9PT0gdGFyZ2V0TGFuZSAmJiBNYXRoLmFicyh0LnN0YXJ0VGltZSAtIHNwbGl0VGltZSkgPCB0aHJlc2hvbGQpOwogICAgICAgICAgICBpZiAobGVmdFRyYWNrICYmIHJpZ2h0VHJhY2spIHsKICAgICAgICAgICAgICAgIGNvbnN0IG1lcmdlZEJ1ZmZlciA9IGF3YWl0IG1lcmdlQnVmZmVycyhsZWZ0VHJhY2suYnVmZmVyLCByaWdodFRyYWNrLmJ1ZmZlciwgZHVyYXRpb24pOwogICAgICAgICAgICAgICAgY29uc3QgbmV3VHJhY2sgPSB7IGlkOiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSksIG5hbWU6IGBNZXJnZWQgKCR7bGVmdFRyYWNrLm5hbWV9ICsgJHtyaWdodFRyYWNrLm5hbWV9KWAsIGJ1ZmZlcjogbWVyZ2VkQnVmZmVyLCBzdGFydFRpbWU6IGxlZnRUcmFjay5zdGFydFRpbWUsIHRyaW1TdGFydDogMCwgZHVyYXRpb246IG1lcmdlZEJ1ZmZlci5kdXJhdGlvbiwgbGFuZTogdGFyZ2V0TGFuZSwgdm9sdW1lOiAxLjAsIGlzTXV0ZWQ6IGZhbHNlLCBpc1NvbG86IGZhbHNlLCBjb2xvcjogbGVmdFRyYWNrLmNvbG9yLCBicG06IGxlZnRUcmFjay5icG0gPT09IHJpZ2h0VHJhY2suYnBtID8gbGVmdFRyYWNrLmJwbSA6IHVuZGVmaW5lZCwgY3Jvc3NmYWRlTWV0YWRhdGE6IHsgbGVmdDogbGVmdFRyYWNrLCByaWdodDogcmlnaHRUcmFjaywgZHVyYXRpb24gfSB9OwogICAgICAgICAgICAgICAgc2V0VHJhY2tzKHByZXYgPT4geyBjb25zdCBmaWx0ZXJlZCA9IHByZXYuZmlsdGVyKHQgPT4gdC5pZCAhPT0gbGVmdFRyYWNrLmlkICYmIHQuaWQgIT09IHJpZ2h0VHJhY2suaWQpOyByZXR1cm4gWy4uLmZpbHRlcmVkLCBuZXdUcmFja107IH0pOwogICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRUcmFja0lkKG5ld1RyYWNrLmlkKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCJUbyBjcm9zc2ZhZGUsIHBsYWNlIHR3byBjbGlwcyBzaWRlLWJ5LXNpZGUgb24gdGhlIHNhbWUgbGFuZSBhbmQgbW92ZSB0aGUgcGxheWhlYWQgdG8gdGhlaXIgbWVldGluZyBwb2ludC4iKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZXRBcHBTdGF0ZShBcHBTdGF0ZS5FRElUSU5HKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBsZXQgbmV3RWZmZWN0cyA9IHsgLi4uKHRyYWNrLmFjdGl2ZUVmZmVjdHMgfHwge30pIH07CiAgICAgICAgaWYgKHBhcmFtcz8ucmVzdG9yZSkgewogICAgICAgICAgICBpZiAoZWZmZWN0SWQgPT09ICdmYWRlSW4nKQogICAgICAgICAgICAgICAgZGVsZXRlIG5ld0VmZmVjdHMuZmFkZUluOwogICAgICAgICAgICBpZiAoZWZmZWN0SWQgPT09ICdmYWRlT3V0JykKICAgICAgICAgICAgICAgIGRlbGV0ZSBuZXdFZmZlY3RzLmZhZGVPdXQ7CiAgICAgICAgICAgIGlmIChlZmZlY3RJZCA9PT0gJ2VxJykKICAgICAgICAgICAgICAgIGRlbGV0ZSBuZXdFZmZlY3RzLmVxUHJlc2V0OwogICAgICAgICAgICBpZiAoZWZmZWN0SWQgPT09ICdub3JtYWxpemUnKQogICAgICAgICAgICAgICAgZGVsZXRlIG5ld0VmZmVjdHMubm9ybWFsaXplOwogICAgICAgICAgICBpZiAoZWZmZWN0SWQgPT09ICdyZXZlcnNlJykKICAgICAgICAgICAgICAgIGRlbGV0ZSBuZXdFZmZlY3RzLnJldmVyc2U7CiAgICAgICAgICAgIGlmIChlZmZlY3RJZCA9PT0gJ3NwZWVkJykKICAgICAgICAgICAgICAgIGRlbGV0ZSBuZXdFZmZlY3RzLnBsYXliYWNrUmF0ZTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoZWZmZWN0SWQgIT09ICdhcHBseUFjdGl2ZUZhZGVzJykgewogICAgICAgICAgICBpZiAoZWZmZWN0SWQgPT09ICdmYWRlSW4nKQogICAgICAgICAgICAgICAgbmV3RWZmZWN0cy5mYWRlSW4gPSBwYXJhbXM/LmR1cmF0aW9uOwogICAgICAgICAgICBpZiAoZWZmZWN0SWQgPT09ICdmYWRlT3V0JykKICAgICAgICAgICAgICAgIG5ld0VmZmVjdHMuZmFkZU91dCA9IHBhcmFtcz8uZHVyYXRpb247CiAgICAgICAgICAgIGlmIChlZmZlY3RJZCA9PT0gJ2VxJykKICAgICAgICAgICAgICAgIG5ld0VmZmVjdHMuZXFQcmVzZXQgPSBwYXJhbXM/LnByZXNldDsKICAgICAgICAgICAgaWYgKGVmZmVjdElkID09PSAnbm9ybWFsaXplJykKICAgICAgICAgICAgICAgIG5ld0VmZmVjdHMubm9ybWFsaXplID0gdHJ1ZTsKICAgICAgICAgICAgaWYgKGVmZmVjdElkID09PSAncmV2ZXJzZScpCiAgICAgICAgICAgICAgICBuZXdFZmZlY3RzLnJldmVyc2UgPSB0cnVlOwogICAgICAgICAgICBpZiAoZWZmZWN0SWQgPT09ICdzcGVlZCcpCiAgICAgICAgICAgICAgICBuZXdFZmZlY3RzLnBsYXliYWNrUmF0ZSA9IHBhcmFtcz8ucGxheWJhY2tSYXRlOwogICAgICAgICAgICBpZiAocGFyYW1zPy50b2dnbGUpIHsKICAgICAgICAgICAgICAgIGlmIChlZmZlY3RJZCA9PT0gJ25vcm1hbGl6ZScpCiAgICAgICAgICAgICAgICAgICAgbmV3RWZmZWN0cy5ub3JtYWxpemUgPSAhdHJhY2suYWN0aXZlRWZmZWN0cz8ubm9ybWFsaXplOwogICAgICAgICAgICAgICAgaWYgKGVmZmVjdElkID09PSAncmV2ZXJzZScpCiAgICAgICAgICAgICAgICAgICAgbmV3RWZmZWN0cy5yZXZlcnNlID0gIXRyYWNrLmFjdGl2ZUVmZmVjdHM/LnJldmVyc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgbGV0IHBpcGVsaW5lQnVmZmVyID0gdHJhY2sub3JpZ2luYWxCdWZmZXIgfHwgdHJhY2suYnVmZmVyOwogICAgICAgIGlmIChuZXdFZmZlY3RzLnJldmVyc2UpIHsKICAgICAgICAgICAgcGlwZWxpbmVCdWZmZXIgPSByZXZlcnNlQnVmZmVyKHBpcGVsaW5lQnVmZmVyKTsKICAgICAgICB9CiAgICAgICAgaWYgKG5ld0VmZmVjdHMucGxheWJhY2tSYXRlICYmIG5ld0VmZmVjdHMucGxheWJhY2tSYXRlICE9PSAxLjApIHsKICAgICAgICAgICAgcGlwZWxpbmVCdWZmZXIgPSBhd2FpdCBjaGFuZ2VTcGVlZChwaXBlbGluZUJ1ZmZlciwgbmV3RWZmZWN0cy5wbGF5YmFja1JhdGUpOwogICAgICAgIH0KICAgICAgICBpZiAobmV3RWZmZWN0cy5lcVByZXNldCkgewogICAgICAgICAgICBwaXBlbGluZUJ1ZmZlciA9IGF3YWl0IGFwcGx5RVEocGlwZWxpbmVCdWZmZXIsIG5ld0VmZmVjdHMuZXFQcmVzZXQpOwogICAgICAgIH0KICAgICAgICBpZiAobmV3RWZmZWN0cy5ub3JtYWxpemUpIHsKICAgICAgICAgICAgcGlwZWxpbmVCdWZmZXIgPSBub3JtYWxpemVCdWZmZXIocGlwZWxpbmVCdWZmZXIpOwogICAgICAgIH0KICAgICAgICBpZiAobmV3RWZmZWN0cy5mYWRlSW4pIHsKICAgICAgICAgICAgcGlwZWxpbmVCdWZmZXIgPSBhd2FpdCBhcHBseUZhZGUocGlwZWxpbmVCdWZmZXIsICdpbicsIG5ld0VmZmVjdHMuZmFkZUluKTsKICAgICAgICB9CiAgICAgICAgaWYgKG5ld0VmZmVjdHMuZmFkZU91dCkgewogICAgICAgICAgICBwaXBlbGluZUJ1ZmZlciA9IGF3YWl0IGFwcGx5RmFkZShwaXBlbGluZUJ1ZmZlciwgJ291dCcsIG5ld0VmZmVjdHMuZmFkZU91dCk7CiAgICAgICAgfQogICAgICAgIHVwZGF0ZVRyYWNrKHRyYWNrLmlkLCB7IGJ1ZmZlcjogcGlwZWxpbmVCdWZmZXIsIG9yaWdpbmFsQnVmZmVyOiB0cmFjay5vcmlnaW5hbEJ1ZmZlciB8fCB0cmFjay5idWZmZXIsIGFjdGl2ZUVmZmVjdHM6IG5ld0VmZmVjdHMsIGR1cmF0aW9uOiBwaXBlbGluZUJ1ZmZlci5kdXJhdGlvbiB9KTsKICAgICAgICBzZXRBcHBTdGF0ZShBcHBTdGF0ZS5FRElUSU5HKTsKICAgIH0KICAgIGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihlKTsKICAgICAgICBzZXRBcHBTdGF0ZShBcHBTdGF0ZS5FUlJPUik7CiAgICB9IH07CiAgICBjb25zdCBoYW5kbGVBZGRCZWF0ID0gKGdlbmVyYXRlZEJ1ZmZlciwgbmFtZSkgPT4geyAvKiAuLi4gKi8gcHVzaEhpc3RvcnkoKTsgY29uc3Qgc3RhcnRMYW5lID0gdHJhY2tzLmxlbmd0aCA+IDAgPyBNYXRoLm1heCguLi50cmFja3MubWFwKHQgPT4gdC5sYW5lKSkgKyAxIDogMDsgbGV0IHBhcnNlZEJwbTsgY29uc3QgYnBtTWF0Y2ggPSBuYW1lLm1hdGNoKC9cKChcZCspXHMqQlBNXCkvKTsgaWYgKGJwbU1hdGNoICYmIGJwbU1hdGNoWzFdKQogICAgICAgIHBhcnNlZEJwbSA9IHBhcnNlSW50KGJwbU1hdGNoWzFdKTsgc2V0VHJhY2tzKHByZXYgPT4gWy4uLnByZXYsIHsgaWQ6IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KSwgbmFtZSwgYnVmZmVyOiBnZW5lcmF0ZWRCdWZmZXIsIHN0YXJ0VGltZTogY3VycmVudFRpbWUsIHRyaW1TdGFydDogMCwgZHVyYXRpb246IGdlbmVyYXRlZEJ1ZmZlci5kdXJhdGlvbiwgbGFuZTogc3RhcnRMYW5lLCB2b2x1bWU6IDAuOCwgaXNNdXRlZDogZmFsc2UsIGlzU29sbzogZmFsc2UsIGNvbG9yOiBUUkFDS19DT0xPUlNbc3RhcnRMYW5lICUgVFJBQ0tfQ09MT1JTLmxlbmd0aF0sIGJwbTogcGFyc2VkQnBtIH1dKTsgc2V0SXNUcmltTW9kZShmYWxzZSk7IH07CiAgICBjb25zdCBoYW5kbGVFeHBvcnQgPSBhc3luYyAodGFyZ2V0UmF0ZSwgZm9ybWF0KSA9PiB7IGlmICh0cmFja3MubGVuZ3RoID09PSAwKQogICAgICAgIHJldHVybjsgc2V0QXBwU3RhdGUoQXBwU3RhdGUuUFJPQ0VTU0lORyk7IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4geyB0cnkgewogICAgICAgIGNvbnN0IG1peGVkID0gYXdhaXQgbWl4VHJhY2tzKHRyYWNrcywgbWF4RHVyYXRpb24pOwogICAgICAgIGNvbnN0IHByb2Nlc3NlZCA9IGF3YWl0IHJlc2FtcGxlQnVmZmVyKG1peGVkLCB0YXJnZXRSYXRlKTsKICAgICAgICBsZXQgYmxvYjsKICAgICAgICBsZXQgZXh0ZW5zaW9uOwogICAgICAgIGlmIChmb3JtYXQgPT09ICdtcDMnKSB7CiAgICAgICAgICAgIGJsb2IgPSBlbmNvZGVNUDMocHJvY2Vzc2VkKTsKICAgICAgICAgICAgZXh0ZW5zaW9uID0gJ21wMyc7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBibG9iID0gZW5jb2RlV0FWKHByb2Nlc3NlZCk7CiAgICAgICAgICAgIGV4dGVuc2lvbiA9ICd3YXYnOwogICAgICAgIH0KICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgYS5ocmVmID0gdXJsOwogICAgICAgIGEuZG93bmxvYWQgPSBgc29uaWNwb2NrZXRfbWl4XyR7RGF0ZS5ub3coKX0uJHtleHRlbnNpb259YDsKICAgICAgICBhLmNsaWNrKCk7CiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOwogICAgfQogICAgY2F0Y2ggKGUpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgICAgIGFsZXJ0KCJFeHBvcnQgZmFpbGVkOiAiICsgKGUgaW5zdGFuY2VvZiBFcnJvciA/IGUubWVzc2FnZSA6IFN0cmluZyhlKSkpOwogICAgfQogICAgZmluYWxseSB7CiAgICAgICAgc2V0QXBwU3RhdGUoQXBwU3RhdGUuRURJVElORyk7CiAgICB9IH0sIDEwMCk7IH07CiAgICBjb25zdCBoYW5kbGVXaGVlbCA9IChlKSA9PiB7CiAgICAgICAgaWYgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBjb25zdCBuZXdab29tID0gem9vbSArICgtZS5kZWx0YVkgKiAwLjUpOwogICAgICAgICAgICBwZXJmb3JtWm9vbShuZXdab29tKTsKICAgICAgICB9CiAgICB9OwogICAgLy8gLS0tIFBlcnNpc3RlbmNlIChOZXcgcHJvamVjdCBsb2dpYyByZS1hZGRlZCBmcm9tIGNvbnRleHQpIC0tLQogICAgY29uc3QgaGFuZGxlU2F2ZUFuZENsb3NlID0gYXN5bmMgKCkgPT4geyBpZiAoc2F2ZVRpbWVvdXRSZWYuY3VycmVudCkKICAgICAgICBjbGVhclRpbWVvdXQoc2F2ZVRpbWVvdXRSZWYuY3VycmVudCk7IHRyeSB7CiAgICAgICAgaWYgKCh0cmFja3MubGVuZ3RoID4gMCB8fCBjdXJyZW50UHJvamVjdElkKSAmJiAhaWdub3JlQ2hhbmdlc1JlZi5jdXJyZW50KSB7CiAgICAgICAgICAgIGxldCBwaWQgPSBjdXJyZW50UHJvamVjdElkOwogICAgICAgICAgICBsZXQgcG5hbWUgPSBjdXJyZW50UHJvamVjdE5hbWU7CiAgICAgICAgICAgIGlmICghcGlkICYmIHRyYWNrcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGF3YWl0IGxvYWRQcm9qZWN0cygpOwogICAgICAgICAgICAgICAgcGlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpOwogICAgICAgICAgICAgICAgcG5hbWUgPSBgUHJvamVjdCAke3Byb2plY3RzLmxlbmd0aCArIDF9YDsKICAgICAgICAgICAgICAgIHNldEN1cnJlbnRQcm9qZWN0SWQocGlkKTsKICAgICAgICAgICAgICAgIHNldEN1cnJlbnRQcm9qZWN0TmFtZShwbmFtZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHBpZCkgewogICAgICAgICAgICAgICAgc2V0U2F2ZVN0YXR1cygnc2F2aW5nJyk7CiAgICAgICAgICAgICAgICBjb25zdCB0aHVtYiA9IGdlbmVyYXRlUHJvamVjdFByZXZpZXcodHJhY2tzLCAxMDAsIDEwMCk7CiAgICAgICAgICAgICAgICBhd2FpdCBzYXZlUHJvamVjdChwaWQsIHBuYW1lLCB0cmFja3MsIHRodW1iKTsKICAgICAgICAgICAgICAgIHNldFJlY2VudFByb2plY3RQcmV2aWV3KHRodW1iKTsKICAgICAgICAgICAgICAgIHNldFNhdmVTdGF0dXMoJ3NhdmVkJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IGxvYWRQcm9qZWN0cygpOwogICAgICAgICAgICBzZXRTYXZlZFByb2plY3RzKHVwZGF0ZWQpOwogICAgICAgIH0KICAgIH0KICAgIGNhdGNoIChlKSB7CiAgICAgICAgYWxlcnQoIkNvdWxkIG5vdCBzYXZlIHByb2plY3QuIENoZWNrIHlvdXIgZGV2aWNlIHN0b3JhZ2UuIik7CiAgICAgICAgc2V0U2F2ZVN0YXR1cygndW5zYXZlZCcpOwogICAgfSBzZXRBcHBTdGF0ZShBcHBTdGF0ZS5MSUJSQVJZKTsgfTsKICAgIGNvbnN0IGhhbmRsZU5ld1Byb2plY3QgPSAoKSA9PiB7IHN0b3BQbGF5YmFjaygpOyBpZiAoc2F2ZVRpbWVvdXRSZWYuY3VycmVudCkKICAgICAgICBjbGVhclRpbWVvdXQoc2F2ZVRpbWVvdXRSZWYuY3VycmVudCk7IGlnbm9yZUNoYW5nZXNSZWYuY3VycmVudCA9IHRydWU7IHNldFRyYWNrcyhbXSk7IHNldEhpc3RvcnkoW10pOyBzZXRTZWxlY3Rpb24obnVsbCk7IHNldEN1cnJlbnRUaW1lKDApOyBzZXRDdXJyZW50UHJvamVjdElkKG51bGwpOyBzZXRDdXJyZW50UHJvamVjdE5hbWUoIiIpOyBzZXRSZWNlbnRQcm9qZWN0UHJldmlldyhudWxsKTsgc2V0U2F2ZVN0YXR1cygnc2F2ZWQnKTsgc2V0TG9hZEVycm9yKG51bGwpOyBzZXRJbnRlcmFjdGl2ZU1vZGUobnVsbCk7IHNldEFwcFN0YXRlKEFwcFN0YXRlLklETEUpOyBzZXRUaW1lb3V0KCgpID0+IHsgaWdub3JlQ2hhbmdlc1JlZi5jdXJyZW50ID0gZmFsc2U7IH0sIDEwMCk7IH07CiAgICAvLyAtLS0gTGlicmFyeSBBdXRvc2F2ZSBFZmZlY3QgKHJlLWFkZGVkKSAtLS0KICAgIHVzZUVmZmVjdCgoKSA9PiB7IGlmIChpZ25vcmVDaGFuZ2VzUmVmLmN1cnJlbnQpCiAgICAgICAgcmV0dXJuOyBpZiAodHJhY2tzLmxlbmd0aCA9PT0gMCAmJiAhY3VycmVudFByb2plY3RJZCkKICAgICAgICByZXR1cm47IGlzRGlydHlSZWYuY3VycmVudCA9IHRydWU7IHNldFNhdmVTdGF0dXMoJ3Vuc2F2ZWQnKTsgaWYgKHNhdmVUaW1lb3V0UmVmLmN1cnJlbnQpCiAgICAgICAgY2xlYXJUaW1lb3V0KHNhdmVUaW1lb3V0UmVmLmN1cnJlbnQpOyBzYXZlVGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dChhc3luYyAoKSA9PiB7IGlmICghaXNEaXJ0eVJlZi5jdXJyZW50KQogICAgICAgIHJldHVybjsgaWYgKGFwcFN0YXRlICE9PSBBcHBTdGF0ZS5FRElUSU5HKQogICAgICAgIHJldHVybjsgc2V0U2F2ZVN0YXR1cygnc2F2aW5nJyk7IHRyeSB7CiAgICAgICAgbGV0IHBpZCA9IGN1cnJlbnRQcm9qZWN0SWQ7CiAgICAgICAgbGV0IHBuYW1lID0gY3VycmVudFByb2plY3ROYW1lOwogICAgICAgIGlmICghcGlkKSB7CiAgICAgICAgICAgIGNvbnN0IHByb2plY3RzID0gYXdhaXQgbG9hZFByb2plY3RzKCk7CiAgICAgICAgICAgIHBpZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KTsKICAgICAgICAgICAgcG5hbWUgPSBgUHJvamVjdCAke3Byb2plY3RzLmxlbmd0aCArIDF9YDsKICAgICAgICAgICAgc2V0Q3VycmVudFByb2plY3RJZChwaWQpOwogICAgICAgICAgICBzZXRDdXJyZW50UHJvamVjdE5hbWUocG5hbWUpOwogICAgICAgIH0KICAgICAgICBjb25zdCB0aHVtYiA9IGdlbmVyYXRlUHJvamVjdFByZXZpZXcodHJhY2tzLCAxMDAsIDEwMCk7CiAgICAgICAgc2V0UmVjZW50UHJvamVjdFByZXZpZXcodGh1bWIpOwogICAgICAgIGF3YWl0IHNhdmVQcm9qZWN0KHBpZCwgcG5hbWUsIHRyYWNrcywgdGh1bWIpOwogICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBsb2FkUHJvamVjdHMoKTsKICAgICAgICBzZXRTYXZlZFByb2plY3RzKHVwZGF0ZWQpOwogICAgICAgIGlzRGlydHlSZWYuY3VycmVudCA9IGZhbHNlOwogICAgICAgIHNldFNhdmVTdGF0dXMoJ3NhdmVkJyk7CiAgICB9CiAgICBjYXRjaCAoZSkgewogICAgICAgIHNldFNhdmVTdGF0dXMoJ3Vuc2F2ZWQnKTsKICAgIH0gfSwgMjAwMCk7IHJldHVybiAoKSA9PiB7IGlmIChzYXZlVGltZW91dFJlZi5jdXJyZW50KQogICAgICAgIGNsZWFyVGltZW91dChzYXZlVGltZW91dFJlZi5jdXJyZW50KTsgfTsgfSwgW3RyYWNrcywgY3VycmVudFByb2plY3RJZCwgY3VycmVudFByb2plY3ROYW1lLCBhcHBTdGF0ZV0pOwogICAgLy8gUG9pbnRlciBDYXB0dXJlIEhhbmRsZXJzIGZvciBQaW5jaCBab29tCiAgICBjb25zdCBoYW5kbGVQb2ludGVyRG93bkNhcHR1cmUgPSAoZSkgPT4gewogICAgICAgIGFjdGl2ZVBvaW50ZXJzLmN1cnJlbnQuc2V0KGUucG9pbnRlcklkLCB7IHg6IGUuY2xpZW50WCwgeTogZS5jbGllbnRZIH0pOwogICAgICAgIGlmIChhY3RpdmVQb2ludGVycy5jdXJyZW50LnNpemUgPT09IDIpIHsKICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gQXJyYXkuZnJvbShhY3RpdmVQb2ludGVycy5jdXJyZW50LnZhbHVlcygpKTsKICAgICAgICAgICAgcHJldlBpbmNoRGlmZi5jdXJyZW50ID0gTWF0aC5oeXBvdChwb2ludHNbMF0ueCAtIHBvaW50c1sxXS54LCBwb2ludHNbMF0ueSAtIHBvaW50c1sxXS55KTsKICAgICAgICB9CiAgICB9OwogICAgY29uc3QgaGFuZGxlUG9pbnRlck1vdmVDYXB0dXJlID0gKGUpID0+IHsKICAgICAgICBpZiAoYWN0aXZlUG9pbnRlcnMuY3VycmVudC5oYXMoZS5wb2ludGVySWQpKSB7CiAgICAgICAgICAgIGFjdGl2ZVBvaW50ZXJzLmN1cnJlbnQuc2V0KGUucG9pbnRlcklkLCB7IHg6IGUuY2xpZW50WCwgeTogZS5jbGllbnRZIH0pOwogICAgICAgIH0KICAgICAgICBpZiAoYWN0aXZlUG9pbnRlcnMuY3VycmVudC5zaXplID09PSAyKSB7CiAgICAgICAgICAgIGNvbnN0IHBvaW50cyA9IEFycmF5LmZyb20oYWN0aXZlUG9pbnRlcnMuY3VycmVudC52YWx1ZXMoKSk7CiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREaWZmID0gTWF0aC5oeXBvdChwb2ludHNbMF0ueCAtIHBvaW50c1sxXS54LCBwb2ludHNbMF0ueSAtIHBvaW50c1sxXS55KTsKICAgICAgICAgICAgaWYgKHByZXZQaW5jaERpZmYuY3VycmVudCA+IDApIHsKICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gY3VycmVudERpZmYgLSBwcmV2UGluY2hEaWZmLmN1cnJlbnQ7CiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoZGVsdGEpID4gNSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1pvb20gPSB6b29tICsgZGVsdGEgKiAwLjU7CiAgICAgICAgICAgICAgICAgICAgcGVyZm9ybVpvb20obmV3Wm9vbSk7CiAgICAgICAgICAgICAgICAgICAgcHJldlBpbmNoRGlmZi5jdXJyZW50ID0gY3VycmVudERpZmY7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBwcmV2UGluY2hEaWZmLmN1cnJlbnQgPSBjdXJyZW50RGlmZjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CiAgICBjb25zdCBoYW5kbGVQb2ludGVyVXBDYXB0dXJlID0gKGUpID0+IHsKICAgICAgICBhY3RpdmVQb2ludGVycy5jdXJyZW50LmRlbGV0ZShlLnBvaW50ZXJJZCk7CiAgICAgICAgaWYgKGFjdGl2ZVBvaW50ZXJzLmN1cnJlbnQuc2l6ZSA8IDIpIHsKICAgICAgICAgICAgcHJldlBpbmNoRGlmZi5jdXJyZW50ID0gMDsKICAgICAgICB9CiAgICB9OwogICAgLy8gUmVuZGVyIExpYnJhcnkgTG9naWMKICAgIGlmIChhcHBTdGF0ZSA9PT0gQXBwU3RhdGUuTElCUkFSWSkgewogICAgICAgIC8vIC4uLiAoUmUtaW1wbGVtZW50IExpYnJhcnkgVmlldyBhcyBwZXIgb3JpZ2luYWwpCiAgICAgICAgcmV0dXJuIChfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGZsZXgtY29sIGgtZnVsbCBiZy16aW5jLTk1MCB0ZXh0LXdoaXRlIGZvbnQtc2FucyBwLTYgb3ZlcmZsb3ctaGlkZGVuIiwgY2hpbGRyZW46IFtfanN4cygiaGVhZGVyIiwgeyBjbGFzc05hbWU6ICJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItOCIsIGNoaWxkcmVuOiBbX2pzeCgiaDEiLCB7IGNsYXNzTmFtZTogInRleHQtM3hsIGZvbnQtYm9sZCIsIGNoaWxkcmVuOiAiUHJvamVjdCBMaWJyYXJ5IiB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBnYXAtMiIsIGNoaWxkcmVuOiBbX2pzeChCdXR0b24sIHsgdmFyaWFudDogInByaW1hcnkiLCBvbkNsaWNrOiBoYW5kbGVOZXdQcm9qZWN0LCBsYWJlbDogIk5ldyBQcm9qZWN0IiwgaWNvbjogX2pzeChOZXdEb2NJY29uLCB7fSksIGNsYXNzTmFtZTogInRleHQtc20gcHgtNCBweS0yIiB9KSwgX2pzeChCdXR0b24sIHsgdmFyaWFudDogInNlY29uZGFyeSIsIG9uQ2xpY2s6ICgpID0+IHNldEFwcFN0YXRlKEFwcFN0YXRlLklETEUpLCBsYWJlbDogIkNsb3NlIiB9KV0gfSldIH0pLCBfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gc3BhY2UteS00IiwgY2hpbGRyZW46IHNhdmVkUHJvamVjdHMubGVuZ3RoID09PSAwID8gX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXppbmMtNTAwIHRleHQtY2VudGVyIHB5LTIwIiwgY2hpbGRyZW46ICJObyBzYXZlZCBwcm9qZWN0cyB5ZXQuIiB9KSA6IHNhdmVkUHJvamVjdHMubWFwKHByb2plY3QgPT4gKF9qc3hzKCJkaXYiLCB7IG9uQ2xpY2s6ICgpID0+IHsgaWYgKGVkaXRpbmdQcm9qZWN0SWQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47IHN0b3BQbGF5YmFjaygpOyBzZXRBcHBTdGF0ZShBcHBTdGF0ZS5MT0FESU5HKTsgc2V0TG9hZEVycm9yKG51bGwpOyBpZ25vcmVDaGFuZ2VzUmVmLmN1cnJlbnQgPSB0cnVlOyBzZXRUcmFja3MoW10pOyBzZXRIaXN0b3J5KFtdKTsgc2V0U2VsZWN0aW9uKG51bGwpOyBzZXRTZWxlY3RlZFRyYWNrSWQobnVsbCk7IHNldFRyaW1TdGF0ZShudWxsKTsgc2V0SXNUcmltTW9kZShmYWxzZSk7IHNldEludGVyYWN0aXZlTW9kZShudWxsKTsgc2V0Q3VycmVudFRpbWUoMCk7IHNldFNhdmVTdGF0dXMoJ3NhdmVkJyk7IGNvbnN0IGN0eCA9IGdldEF1ZGlvQ29udGV4dCgpOyBpZiAoY3R4LnN0YXRlID09PSAnc3VzcGVuZGVkJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHgucmVzdW1lKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gc2V0Q3VycmVudFByb2plY3RJZChwcm9qZWN0LmlkKTsgc2V0Q3VycmVudFByb2plY3ROYW1lKHByb2plY3QubmFtZSk7IHNldFJlY2VudFByb2plY3RQcmV2aWV3KHByb2plY3QudGh1bWJuYWlsIHx8IG51bGwpOyBsb2FkUHJvamVjdHMoKS50aGVuKGZyZXNoUHJvamVjdHMgPT4geyBjb25zdCB0YXJnZXRQcm9qZWN0ID0gZnJlc2hQcm9qZWN0cy5maW5kKHAgPT4gcC5pZCA9PT0gcHJvamVjdC5pZCkgfHwgcHJvamVjdDsgaWYgKHRhcmdldFByb2plY3QudHJhY2tzICYmIHRhcmdldFByb2plY3QudHJhY2tzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRQcm9qZWN0VHJhY2tzKHRhcmdldFByb2plY3QudHJhY2tzKS50aGVuKGxvYWRlZFRyYWNrcyA9PiB7IGlmIChsb2FkZWRUcmFja3MubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TG9hZEVycm9yKCJQcm9qZWN0IGNvcnJ1cHRlZC4iKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IHNldFRyYWNrcyhsb2FkZWRUcmFja3MpOyBzZXRBcHBTdGF0ZShBcHBTdGF0ZS5FRElUSU5HKTsgc2V0VGltZW91dCgoKSA9PiB7IGlnbm9yZUNoYW5nZXNSZWYuY3VycmVudCA9IGZhbHNlOyBpc0RpcnR5UmVmLmN1cnJlbnQgPSBmYWxzZTsgfSwgMTAwKTsgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUcmFja3MoW10pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QXBwU3RhdGUoQXBwU3RhdGUuRURJVElORyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgaWdub3JlQ2hhbmdlc1JlZi5jdXJyZW50ID0gZmFsc2U7IGlzRGlydHlSZWYuY3VycmVudCA9IGZhbHNlOyB9LCAxMDApOwogICAgICAgICAgICAgICAgICAgICAgICB9IH0pOyB9LCBjbGFzc05hbWU6ICJiZy16aW5jLTkwMCBib3JkZXIgYm9yZGVyLXppbmMtODAwIHJvdW5kZWQtMnhsIHAtNCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCBob3Zlcjpib3JkZXItY3lhbi01MDAvNTAgdHJhbnNpdGlvbiBjdXJzb3ItcG9pbnRlciBncm91cCIsIGNoaWxkcmVuOiBbX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ3LTE2IGgtMTYgYmctemluYy05NTAgcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW4gc2hyaW5rLTAgYm9yZGVyIGJvcmRlci16aW5jLTgwMCIsIGNoaWxkcmVuOiBwcm9qZWN0LnRodW1ibmFpbCA/IF9qc3goImltZyIsIHsgc3JjOiBwcm9qZWN0LnRodW1ibmFpbCwgYWx0OiAiIiwgY2xhc3NOYW1lOiAidy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXIgb3BhY2l0eS04MCIgfSkgOiBfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogInctZnVsbCBoLWZ1bGwgYmctemluYy04MDAiIH0pIH0pLCBlZGl0aW5nUHJvamVjdElkID09PSBwcm9qZWN0LmlkID8gKF9qc3hzKCJmb3JtIiwgeyBjbGFzc05hbWU6ICJmbGV4LTEgbWluLXctMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiIsIG9uQ2xpY2s6IGUgPT4gZS5zdG9wUHJvcGFnYXRpb24oKSwgb25TdWJtaXQ6IChlKSA9PiB7IGUucHJldmVudERlZmF1bHQoKTsgZS5zdG9wUHJvcGFnYXRpb24oKTsgaWYgKGVkaXRpbmdOYW1lLnRyaW0oKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVByb2plY3ROYW1lKHByb2plY3QuaWQsIGVkaXRpbmdOYW1lLnRyaW0oKSkudGhlbigoKSA9PiB7IHNldFNhdmVkUHJvamVjdHMocHJldiA9PiBwcmV2Lm1hcChwID0+IHAuaWQgPT09IHByb2plY3QuaWQgPyB7IC4uLnAsIG5hbWU6IGVkaXRpbmdOYW1lLnRyaW0oKSB9IDogcCkpOyBzZXRFZGl0aW5nUHJvamVjdElkKG51bGwpOyB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0sIGNoaWxkcmVuOiBbX2pzeCgiaW5wdXQiLCB7IHR5cGU6ICJ0ZXh0IiwgdmFsdWU6IGVkaXRpbmdOYW1lLCBvbkNoYW5nZTogKGUpID0+IHNldEVkaXRpbmdOYW1lKGUudGFyZ2V0LnZhbHVlKSwgY2xhc3NOYW1lOiAiYmctemluYy05NTAgYm9yZGVyIGJvcmRlci16aW5jLTcwMCByb3VuZGVkLWxnIHB4LTMgcHktMiB0ZXh0LXdoaXRlIGZvbnQtYm9sZCB3LWZ1bGwiLCBhdXRvRm9jdXM6IHRydWUsIG9uQ2xpY2s6IGUgPT4gZS5zdG9wUHJvcGFnYXRpb24oKSB9KSwgX2pzeCgiYnV0dG9uIiwgeyB0eXBlOiAic3VibWl0IiwgY2xhc3NOYW1lOiAicC0zIHJvdW5kZWQtZnVsbCBiZy16aW5jLTgwMCBib3JkZXIgYm9yZGVyLXppbmMtNzAwIHRleHQtZ3JlZW4tNTAwIiwgY2hpbGRyZW46IF9qc3goQ2hlY2tJY29uLCB7fSkgfSldIH0pKSA6IChfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4LTEgbWluLXctMCIsIGNoaWxkcmVuOiBbX2pzeCgiaDMiLCB7IGNsYXNzTmFtZTogInRleHQtbGcgZm9udC1ib2xkIHRleHQtd2hpdGUgdHJ1bmNhdGUiLCBjaGlsZHJlbjogcHJvamVjdC5uYW1lIH0pLCBfanN4KCJwIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXhzIHRleHQtemluYy01MDAiLCBjaGlsZHJlbjogbmV3IERhdGUocHJvamVjdC5sYXN0TW9kaWZpZWQpLnRvTG9jYWxlU3RyaW5nKCkgfSldIH0pKSwgZWRpdGluZ1Byb2plY3RJZCAhPT0gcHJvamVjdC5pZCAmJiAoX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBnYXAtMiIsIGNoaWxkcmVuOiBbX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiAoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBlLnByZXZlbnREZWZhdWx0KCk7IHNldEVkaXRpbmdQcm9qZWN0SWQocHJvamVjdC5pZCk7IHNldEVkaXRpbmdOYW1lKHByb2plY3QubmFtZSk7IH0sIGNsYXNzTmFtZTogInAtMyByb3VuZGVkLWZ1bGwgaG92ZXI6YmctemluYy04MDAgdGV4dC16aW5jLTQwMCBob3Zlcjp0ZXh0LXdoaXRlIHRyYW5zaXRpb24iLCBjaGlsZHJlbjogX2pzeChQZW5jaWxJY29uLCB7fSkgfSksIF9qc3goImJ1dHRvbiIsIHsgb25DbGljazogKGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgZS5wcmV2ZW50RGVmYXVsdCgpOyBzZXRQcm9qZWN0VG9EZWxldGUocHJvamVjdC5pZCk7IH0sIGNsYXNzTmFtZTogInAtMyByb3VuZGVkLWZ1bGwgaG92ZXI6YmctcmVkLTkwMC8zMCB0ZXh0LXppbmMtNDAwIGhvdmVyOnRleHQtcmVkLTQwMCB0cmFuc2l0aW9uIiwgY2hpbGRyZW46IF9qc3goVHJhc2hJY29uLCB7fSkgfSldIH0pKV0gfSwgcHJvamVjdC5pZCkpKSB9KSwgcHJvamVjdFRvRGVsZXRlICYmIChfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImZpeGVkIGluc2V0LTAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTQgYmctYmxhY2svODAgYmFja2Ryb3AtYmx1ci1zbSIsIG9uQ2xpY2s6ICgpID0+IHNldFByb2plY3RUb0RlbGV0ZShudWxsKSwgY2hpbGRyZW46IF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImJnLXppbmMtOTAwIGJvcmRlciBib3JkZXItemluYy04MDAgcm91bmRlZC0yeGwgdy1mdWxsIG1heC13LXhzIHAtNiBzaGFkb3ctMnhsIHNwYWNlLXktNiB0ZXh0LWNlbnRlciIsIG9uQ2xpY2s6IGUgPT4gZS5zdG9wUHJvcGFnYXRpb24oKSwgY2hpbGRyZW46IFtfanN4KCJkaXYiLCB7IGNoaWxkcmVuOiBfanN4KCJoMiIsIHsgY2xhc3NOYW1lOiAidGV4dC14bCBmb250LWJvbGQgdGV4dC13aGl0ZSIsIGNoaWxkcmVuOiAiRGVsZXRlIFByb2plY3Q/IiB9KSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMyIsIGNoaWxkcmVuOiBbX2pzeChCdXR0b24sIHsgdmFyaWFudDogInNlY29uZGFyeSIsIG9uQ2xpY2s6ICgpID0+IHNldFByb2plY3RUb0RlbGV0ZShudWxsKSwgbGFiZWw6ICJDYW5jZWwiIH0pLCBfanN4KEJ1dHRvbiwgeyB2YXJpYW50OiAiZGFuZ2VyIiwgb25DbGljazogKCkgPT4geyBpZiAocHJvamVjdFRvRGVsZXRlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVByb2plY3QocHJvamVjdFRvRGVsZXRlKS50aGVuKCgpID0+IGxvYWRQcm9qZWN0cygpLnRoZW4oc2V0U2F2ZWRQcm9qZWN0cykpOyBzZXRQcm9qZWN0VG9EZWxldGUobnVsbCk7IH0sIGxhYmVsOiAiRGVsZXRlIiB9KV0gfSldIH0pIH0pKV0gfSkpOwogICAgfQogICAgcmV0dXJuIChfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGZsZXgtY29sIGxhbmRzY2FwZTpmbGV4LXJvdyBsYW5kc2NhcGU6bGc6ZmxleC1jb2wgaC1mdWxsIGJnLXppbmMtOTUwIHRleHQtd2hpdGUgZm9udC1zYW5zIHNlbGVjdGlvbjpiZy1jeWFuLTUwMC8zMCBvdmVyZmxvdy1oaWRkZW4gcmVsYXRpdmUiLCBjaGlsZHJlbjogW2FwcFN0YXRlID09PSBBcHBTdGF0ZS5MT0FESU5HICYmIChfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImFic29sdXRlIGluc2V0LTAgei1bMTAwXSBiZy16aW5jLTk1MC85MCBiYWNrZHJvcC1ibHVyLW1kIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHNwYWNlLXktNiBwLTggdGV4dC1jZW50ZXIiLCBjaGlsZHJlbjogbG9hZEVycm9yID8gKF9qc3hzKF9GcmFnbWVudCwgeyBjaGlsZHJlbjogW19qc3goImgyIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIiwgY2hpbGRyZW46ICJFcnJvciIgfSksIF9qc3goInAiLCB7IGNsYXNzTmFtZTogInRleHQtemluYy00MDAiLCBjaGlsZHJlbjogbG9hZEVycm9yIH0pLCBfanN4KEJ1dHRvbiwgeyB2YXJpYW50OiAic2Vjb25kYXJ5Iiwgb25DbGljazogKCkgPT4gc2V0QXBwU3RhdGUoQXBwU3RhdGUuTElCUkFSWSksIGxhYmVsOiAiTGlicmFyeSIgfSldIH0pKSA6IF9qc3hzKF9GcmFnbWVudCwgeyBjaGlsZHJlbjogW19qc3goTG9hZGluZ1NwaW5uZXIsIHt9KSwgX2pzeCgicCIsIHsgY2xhc3NOYW1lOiAidGV4dC16aW5jLTQwMCBhbmltYXRlLXB1bHNlIiwgY2hpbGRyZW46ICJMb2FkaW5nLi4uIiB9KV0gfSkgfSkpLCBfanN4cygiaGVhZGVyIiwgeyBjbGFzc05hbWU6ICJmbGV4IGZsZXgtY29sIHctZnVsbCBsYW5kc2NhcGU6dy0xNiBsYW5kc2NhcGU6bGc6dy1mdWxsIGgtYXV0byBsYW5kc2NhcGU6aC1mdWxsIGxhbmRzY2FwZTpsZzpoLWF1dG8gYm9yZGVyLWIgbGFuZHNjYXBlOmJvcmRlci1iLTAgbGFuZHNjYXBlOmJvcmRlci1yIGxhbmRzY2FwZTpsZzpib3JkZXItYiBsYW5kc2NhcGU6bGc6Ym9yZGVyLXItMCBib3JkZXItemluYy05MDAgYmctemluYy05NTAgc2hyaW5rLTAgei0yMCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHB5LTIgbGFuZHNjYXBlOnB5LTQgbGFuZHNjYXBlOmxnOnB5LTIiLCBjaGlsZHJlbjogW19qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHctZnVsbCBweC00IGxhbmRzY2FwZTpmbGV4LWNvbCBsYW5kc2NhcGU6Z2FwLTQgbGFuZHNjYXBlOnB4LTAgbGFuZHNjYXBlOmxnOmZsZXgtcm93IGxhbmRzY2FwZTpsZzpweC00IGxhbmRzY2FwZTpsZzp3LWZ1bGwgbGFuZHNjYXBlOmxnOmp1c3RpZnktc3RhcnQiLCBjaGlsZHJlbjogW19qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAidy0xMCBoLTEwIHJvdW5kZWQteGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1jeWFuLTQwMCB0by1pbmRpZ28tNjAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtYmxhY2sgc2hhZG93LWxnIHNoYWRvdy1jeWFuLTkwMC8yMCBzaHJpbmstMCBsYW5kc2NhcGU6aGlkZGVuIGxhbmRzY2FwZTpsZzpmbGV4IiwgY2hpbGRyZW46IF9qc3goInN2ZyIsIHsgY2xhc3NOYW1lOiAidy02IGgtNiB0ZXh0LXdoaXRlIiwgZmlsbDogIm5vbmUiLCBzdHJva2U6ICJjdXJyZW50Q29sb3IiLCBzdHJva2VXaWR0aDogIjIiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IHN0cm9rZUxpbmVjYXA6ICJyb3VuZCIsIHN0cm9rZUxpbmVqb2luOiAicm91bmQiLCBkOiAiTTkgMTlWNmwxMi0zdjEzTTkgMTljMCAxLjEwNS0xLjM0MyAyLTMgMnMtMy0uODk1LTMtMiAxLjM0My0yIDMtMiAzIC44OTUgMyAyem0xMi0zYzAgMS4xMDUtMS4zNDMgMi0zIDJzLTMtLjg5NS0zLTIgMS4zNDMtMiAzLTIgMyAuODk1IDMgMnpNOSAxMGwxMi0zIiB9KSB9KSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiaGlkZGVuIGxhbmRzY2FwZTpmbGV4IGxhbmRzY2FwZTpsZzpoaWRkZW4gZmxleC1jb2wgaXRlbXMtY2VudGVyIiwgY2hpbGRyZW46IFtfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6IGhhbmRsZVNhdmVBbmRDbG9zZSwgY2xhc3NOYW1lOiAidy0xMCBoLTEwIHJvdW5kZWQtbGcgb3ZlcmZsb3ctaGlkZGVuIGJvcmRlciBib3JkZXItemluYy03MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctemluYy05MDAiLCBjaGlsZHJlbjogcmVjZW50UHJvamVjdFByZXZpZXcgPyBfanN4KCJpbWciLCB7IHNyYzogcmVjZW50UHJvamVjdFByZXZpZXcsIGNsYXNzTmFtZTogInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyIG9wYWNpdHktODAiIH0pIDogX2pzeChMaWJyYXJ5SWNvbiwge30pIH0pLCBfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LVs4cHhdIHRleHQtemluYy01MDAgbXQtMSBmb250LWJvbGQiLCBjaGlsZHJlbjogIkxJQiIgfSldIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJsYW5kc2NhcGU6aGlkZGVuIGxhbmRzY2FwZTpsZzpibG9jayBmbGV4LTEgbWluLXctMCIsIGNoaWxkcmVuOiBbX2pzeCgiaDEiLCB7IGNsYXNzTmFtZTogInRleHQtbGcgZm9udC1ib2xkIHRyYWNraW5nLXRpZ2h0IHRleHQtd2hpdGUgbGVhZGluZy10aWdodCB0cnVuY2F0ZSIsIGNoaWxkcmVuOiAiU29uaWNQb2NrZXQiIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiIsIGNoaWxkcmVuOiBbX2pzeCgicCIsIHsgY2xhc3NOYW1lOiAidGV4dC1bMTBweF0gdGV4dC16aW5jLTUwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXN0IGZvbnQtc2VtaWJvbGQgdHJ1bmNhdGUgbWF4LXctWzE1MHB4XSIsIGNoaWxkcmVuOiBjdXJyZW50UHJvamVjdE5hbWUgfHwgIk5ldyBQcm9qZWN0IiB9KSwgY3VycmVudFByb2plY3RJZCAmJiBfanN4KFNhdmVTdGF0dXNJY29uLCB7IHN0YXR1czogc2F2ZVN0YXR1cyB9KV0gfSldIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGdhcC0yIGl0ZW1zLWNlbnRlciBtbC1hdXRvIGxhbmRzY2FwZTpoaWRkZW4gbGFuZHNjYXBlOmxnOmZsZXgiLCBjaGlsZHJlbjogW19qc3goQnV0dG9uLCB7IHZhcmlhbnQ6ICJnaG9zdCIsIG9uQ2xpY2s6IGhhbmRsZVVuZG8sIGRpc2FibGVkOiBoaXN0b3J5Lmxlbmd0aCA9PT0gMCwgaWNvbjogX2pzeChVbmRvSWNvbiwge30pIH0pLCBfanN4KEJ1dHRvbiwgeyB2YXJpYW50OiAiZ2hvc3QiLCBvbkNsaWNrOiAoKSA9PiBzZXRFeHBvcnRNb2RhbE9wZW4odHJ1ZSksIGRpc2FibGVkOiB0cmFja3MubGVuZ3RoID09PSAwLCBjbGFzc05hbWU6ICJ0ZXh0LWN5YW4tNDAwIGhvdmVyOmJnLWN5YW4tOTUwLzMwIiwgaWNvbjogX2pzeChTaGFyZUV4cG9ydEljb24sIHt9KSB9KSwgX2pzeChCdXR0b24sIHsgdmFyaWFudDogImdob3N0Iiwgb25DbGljazogaGFuZGxlU2F2ZUFuZENsb3NlLCBjbGFzc05hbWU6ICJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC16aW5jLTMwMCBob3Zlcjp0ZXh0LXdoaXRlIiwgbGFiZWw6ICJEb25lIiB9KV0gfSldIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJoaWRkZW4gbGFuZHNjYXBlOmZsZXggbGFuZHNjYXBlOmxnOmhpZGRlbiBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgZ2FwLTIgZmxleC0xIGp1c3RpZnktY2VudGVyIHB5LTIiLCBjaGlsZHJlbjogW19qc3goImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gcGVyZm9ybVpvb20oem9vbSArIDEwKSwgY2xhc3NOYW1lOiAicC0xIGhvdmVyOnRleHQtd2hpdGUgdGV4dC16aW5jLTUwMCBzaHJpbmstMCIsIGNoaWxkcmVuOiBfanN4KFpvb21Jbkljb24sIHt9KSB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJyZWxhdGl2ZSB3LTYgaC0yNCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBncm91cCIsIGNoaWxkcmVuOiBfanN4KCJpbnB1dCIsIHsgdHlwZTogInJhbmdlIiwgbWluOiBNSU5fWk9PTSwgbWF4OiBNQVhfWk9PTSwgdmFsdWU6IHpvb20sIG9uQ2hhbmdlOiAoZSkgPT4gcGVyZm9ybVpvb20oTnVtYmVyKGUudGFyZ2V0LnZhbHVlKSksIGNsYXNzTmFtZTogImFic29sdXRlIHctMjQgaC02IGJnLXRyYW5zcGFyZW50IGFwcGVhcmFuY2Utbm9uZSBjdXJzb3ItcG9pbnRlciBbJjo6LXdlYmtpdC1zbGlkZXItdGh1bWJdOmFwcGVhcmFuY2Utbm9uZSBbJjo6LXdlYmtpdC1zbGlkZXItdGh1bWJdOnctNCBbJjo6LXdlYmtpdC1zbGlkZXItdGh1bWJdOmgtNCBbJjo6LXdlYmtpdC1zbGlkZXItdGh1bWJdOnJvdW5kZWQtZnVsbCBbJjo6LXdlYmtpdC1zbGlkZXItdGh1bWJdOmJnLWN5YW4tNTAwIGJnLXppbmMtODAwIHJvdW5kZWQtZnVsbCIsIHN0eWxlOiB7IHRyYW5zZm9ybTogJ3JvdGF0ZSgtOTBkZWcpJywgdHJhbnNmb3JtT3JpZ2luOiAnY2VudGVyJyB9IH0pIH0pLCBfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6ICgpID0+IHBlcmZvcm1ab29tKHpvb20gLSAxMCksIGNsYXNzTmFtZTogInAtMSBob3Zlcjp0ZXh0LXdoaXRlIHRleHQtemluYy01MDAgc2hyaW5rLTAiLCBjaGlsZHJlbjogX2pzeChab29tT3V0SWNvbiwge30pIH0pXSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiaGlkZGVuIGxhbmRzY2FwZTpmbGV4IGxhbmRzY2FwZTpsZzpoaWRkZW4gZmxleC1jb2wgZ2FwLTIgaXRlbXMtY2VudGVyIHBiLTQiLCBjaGlsZHJlbjogW19qc3goQnV0dG9uLCB7IHZhcmlhbnQ6ICJnaG9zdCIsIG9uQ2xpY2s6IGhhbmRsZVVuZG8sIGRpc2FibGVkOiBoaXN0b3J5Lmxlbmd0aCA9PT0gMCwgaWNvbjogX2pzeChVbmRvSWNvbiwge30pLCBjbGFzc05hbWU6ICJwLTIiIH0pLCBfanN4KEJ1dHRvbiwgeyB2YXJpYW50OiAiZ2hvc3QiLCBvbkNsaWNrOiAoKSA9PiBzZXRFeHBvcnRNb2RhbE9wZW4odHJ1ZSksIGRpc2FibGVkOiB0cmFja3MubGVuZ3RoID09PSAwLCBjbGFzc05hbWU6ICJ0ZXh0LWN5YW4tNDAwIGhvdmVyOmJnLWN5YW4tOTUwLzMwIHAtMiIsIGljb246IF9qc3goU2hhcmVFeHBvcnRJY29uLCB7fSkgfSksIF9qc3goQnV0dG9uLCB7IHZhcmlhbnQ6ICJnaG9zdCIsIG9uQ2xpY2s6IGhhbmRsZVNhdmVBbmRDbG9zZSwgY2xhc3NOYW1lOiAidGV4dC1bMTBweF0gZm9udC1ib2xkIHRleHQtemluYy0zMDAgaG92ZXI6dGV4dC13aGl0ZSB3cml0aW5nLXZlcnRpY2FsLWxyIHB5LTIiLCBsYWJlbDogIkRPTkUiIH0pXSB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImxhbmRzY2FwZTpoaWRkZW4gbGFuZHNjYXBlOmxnOmZsZXggaC0xMiBmbGV4IGl0ZW1zLWNlbnRlciBweC00IGp1c3RpZnktYmV0d2VlbiBib3JkZXItYiBib3JkZXItemluYy05MDAgYmctemluYy05NTAvNTAgYmFja2Ryb3AtYmx1ci1zbSBzaHJpbmstMCBnYXAtNCIsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTQgdGV4dC1bMTBweF0gdXBwZXJjYXNlIGZvbnQtYm9sZCB0ZXh0LXppbmMtNTAwIHNocmluay0wIiwgY2hpbGRyZW46IFtfanN4cygic3BhbiIsIHsgY2hpbGRyZW46IFsiVHJhY2tzOiAiLCB0cmFja3MubGVuZ3RoXSB9KSwgX2pzeHMoInNwYW4iLCB7IGNsYXNzTmFtZTogInRhYnVsYXItbnVtcyIsIGNoaWxkcmVuOiBbX2pzeHMoInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQtY3lhbi01MDAiLCBjaGlsZHJlbjogW2N1cnJlbnRUaW1lLnRvRml4ZWQoMiksICJzIl0gfSksIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQtemluYy02MDAgbXgtMSIsIGNoaWxkcmVuOiAib2YiIH0pLCBfanN4cygic3BhbiIsIHsgY2hpbGRyZW46IFttYXhEdXJhdGlvbi50b0ZpeGVkKDIpLCAicyJdIH0pXSB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHctMzIgbWQ6dy02NCBtZDpmbGV4LTEgbWQ6bWF4LXcteHMganVzdGlmeS1lbmQiLCBjaGlsZHJlbjogW19qc3goImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gcGVyZm9ybVpvb20oem9vbSAtIDEwKSwgY2xhc3NOYW1lOiAicC0yIGhvdmVyOnRleHQtd2hpdGUgdGV4dC16aW5jLTUwMCBzaHJpbmstMCIsIGNoaWxkcmVuOiBfanN4KFpvb21PdXRJY29uLCB7fSkgfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAicmVsYXRpdmUgdy1mdWxsIGgtNiBmbGV4IGl0ZW1zLWNlbnRlciBncm91cCIsIGNoaWxkcmVuOiBfanN4KCJpbnB1dCIsIHsgdHlwZTogInJhbmdlIiwgbWluOiBNSU5fWk9PTSwgbWF4OiBNQVhfWk9PTSwgdmFsdWU6IHpvb20sIG9uQ2hhbmdlOiAoZSkgPT4gcGVyZm9ybVpvb20oTnVtYmVyKGUudGFyZ2V0LnZhbHVlKSksIGNsYXNzTmFtZTogInctZnVsbCBoLTEgYmctemluYy04MDAgcm91bmRlZC1mdWxsIGFwcGVhcmFuY2Utbm9uZSBjdXJzb3ItcG9pbnRlciBbJjo6LXdlYmtpdC1zbGlkZXItdGh1bWJdOmFwcGVhcmFuY2Utbm9uZSBbJjo6LXdlYmtpdC1zbGlkZXItdGh1bWJdOnctNCBbJjo6LXdlYmtpdC1zbGlkZXItdGh1bWJdOmgtNCBbJjo6LXdlYmtpdC1zbGlkZXItdGh1bWJdOnJvdW5kZWQtZnVsbCBbJjo6LXdlYmtpdC1zbGlkZXItdGh1bWJdOmJnLWN5YW4tNTAwIiB9KSB9KSwgX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBwZXJmb3JtWm9vbSh6b29tICsgMTApLCBjbGFzc05hbWU6ICJwLTIgaG92ZXI6dGV4dC13aGl0ZSB0ZXh0LXppbmMtNTAwIHNocmluay0wIiwgY2hpbGRyZW46IF9qc3goWm9vbUluSWNvbiwge30pIH0pXSB9KV0gfSksIF9qc3hzKCJtYWluIiwgeyBjbGFzc05hbWU6ICJmbGV4LTEgcmVsYXRpdmUgb3ZlcmZsb3cteS1hdXRvIG92ZXJmbG93LXgtaGlkZGVuIGJnLXppbmMtOTUwIHRvdWNoLW5vbmUiLCBvbldoZWVsOiBoYW5kbGVXaGVlbCwgb25Qb2ludGVyRG93bkNhcHR1cmU6IGhhbmRsZVBvaW50ZXJEb3duQ2FwdHVyZSwgb25Qb2ludGVyVXBDYXB0dXJlOiBoYW5kbGVQb2ludGVyVXBDYXB0dXJlLCBvblBvaW50ZXJDYW5jZWxDYXB0dXJlOiBoYW5kbGVQb2ludGVyVXBDYXB0dXJlLCBvblBvaW50ZXJNb3ZlQ2FwdHVyZTogaGFuZGxlUG9pbnRlck1vdmVDYXB0dXJlLCBvblBvaW50ZXJNb3ZlOiAoZSkgPT4geyBoYW5kbGVUcmltUG9pbnRlck1vdmUoZSk7IGhhbmRsZVRyYWNrRHJhZ01vdmUoZSk7IGlmIChzZWxlY3RlZFRyYWNrKQogICAgICAgICAgICAgICAgICAgIGhhbmRsZUZhZGVIYW5kbGVEcmFnKGUsIHNlbGVjdGVkVHJhY2spOyBpZiAoaXNTY3J1YmJpbmcpCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlUGxheWhlYWRQb2ludGVyTW92ZShlKTsgfSwgb25Qb2ludGVyVXA6IChlKSA9PiB7IGlmICh0cmltU3RhdGUpCiAgICAgICAgICAgICAgICAgICAgc2V0VHJpbVN0YXRlKG51bGwpOyBpZiAoZHJhZ2dpbmdUcmFja0lkKQogICAgICAgICAgICAgICAgICAgIGhhbmRsZVRyYWNrUG9pbnRlclVwKGUpOyBpZiAoaW50ZXJhY3RpdmVNb2RlICYmIHNlbGVjdGVkVHJhY2spCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRmFkZUhhbmRsZVBvaW50ZXJVcChlLCBzZWxlY3RlZFRyYWNrKTsgaWYgKGlzU2NydWJiaW5nKQogICAgICAgICAgICAgICAgICAgIGhhbmRsZVBsYXloZWFkUG9pbnRlclVwKGUpOyB9LCBjaGlsZHJlbjogW19qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImgtNiB3LWZ1bGwgc3RpY2t5IHRvcC0wIGJnLXppbmMtOTUwIHotMjAgYm9yZGVyLWIgYm9yZGVyLXppbmMtOTAwIHBvaW50ZXItZXZlbnRzLW5vbmUgZmxleCBpdGVtcy1jZW50ZXIgcGItMSB0ZXh0LVsxMHB4XSB0ZXh0LXppbmMtNjAwIHBsLTIgZ2FwLTQiLCBjaGlsZHJlbjogW19qc3goInNwYW4iLCB7IGNoaWxkcmVuOiAiVGltZWxpbmUiIH0pLCBfanN4cygic3BhbiIsIHsgY2xhc3NOYW1lOiAiaGlkZGVuIGxhbmRzY2FwZTppbmxpbmUgbGFuZHNjYXBlOmxnOmhpZGRlbiB0ZXh0LWN5YW4tNTAwIGZvbnQtbW9ubyB0YWJ1bGFyLW51bXMiLCBjaGlsZHJlbjogW2N1cnJlbnRUaW1lLnRvRml4ZWQoMiksICJzIl0gfSldIH0pLCB0cmFja3MubGVuZ3RoID09PSAwID8gKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImFic29sdXRlIGluc2V0LTAgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC16aW5jLTUwMCBnYXAtNCIsIGNoaWxkcmVuOiBbX2pzeCgicCIsIHsgY2hpbGRyZW46ICJObyB0cmFja3MgYWRkZWQuIiB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBnYXAtNCIsIGNoaWxkcmVuOiBbX2pzeChCdXR0b24sIHsgbGFiZWw6ICJBZGQgQXVkaW8iLCBvbkNsaWNrOiAoKSA9PiBmaWxlSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKSB9KSwgX2pzeChCdXR0b24sIHsgbGFiZWw6ICJMaWJyYXJ5IiwgdmFyaWFudDogInNlY29uZGFyeSIsIGljb246IF9qc3goTGlicmFyeUljb24sIHt9KSwgb25DbGljazogaGFuZGxlU2F2ZUFuZENsb3NlIH0pXSB9KV0gfSkpIDogKF9qc3goImRpdiIsIHsgcmVmOiB0aW1lbGluZVJlZiwgY2xhc3NOYW1lOiAicmVsYXRpdmUgb3ZlcmZsb3cteC1hdXRvIG92ZXJmbG93LXktYXV0byBoLWZ1bGwiLCBvblNjcm9sbDogaGFuZGxlVGltZWxpbmVTY3JvbGwsIGNoaWxkcmVuOiBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJyZWxhdGl2ZSBwYi0yNCIsIHN0eWxlOiB7IHdpZHRoOiBgJHtNYXRoLm1heCh3aW5kb3cuaW5uZXJXaWR0aCwgbWF4RHVyYXRpb24gKiB6b29tICsgNTAwKX1weGAsIGhlaWdodDogYCR7TWF0aC5tYXgod2luZG93LmlubmVySGVpZ2h0IC0gMjAwLCB0b3RhbExhbmVzICogTEFORV9IRUlHSFQgKyAxMDApfXB4YCB9LCBvblBvaW50ZXJEb3duOiBoYW5kbGVUaW1lbGluZVBvaW50ZXJEb3duLCBjaGlsZHJlbjogW19qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImFic29sdXRlIGluc2V0LTAgcG9pbnRlci1ldmVudHMtbm9uZSIsIGNoaWxkcmVuOiBbX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJhYnNvbHV0ZSBpbnNldC0wIG9wYWNpdHktMTAiLCBzdHlsZTogeyBiYWNrZ3JvdW5kSW1hZ2U6IGBsaW5lYXItZ3JhZGllbnQoOTBkZWcsICMzZjNmNDYgMXB4LCB0cmFuc3BhcmVudCAxcHgpYCwgYmFja2dyb3VuZFNpemU6IGAke3pvb20gKiBiZWF0RHVyYXRpb259cHggMTAwJWAgfSB9KSwgQXJyYXkuZnJvbSh7IGxlbmd0aDogdG90YWxMYW5lcyB9KS5tYXAoKF8sIGkpID0+IChfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogInctZnVsbCBib3JkZXItYiBib3JkZXItemluYy05MDAvNTAiLCBzdHlsZTogeyBoZWlnaHQ6IGAke0xBTkVfSEVJR0hUfXB4YCwgYmFja2dyb3VuZENvbG9yOiBpICUgMiA9PT0gMCA/ICdyZ2JhKDI0LCAyNCwgMjcsIDAuMiknIDogJ3RyYW5zcGFyZW50JyB9LCBjaGlsZHJlbjogX2pzeHMoInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQtWzlweF0gdGV4dC16aW5jLTcwMCBwLTIgZm9udC1tb25vIiwgY2hpbGRyZW46IFsiTCIsIGkgKyAxXSB9KSB9LCBpKSkpXSB9KSwgX2pzeHMoImRpdiIsIHsgcmVmOiBwbGF5aGVhZFJlZiwgY2xhc3NOYW1lOiBgYWJzb2x1dGUgdG9wLTAgYm90dG9tLTAgdy02IC1tbC0zIHotNTAgZmxleCBqdXN0aWZ5LWNlbnRlciBncm91cCAke2lzU2NydWJiaW5nID8gJ2N1cnNvci1ncmFiYmluZycgOiAnY3Vyc29yLWdyYWInfWAsIHN0eWxlOiB7IHRyYW5zZm9ybTogYHRyYW5zbGF0ZVgoJHtjdXJyZW50VGltZSAqIHpvb219cHgpYCwgaGVpZ2h0OiAnMTAwJScsIHdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0nIH0sIG9uUG9pbnRlckRvd246IGhhbmRsZVBsYXloZWFkUG9pbnRlckRvd24sIG9uUG9pbnRlck1vdmU6IGhhbmRsZVBsYXloZWFkUG9pbnRlck1vdmUsIG9uUG9pbnRlclVwOiBoYW5kbGVQbGF5aGVhZFBvaW50ZXJVcCwgb25Qb2ludGVyQ2FuY2VsOiBoYW5kbGVQbGF5aGVhZFBvaW50ZXJVcCwgY2hpbGRyZW46IFtfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImFic29sdXRlIHRvcC0wIGJvdHRvbS0wIHctMC41IGJnLXJlZC01MDAgc2hhZG93LVswXzBfMTBweF9yZ2JhKDIzOSw2OCw2OCwwLjUpXSIgfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAic3RpY2t5IHRvcC0wIHctNCBoLTQgYmctcmVkLTUwMCByb3VuZGVkLWZ1bGwgc2hhZG93LW1kIHotNTAgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZ3JvdXAtaG92ZXI6c2NhbGUtMTI1IiB9KV0gfSksIHRyYWNrcy5tYXAoKHRyYWNrKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBlZmZlY3RpdmVTZWxlY3RlZFRyYWNrSWQgPT09IHRyYWNrLmlkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0RyYWdnaW5nVGhpcyA9IGRyYWdnaW5nVHJhY2tJZCA9PT0gdHJhY2suaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzVHJpbUFjdGl2ZSA9IGlzU2VsZWN0ZWQgJiYgaXNUcmltTW9kZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNJbnRlcmFjdGl2ZSA9IGludGVyYWN0aXZlTW9kZT8udHJhY2tJZCA9PT0gdHJhY2suaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2aXN1YWxTdGFydFRpbWUgPSB0cmFjay5zdGFydFRpbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2aXN1YWxEdXJhdGlvbiA9IHRyYWNrLmR1cmF0aW9uOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmlzdWFsVHJpbVN0YXJ0ID0gdHJhY2sudHJpbVN0YXJ0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNUcmltQWN0aXZlICYmIHRyaW1TdGF0ZT8uaXNEcmFnZ2luZykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaW1TdGF0ZS5zaWRlID09PSAnc3RhcnQnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoYW5nZSA9IHRyaW1TdGF0ZS5jdXJyZW50RGVsdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZpc3VhbFRyaW1TdGFydCArIGNoYW5nZSA8IDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZSA9IC12aXN1YWxUcmltU3RhcnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZpc3VhbER1cmF0aW9uIC0gY2hhbmdlIDwgMC4xKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UgPSB2aXN1YWxEdXJhdGlvbiAtIDAuMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXN1YWxTdGFydFRpbWUgKz0gY2hhbmdlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc3VhbER1cmF0aW9uIC09IGNoYW5nZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXN1YWxUcmltU3RhcnQgKz0gY2hhbmdlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoYW5nZSA9IHRyaW1TdGF0ZS5jdXJyZW50RGVsdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZpc3VhbER1cmF0aW9uICsgY2hhbmdlIDwgMC4xKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UgPSAwLjEgLSB2aXN1YWxEdXJhdGlvbjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmlzdWFsVHJpbVN0YXJ0ICsgdmlzdWFsRHVyYXRpb24gKyBjaGFuZ2UgPiB0cmFjay5idWZmZXIuZHVyYXRpb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZSA9IHRyYWNrLmJ1ZmZlci5kdXJhdGlvbiAtICh2aXN1YWxUcmltU3RhcnQgKyB2aXN1YWxEdXJhdGlvbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzdWFsRHVyYXRpb24gKz0gY2hhbmdlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lckxlZnQgPSBNYXRoLnJvdW5kKHZpc3VhbFN0YXJ0VGltZSAqIHpvb20pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXJXaWR0aCA9IE1hdGgucm91bmQodmlzdWFsRHVyYXRpb24gKiB6b29tKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlV2lkdGggPSAzMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlRHVyYXRpb24gPSBoYW5kbGVXaWR0aCAvIHpvb207CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzTGVmdERyYWdnaW5nID0gaXNUcmltQWN0aXZlICYmIHRyaW1TdGF0ZT8uaXNEcmFnZ2luZyAmJiB0cmltU3RhdGU/LnNpZGUgPT09ICdzdGFydCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzUmlnaHREcmFnZ2luZyA9IGlzVHJpbUFjdGl2ZSAmJiB0cmltU3RhdGU/LmlzRHJhZ2dpbmcgJiYgdHJpbVN0YXRlPy5zaWRlID09PSAnZW5kJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmFkZUluRHVyYXRpb24gPSB0cmFjay5hY3RpdmVFZmZlY3RzPy5mYWRlSW4gfHwgMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmFkZU91dER1cmF0aW9uID0gdHJhY2suYWN0aXZlRWZmZWN0cz8uZmFkZU91dCB8fCAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogYGFic29sdXRlIGgtMjQgcm91bmRlZC1sZyBib3JkZXIgdG91Y2gtbm9uZSBzZWxlY3Qtbm9uZSB0cmFjay1jbGlwIGdyb3VwICR7aXNEcmFnZ2luZ1RoaXMgPyAnei01MCBzaGFkb3ctMnhsIHJpbmctMiByaW5nLWN5YW4tNDAwIGN1cnNvci1ncmFiYmluZyBiZy16aW5jLTgwMCcgOiAnJ30gJHtpc1NlbGVjdGVkICYmICFpc0RyYWdnaW5nVGhpcyA/ICdiZy16aW5jLTgwMC85MCBib3JkZXItY3lhbi01MDAvNTAgcmluZy0xIHJpbmctY3lhbi01MDAvMjAgei00MCcgOiAnJ30gJHshaXNTZWxlY3RlZCAmJiAhaXNEcmFnZ2luZ1RoaXMgPyAnYmctemluYy05MDAvNjAgYm9yZGVyLXppbmMtODAwIGhvdmVyOmJnLXppbmMtODAwLzgwIHotMzAnIDogJyd9YCwgc3R5bGU6IHsgbGVmdDogYCR7Y29udGFpbmVyTGVmdH1weGAsIHRvcDogYCR7dHJhY2subGFuZSAqIExBTkVfSEVJR0hUICsgMTB9cHhgLCB3aWR0aDogYCR7Y29udGFpbmVyV2lkdGh9cHhgLCBoZWlnaHQ6IGAke0xBTkVfSEVJR0hUIC0gMjB9cHhgLCB3aWxsQ2hhbmdlOiAnbGVmdCwgd2lkdGgnLCB0cmFuc2l0aW9uOiBpc0RyYWdnaW5nVGhpcyB8fCAoaXNUcmltQWN0aXZlICYmIHRyaW1TdGF0ZT8uaXNEcmFnZ2luZykgPyAnbm9uZScgOiAnbGVmdCAwLjFzIGVhc2Utb3V0LCB3aWR0aCAwLjFzIGVhc2Utb3V0LCB0b3AgMC4ycyBlYXNlLW91dCwgdHJhbnNmb3JtIDAuMXMgZWFzZS1vdXQnIH0sIG9uUG9pbnRlckRvd246IChlKSA9PiBoYW5kbGVUcmFja1BvaW50ZXJEb3duKGUsIHRyYWNrKSwgb25Qb2ludGVyVXA6IGhhbmRsZVRyYWNrUG9pbnRlclVwLCBjaGlsZHJlbjogWyFpc1RyaW1BY3RpdmUgJiYgIWlzRHJhZ2dpbmdUaGlzICYmIChfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJhYnNvbHV0ZSByaWdodC0xIHRvcC0xIHotMjAgZmxleCBnYXAtMSBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IiwgY2hpbGRyZW46IFtfanN4KCJidXR0b24iLCB7IG9uUG9pbnRlckRvd246IChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpLCBvbkNsaWNrOiAoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyB1cGRhdGVUcmFjayh0cmFjay5pZCwgeyBpc011dGVkOiAhdHJhY2suaXNNdXRlZCB9KTsgfSwgY2xhc3NOYW1lOiBgcC0xIHJvdW5kZWQgdGV4dC1bOXB4XSBmb250LWJvbGQgJHt0cmFjay5pc011dGVkID8gJ2JnLXJlZC01MDAgdGV4dC13aGl0ZScgOiAnYmctemluYy03MDAgdGV4dC16aW5jLTMwMCd9YCwgY2hpbGRyZW46ICJNIiB9KSwgX2pzeCgiYnV0dG9uIiwgeyBvblBvaW50ZXJEb3duOiAoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKSwgb25DbGljazogKGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgZGVsZXRlVHJhY2sodHJhY2suaWQpOyB9LCBjbGFzc05hbWU6ICJwLTEgcm91bmRlZCB0ZXh0LVs5cHhdIGJnLXppbmMtODAwIGhvdmVyOmJnLXJlZC05MDAvODAgdGV4dC16aW5jLTQwMCBob3Zlcjp0ZXh0LXdoaXRlIiwgY2hpbGRyZW46IF9qc3goVHJhc2hJY29uLCB7fSkgfSldIH0pKSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiYWJzb2x1dGUgbGVmdC0yIHRvcC0xIHotMTAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcG9pbnRlci1ldmVudHMtbm9uZSBtYXgtdy1mdWxsIG92ZXJmbG93LWhpZGRlbiIsIGNoaWxkcmVuOiBbX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC1bMTBweF0gZm9udC1ib2xkIHRleHQtemluYy0zMDAgc2hhZG93LWJsYWNrIGRyb3Atc2hhZG93LW1kIHRydW5jYXRlIiwgY2hpbGRyZW46IHRyYWNrLm5hbWUgfSksIHRyYWNrLmNyb3NzZmFkZU1ldGFkYXRhICYmIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQtWzlweF0gcHgtMSBiZy1jeWFuLTkwMC81MCByb3VuZGVkIHRleHQtY3lhbi0zMDAiLCBjaGlsZHJlbjogIkxpbmtlZCIgfSldIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6IGBhYnNvbHV0ZSBpbnNldC14LTAgYm90dG9tLTAgdG9wLTUgJHtpc1RyaW1BY3RpdmUgPyAnb3ZlcmZsb3ctaGlkZGVuIHJpbmctMiByaW5nLXllbGxvdy00MDAvNTAgYmcteWVsbG93LTkwMC8xMCcgOiAnJ31gLCBjaGlsZHJlbjogW19qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiaC1mdWxsIGFic29sdXRlIHRvcC0wIGxlZnQtMCB3LWZ1bGwiLCBjaGlsZHJlbjogX2pzeChXYXZlZm9ybURpc3BsYXksIHsgYnVmZmVyOiB0cmFjay5idWZmZXIsIHN0YXJ0VGltZTogdmlzdWFsU3RhcnRUaW1lLCB0cmltU3RhcnQ6IHZpc3VhbFRyaW1TdGFydCwgZHVyYXRpb246IHZpc3VhbER1cmF0aW9uLCBjdXJyZW50VGltZTogY3VycmVudFRpbWUsIHNlbGVjdGlvbjogc2VsZWN0ZWRUcmFja0lkID09PSB0cmFjay5pZCA/IHNlbGVjdGlvbiA6IG51bGwsIG9uU2VsZWN0aW9uQ2hhbmdlOiBzZXRTZWxlY3Rpb24sIGNvbG9yOiB0cmFjay5jb2xvciwgem9vbTogem9vbSwgZmFkZUluRHVyYXRpb246IGZhZGVJbkR1cmF0aW9uLCBmYWRlT3V0RHVyYXRpb246IGZhZGVPdXREdXJhdGlvbiB9KSB9KSwgaXNUcmltQWN0aXZlICYmIChfanN4cyhfRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogYGFic29sdXRlIHRvcC0wIGJvdHRvbS0wIGxlZnQtMCB3LTggYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLWwtbWQgY3Vyc29yLWV3LXJlc2l6ZSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwIHNoYWRvdy1sZyB0b3VjaC1ub25lIG92ZXJmbG93LWhpZGRlbiBiZy15ZWxsb3ctNDAwIHJpbmctMSByaW5nLWJsYWNrLzEwIGdyb3VwYCwgb25Qb2ludGVyRG93bjogKGUpID0+IGhhbmRsZVRyaW1Qb2ludGVyRG93bihlLCB0cmFjaywgJ3N0YXJ0JyksIG9uUG9pbnRlclVwOiAoZSkgPT4gaGFuZGxlVHJpbVBvaW50ZXJVcChlLCB0cmFjayksIGNoaWxkcmVuOiBpc0xlZnREcmFnZ2luZyA/IChfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImFic29sdXRlIGluc2V0LTAgcG9pbnRlci1ldmVudHMtbm9uZSBvcGFjaXR5LTkwIiwgY2hpbGRyZW46IF9qc3goV2F2ZWZvcm1EaXNwbGF5LCB7IGJ1ZmZlcjogdHJhY2suYnVmZmVyLCBzdGFydFRpbWU6IDAsIHRyaW1TdGFydDogdmlzdWFsVHJpbVN0YXJ0LCBkdXJhdGlvbjogaGFuZGxlRHVyYXRpb24sIGN1cnJlbnRUaW1lOiAtMSwgc2VsZWN0aW9uOiBudWxsLCBvblNlbGVjdGlvbkNoYW5nZTogKCkgPT4geyB9LCBjb2xvcjogIiIsIGNvbG9yT3ZlcnJpZGU6ICIjMDAwMDAwIiwgem9vbTogem9vbSwgZmFkZUluRHVyYXRpb246IGZhZGVJbkR1cmF0aW9uLCBmYWRlT3V0RHVyYXRpb246IGZhZGVPdXREdXJhdGlvbiB9KSB9KSkgOiAoX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ6LTEwIHRleHQtYmxhY2siLCBjaGlsZHJlbjogX2pzeChDaGV2cm9uTGVmdEljb24sIHt9KSB9KSkgfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiBgYWJzb2x1dGUgdG9wLTAgYm90dG9tLTAgcmlnaHQtMCB3LTggYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLXItbWQgY3Vyc29yLWV3LXJlc2l6ZSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwIHNoYWRvdy1sZyB0b3VjaC1ub25lIG92ZXJmbG93LWhpZGRlbiBiZy15ZWxsb3ctNDAwIHJpbmctMSByaW5nLWJsYWNrLzEwIGdyb3VwYCwgb25Qb2ludGVyRG93bjogKGUpID0+IGhhbmRsZVRyaW1Qb2ludGVyRG93bihlLCB0cmFjaywgJ2VuZCcpLCBvblBvaW50ZXJVcDogKGUpID0+IGhhbmRsZVRyaW1Qb2ludGVyVXAoZSwgdHJhY2spLCBjaGlsZHJlbjogaXNSaWdodERyYWdnaW5nID8gKF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiYWJzb2x1dGUgaW5zZXQtMCBwb2ludGVyLWV2ZW50cy1ub25lIG9wYWNpdHktOTAiLCBjaGlsZHJlbjogX2pzeChXYXZlZm9ybURpc3BsYXksIHsgYnVmZmVyOiB0cmFjay5idWZmZXIsIHN0YXJ0VGltZTogMCwgdHJpbVN0YXJ0OiB2aXN1YWxUcmltU3RhcnQgKyB2aXN1YWxEdXJhdGlvbiAtIGhhbmRsZUR1cmF0aW9uLCBkdXJhdGlvbjogaGFuZGxlRHVyYXRpb24sIGN1cnJlbnRUaW1lOiAtMSwgc2VsZWN0aW9uOiBudWxsLCBvblNlbGVjdGlvbkNoYW5nZTogKCkgPT4geyB9LCBjb2xvcjogIiIsIGNvbG9yT3ZlcnJpZGU6ICIjMDAwMDAwIiwgem9vbTogem9vbSwgZmFkZUluRHVyYXRpb246IGZhZGVJbkR1cmF0aW9uLCBmYWRlT3V0RHVyYXRpb246IGZhZGVPdXREdXJhdGlvbiB9KSB9KSkgOiAoX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ6LTEwIHRleHQtYmxhY2siLCBjaGlsZHJlbjogX2pzeChDaGV2cm9uUmlnaHRJY29uLCB7fSkgfSkpIH0pXSB9KSldIH0pLCBpc0ludGVyYWN0aXZlICYmIChfanN4cyhfRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtpbnRlcmFjdGl2ZU1vZGU/LnR5cGUgPT09ICdmYWRlSW4nICYmIChfanN4cyhfRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtfanN4cygic3ZnIiwgeyBjbGFzc05hbWU6ICJhYnNvbHV0ZSBpbnNldC14LTAgYm90dG9tLTAgdG9wLTUgcG9pbnRlci1ldmVudHMtbm9uZSB6LTUwIG92ZXJmbG93LXZpc2libGUiLCBzdHlsZTogeyBoZWlnaHQ6ICc4MHB4JyB9LCBjaGlsZHJlbjogW19qc3goInBvbHlnb24iLCB7IHBvaW50czogYDAsMCAke2ZhZGVJbkR1cmF0aW9uICogem9vbX0sMCAwLDgwYCwgZmlsbDogInJnYmEoMjUwLCAyMDQsIDIxLCAwLjIpIiB9KSwgX2pzeCgibGluZSIsIHsgeDE6ICIwIiwgeTE6ICIxMDAlIiwgeDI6IGZhZGVJbkR1cmF0aW9uICogem9vbSwgeTI6ICIwIiwgc3Ryb2tlOiAiI2ZhY2MxNSIsIHN0cm9rZVdpZHRoOiAiMiIgfSldIH0pLCBfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImZhZGUtaGFuZGxlIGFic29sdXRlIHRvcC0wIGgtNSB3LTYgei1bNjBdIGN1cnNvci1ncmFiIGFjdGl2ZTpjdXJzb3ItZ3JhYmJpbmcgdG91Y2gtbm9uZSBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCIsIHN0eWxlOiB7IGxlZnQ6IGAke2ZhZGVJbkR1cmF0aW9uICogem9vbSAtIDEyfXB4YCB9LCBvblBvaW50ZXJEb3duOiBoYW5kbGVGYWRlSGFuZGxlUG9pbnRlckRvd24sIGNoaWxkcmVuOiBfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogInctMCBoLTAgYm9yZGVyLWwtWzhweF0gYm9yZGVyLWwtdHJhbnNwYXJlbnQgYm9yZGVyLXItWzhweF0gYm9yZGVyLXItdHJhbnNwYXJlbnQgYm9yZGVyLXQtWzE0cHhdIGJvcmRlci10LXllbGxvdy00MDAgZHJvcC1zaGFkb3ctbWQgaG92ZXI6c2NhbGUtMTEwIHRyYW5zaXRpb24tdHJhbnNmb3JtIG1iLTAuNSIgfSkgfSldIH0pKSwgaW50ZXJhY3RpdmVNb2RlPy50eXBlID09PSAnZmFkZU91dCcgJiYgKF9qc3hzKF9GcmFnbWVudCwgeyBjaGlsZHJlbjogW19qc3hzKCJzdmciLCB7IGNsYXNzTmFtZTogImFic29sdXRlIGluc2V0LXgtMCBib3R0b20tMCB0b3AtNSBwb2ludGVyLWV2ZW50cy1ub25lIHotNTAgb3ZlcmZsb3ctdmlzaWJsZSIsIHN0eWxlOiB7IGhlaWdodDogJzgwcHgnIH0sIGNoaWxkcmVuOiBbX2pzeCgicG9seWdvbiIsIHsgcG9pbnRzOiBgJHsodmlzdWFsRHVyYXRpb24gLSBmYWRlT3V0RHVyYXRpb24pICogem9vbX0sMCAke3Zpc3VhbER1cmF0aW9uICogem9vbX0sMCAke3Zpc3VhbER1cmF0aW9uICogem9vbX0sODBgLCBmaWxsOiAicmdiYSgyNTAsIDIwNCwgMjEsIDAuMikiIH0pLCBfanN4KCJsaW5lIiwgeyB4MTogKHZpc3VhbER1cmF0aW9uIC0gZmFkZU91dER1cmF0aW9uKSAqIHpvb20sIHkxOiAiMCIsIHgyOiB2aXN1YWxEdXJhdGlvbiAqIHpvb20sIHkyOiAiODAiLCBzdHJva2U6ICIjZmFjYzE1Iiwgc3Ryb2tlV2lkdGg6ICIyIiB9KV0gfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiZmFkZS1oYW5kbGUgYWJzb2x1dGUgdG9wLTAgaC01IHctNiB6LVs2MF0gY3Vyc29yLWdyYWIgYWN0aXZlOmN1cnNvci1ncmFiYmluZyB0b3VjaC1ub25lIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIiwgc3R5bGU6IHsgbGVmdDogYCR7KHZpc3VhbER1cmF0aW9uIC0gZmFkZU91dER1cmF0aW9uKSAqIHpvb20gLSAxMn1weGAgfSwgb25Qb2ludGVyRG93bjogaGFuZGxlRmFkZUhhbmRsZVBvaW50ZXJEb3duLCBjaGlsZHJlbjogX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ3LTAgaC0wIGJvcmRlci1sLVs4cHhdIGJvcmRlci1sLXRyYW5zcGFyZW50IGJvcmRlci1yLVs4cHhdIGJvcmRlci1yLXRyYW5zcGFyZW50IGJvcmRlci10LVsxNHB4XSBib3JkZXItdC15ZWxsb3ctNDAwIGRyb3Atc2hhZG93LW1kIGhvdmVyOnNjYWxlLTExMCB0cmFuc2l0aW9uLXRyYW5zZm9ybSBtYi0wLjUiIH0pIH0pXSB9KSldIH0pKV0gfSwgdHJhY2suaWQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV0gfSkgfSkpXSB9KSwgX2pzeHMoImZvb3RlciIsIHsgY2xhc3NOYW1lOiAiYmctemluYy05NTAgYm9yZGVyLXQgYm9yZGVyLXppbmMtOTAwIHAtNCBwYi04IHNhZmUtYXJlYS1wYiBzcGFjZS15LTQgc2hyaW5rLTAgei0zMCBzaGFkb3ctWzBfLTVweF8yMHB4X3JnYmEoMCwwLDAsMC41KV0gZmxleCBmbGV4LWNvbCB3LWZ1bGwgbGFuZHNjYXBlOnctMjAgbGFuZHNjYXBlOmxnOnctZnVsbCBoLWF1dG8gbGFuZHNjYXBlOmgtZnVsbCBsYW5kc2NhcGU6bGc6aC1hdXRvIGxhbmRzY2FwZTpib3JkZXItdC0wIGxhbmRzY2FwZTpib3JkZXItbCBsYW5kc2NhcGU6bGc6Ym9yZGVyLXQgbGFuZHNjYXBlOmxnOmJvcmRlci1sLTAgbGFuZHNjYXBlOnB5LTQgbGFuZHNjYXBlOnB4LTIgbGFuZHNjYXBlOmxnOnAtNCBsYW5kc2NhcGU6bGc6cGItOCBsYW5kc2NhcGU6anVzdGlmeS1iZXR3ZWVuIGxhbmRzY2FwZTpsZzpqdXN0aWZ5LW5vcm1hbCBsYW5kc2NhcGU6b3ZlcmZsb3ctdmlzaWJsZSBuby1zY3JvbGxiYXIiLCBjaGlsZHJlbjogW19qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImhpZGRlbiBsYW5kc2NhcGU6ZmxleCBsYW5kc2NhcGU6bGc6aGlkZGVuIGZsZXgtY29sIGgtZnVsbCBqdXN0aWZ5LWJldHdlZW4gcHktMiIsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBmbGV4LWNvbCBnYXAtNCBpdGVtcy1jZW50ZXIiLCBjaGlsZHJlbjogW19qc3goImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gZmlsZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCksIGNsYXNzTmFtZTogImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGdhcC0xIHRleHQtemluYy01MDAgaG92ZXI6dGV4dC13aGl0ZSB0cmFuc2l0aW9uIGdyb3VwIiwgY2hpbGRyZW46IF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAicC0zIHJvdW5kZWQtZnVsbCBiZy16aW5jLTkwMCBncm91cC1ob3ZlcjpiZy16aW5jLTgwMCB0cmFuc2l0aW9uIiwgY2hpbGRyZW46IF9qc3goVXBsb2FkSWNvbiwge30pIH0pIH0pLCBfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6IGhhbmRsZVRvZ2dsZVJlY29yZCwgY2xhc3NOYW1lOiBgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgZ2FwLTEgdHJhbnNpdGlvbiBncm91cCAke2lzUmVjb3JkaW5nID8gJ3RleHQtcmVkLTUwMCBhbmltYXRlLXB1bHNlJyA6ICd0ZXh0LXppbmMtNTAwIGhvdmVyOnRleHQtd2hpdGUnfWAsIGNoaWxkcmVuOiBfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogInAtMyByb3VuZGVkLWZ1bGwgYmctemluYy05MDAgZ3JvdXAtaG92ZXI6YmctemluYy04MDAgdHJhbnNpdGlvbiIsIGNoaWxkcmVuOiBpc1JlY29yZGluZyA/IF9qc3goU3RvcFJlY0ljb24sIHt9KSA6IF9qc3goTWljSWNvbiwge30pIH0pIH0pLCBfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6ICgpID0+IHNldEJlYXRNb2RhbE9wZW4odHJ1ZSksIGNsYXNzTmFtZTogImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGdhcC0xIHRleHQtemluYy01MDAgaG92ZXI6dGV4dC13aGl0ZSB0cmFuc2l0aW9uIGdyb3VwIiwgY2hpbGRyZW46IF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAicC0zIHJvdW5kZWQtZnVsbCBiZy16aW5jLTkwMCBncm91cC1ob3ZlcjpiZy16aW5jLTgwMCB0cmFuc2l0aW9uIiwgY2hpbGRyZW46IF9qc3goRHJ1bUljb24sIHt9KSB9KSB9KV0gfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIiwgY2hpbGRyZW46IF9qc3goImJ1dHRvbiIsIHsgb25DbGljazogaGFuZGxlUGxheVBhdXNlLCBkaXNhYmxlZDogdHJhY2tzLmxlbmd0aCA9PT0gMCAmJiAhaXNSZWNvcmRpbmcsIGNsYXNzTmFtZTogYHctMTQgaC0xNCByb3VuZGVkLWZ1bGwgJHtpc1JlY29yZGluZyA/ICdiZy1yZWQtNTAwIGhvdmVyOmJnLXJlZC00MDAgc2hhZG93LXJlZC01MDAvMjAnIDogJ2JnLWN5YW4tNTAwIGhvdmVyOmJnLWN5YW4tNDAwIHNoYWRvdy1jeWFuLTUwMC8yMCd9IHRleHQtYmxhY2sgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc2hhZG93LXhsIGFjdGl2ZTpzY2FsZS05NSB0cmFuc2l0aW9uIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Z3JheXNjYWxlYCwgY2hpbGRyZW46IGlzUGxheWluZyA/IF9qc3goUGF1c2VJY29uLCB7fSkgOiBfanN4KFBsYXlJY29uLCB7fSkgfSkgfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggZmxleC1jb2wgZ2FwLTQgaXRlbXMtY2VudGVyIiwgY2hpbGRyZW46IFtfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6IGhhbmRsZUN1dCwgZGlzYWJsZWQ6ICFlZmZlY3RpdmVTZWxlY3RlZFRyYWNrSWQsIGNsYXNzTmFtZTogYHctMTIgaC0xMiByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdHJhbnNpdGlvbiAke2VmZmVjdGl2ZVNlbGVjdGVkVHJhY2tJZCA/ICdiZy16aW5jLTgwMCB0ZXh0LXppbmMtMTAwIGhvdmVyOmJnLXppbmMtNzAwJyA6ICdiZy16aW5jLTkwMCB0ZXh0LXppbmMtNjAwJ31gLCBjaGlsZHJlbjogX2pzeChTY2lzc29yc0ljb24sIHt9KSB9KSwgX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiBoYW5kbGVDcm9wLCBkaXNhYmxlZDogIWVmZmVjdGl2ZVNlbGVjdGVkVHJhY2tJZCwgY2xhc3NOYW1lOiBgdy0xMiBoLTEyIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0cmFuc2l0aW9uICR7aXNUcmltTW9kZSA/ICdiZy15ZWxsb3ctNDAwIHRleHQtYmxhY2sgaG92ZXI6YmcteWVsbG93LTMwMCcgOiBlZmZlY3RpdmVTZWxlY3RlZFRyYWNrSWQgPyAnYmctemluYy04MDAgdGV4dC16aW5jLTEwMCBob3ZlcjpiZy16aW5jLTcwMCcgOiAnYmctemluYy05MDAgdGV4dC16aW5jLTYwMCd9YCwgY2hpbGRyZW46IF9qc3goSU9TQ3JvcEljb24sIHt9KSB9KSwgX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiB7IGlmIChpbnRlcmFjdGl2ZU1vZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJbnRlcmFjdGl2ZU1vZGUobnVsbCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFZmZlY3RzTW9kYWxPcGVuKHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9LCBkaXNhYmxlZDogIWVmZmVjdGl2ZVNlbGVjdGVkVHJhY2tJZCwgY2xhc3NOYW1lOiBgdy0xMiBoLTEyIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0cmFuc2l0aW9uICR7aW50ZXJhY3RpdmVNb2RlID8gJ2JnLXllbGxvdy00MDAgdGV4dC1ibGFjayBob3ZlcjpiZy15ZWxsb3ctMzAwJyA6IGVmZmVjdGl2ZVNlbGVjdGVkVHJhY2tJZCA/ICdiZy16aW5jLTgwMCB0ZXh0LXppbmMtMTAwIGhvdmVyOmJnLXppbmMtNzAwJyA6ICdiZy16aW5jLTkwMCB0ZXh0LXppbmMtNjAwJ31gLCBjaGlsZHJlbjogX2pzeChGeEljb24sIHt9KSB9KV0gfSldIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGZsZXgtY29sIGdhcC00IGxhbmRzY2FwZTpoaWRkZW4gbGFuZHNjYXBlOmxnOmZsZXgiLCBjaGlsZHJlbjogW19qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYXgtdy1tZCBteC1hdXRvIHctZnVsbCBweC00IGxhbmRzY2FwZTpsZzpnYXAtNCIsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTQiLCBjaGlsZHJlbjogW19qc3hzKCJidXR0b24iLCB7IG9uQ2xpY2s6ICgpID0+IGZpbGVJbnB1dFJlZi5jdXJyZW50Py5jbGljaygpLCBjbGFzc05hbWU6ICJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBnYXAtMSB0ZXh0LXppbmMtNTAwIGhvdmVyOnRleHQtd2hpdGUgdHJhbnNpdGlvbiBncm91cCIsIGNoaWxkcmVuOiBbX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJwLTMgcm91bmRlZC1mdWxsIGJnLXppbmMtOTAwIGdyb3VwLWhvdmVyOmJnLXppbmMtODAwIHRyYW5zaXRpb24iLCBjaGlsZHJlbjogX2pzeChVcGxvYWRJY29uLCB7fSkgfSksIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQtWzlweF0gdXBwZXJjYXNlIGZvbnQtYm9sZCB0cmFja2luZy13aWRlIiwgY2hpbGRyZW46ICJJbXBvcnQiIH0pXSB9KSwgX2pzeHMoImJ1dHRvbiIsIHsgb25DbGljazogaGFuZGxlU2F2ZUFuZENsb3NlLCBjbGFzc05hbWU6ICJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBnYXAtMSB0ZXh0LXppbmMtNTAwIGhvdmVyOnRleHQtd2hpdGUgdHJhbnNpdGlvbiBncm91cCIsIGNoaWxkcmVuOiBbX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6IGB3LTEyIGgtMTIgb3ZlcmZsb3ctaGlkZGVuIGJnLXppbmMtOTAwIGdyb3VwLWhvdmVyOnJpbmctMiByaW5nLWN5YW4tNTAwLzUwIHRyYW5zaXRpb24gYm9yZGVyIGJvcmRlci16aW5jLTgwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciAke3JlY2VudFByb2plY3RQcmV2aWV3ID8gJ3JvdW5kZWQtbWQnIDogJ3JvdW5kZWQtZnVsbCBwLTMnfWAsIGNoaWxkcmVuOiByZWNlbnRQcm9qZWN0UHJldmlldyA/IChfanN4KCJpbWciLCB7IHNyYzogcmVjZW50UHJvamVjdFByZXZpZXcsIGFsdDogIkxpYnJhcnkiLCBjbGFzc05hbWU6ICJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlciBvcGFjaXR5LTgwIiB9KSkgOiAoX2pzeChMaWJyYXJ5SWNvbiwge30pKSB9KSwgX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC1bOXB4XSB1cHBlcmNhc2UgZm9udC1ib2xkIHRyYWNraW5nLXdpZGUiLCBjaGlsZHJlbjogIkxpYnJhcnkiIH0pXSB9KV0gfSksIF9qc3goImJ1dHRvbiIsIHsgb25DbGljazogaGFuZGxlUGxheVBhdXNlLCBkaXNhYmxlZDogdHJhY2tzLmxlbmd0aCA9PT0gMCAmJiAhaXNSZWNvcmRpbmcsIGNsYXNzTmFtZTogYHctMTYgaC0xNiByb3VuZGVkLWZ1bGwgJHtpc1JlY29yZGluZyA/ICdiZy1yZWQtNTAwIGhvdmVyOmJnLXJlZC00MDAgc2hhZG93LXJlZC01MDAvMjAnIDogJ2JnLWN5YW4tNTAwIGhvdmVyOmJnLWN5YW4tNDAwIHNoYWRvdy1jeWFuLTUwMC8yMCd9IHRleHQtYmxhY2sgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc2hhZG93LXhsIGFjdGl2ZTpzY2FsZS05NSB0cmFuc2l0aW9uIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Z3JheXNjYWxlYCwgY2hpbGRyZW46IGlzUGxheWluZyA/IF9qc3goUGF1c2VJY29uLCB7fSkgOiBfanN4KFBsYXlJY29uLCB7fSkgfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggaXRlbXMtY2VudGVyIGdhcC00IiwgY2hpbGRyZW46IFtfanN4cygiYnV0dG9uIiwgeyBvbkNsaWNrOiBoYW5kbGVUb2dnbGVSZWNvcmQsIGNsYXNzTmFtZTogYGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGdhcC0xIHRyYW5zaXRpb24gZ3JvdXAgJHtpc1JlY29yZGluZyA/ICd0ZXh0LXJlZC01MDAgYW5pbWF0ZS1wdWxzZScgOiAndGV4dC16aW5jLTUwMCBob3Zlcjp0ZXh0LXdoaXRlJ31gLCBjaGlsZHJlbjogW19qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAicC0zIHJvdW5kZWQtZnVsbCBiZy16aW5jLTkwMCBncm91cC1ob3ZlcjpiZy16aW5jLTgwMCB0cmFuc2l0aW9uIiwgY2hpbGRyZW46IGlzUmVjb3JkaW5nID8gX2pzeChTdG9wUmVjSWNvbiwge30pIDogX2pzeChNaWNJY29uLCB7fSkgfSksIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQtWzlweF0gdXBwZXJjYXNlIGZvbnQtYm9sZCB0cmFja2luZy13aWRlIiwgY2hpbGRyZW46IGlzUmVjb3JkaW5nID8gIlN0b3AiIDogIk1pYyIgfSldIH0pLCBfanN4cygiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBzZXRCZWF0TW9kYWxPcGVuKHRydWUpLCBjbGFzc05hbWU6ICJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBnYXAtMSB0ZXh0LXppbmMtNTAwIGhvdmVyOnRleHQtd2hpdGUgdHJhbnNpdGlvbiBncm91cCIsIGNoaWxkcmVuOiBbX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJwLTMgcm91bmRlZC1mdWxsIGJnLXppbmMtOTAwIGdyb3VwLWhvdmVyOmJnLXppbmMtODAwIHRyYW5zaXRpb24iLCBjaGlsZHJlbjogX2pzeChEcnVtSWNvbiwge30pIH0pLCBfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LVs5cHhdIHVwcGVyY2FzZSBmb250LWJvbGQgdHJhY2tpbmctd2lkZSIsIGNoaWxkcmVuOiAiQmVhdCIgfSldIH0pXSB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImdyaWQgZ3JpZC1jb2xzLTMgZ2FwLTIgbWF4LXctbWQgbXgtYXV0byB3LWZ1bGwiLCBjaGlsZHJlbjogW19qc3goQnV0dG9uLCB7IHZhcmlhbnQ6ICJzZWNvbmRhcnkiLCBpY29uOiBfanN4KFNjaXNzb3JzSWNvbiwge30pLCBsYWJlbDogIkN1dCIsIGRpc2FibGVkOiAhZWZmZWN0aXZlU2VsZWN0ZWRUcmFja0lkLCBvbkNsaWNrOiBoYW5kbGVDdXQsIGNsYXNzTmFtZTogImgtMTIgdGV4dC14cyBiZy16aW5jLTkwMCBib3JkZXItemluYy04MDAgaG92ZXI6YmctemluYy04MDAiIH0pLCBfanN4KEJ1dHRvbiwgeyB2YXJpYW50OiBpc1RyaW1Nb2RlID8gInByaW1hcnkiIDogInNlY29uZGFyeSIsIGljb246IGlzVHJpbU1vZGUgPyBudWxsIDogX2pzeChJT1NDcm9wSWNvbiwge30pLCBsYWJlbDogc2VsZWN0aW9uID8gIkNyb3AgU2VsZWN0aW9uIiA6IChpc1RyaW1Nb2RlID8gIkRvbmUiIDogIkNyb3AgVG9vbCIpLCBkaXNhYmxlZDogIWVmZmVjdGl2ZVNlbGVjdGVkVHJhY2tJZCwgb25DbGljazogaGFuZGxlQ3JvcCwgY2xhc3NOYW1lOiBgaC0xMiB0ZXh0LXhzICR7aXNUcmltTW9kZSA/ICdiZy15ZWxsb3ctNDAwIGhvdmVyOmJnLXllbGxvdy0zMDAgdGV4dC1ibGFjayBib3JkZXItbm9uZScgOiAnYmctemluYy05MDAgYm9yZGVyLXppbmMtODAwIGhvdmVyOmJnLXppbmMtODAwJ31gIH0pLCBfanN4KEJ1dHRvbiwgeyB2YXJpYW50OiBpbnRlcmFjdGl2ZU1vZGUgPyAicHJpbWFyeSIgOiAic2Vjb25kYXJ5IiwgaWNvbjogaW50ZXJhY3RpdmVNb2RlID8gbnVsbCA6IF9qc3goRnhJY29uLCB7fSksIGxhYmVsOiBpbnRlcmFjdGl2ZU1vZGUgPyAiRG9uZSIgOiAiRWZmZWN0cyIsIGRpc2FibGVkOiAhZWZmZWN0aXZlU2VsZWN0ZWRUcmFja0lkLCBvbkNsaWNrOiAoKSA9PiB7IGlmIChpbnRlcmFjdGl2ZU1vZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJbnRlcmFjdGl2ZU1vZGUobnVsbCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFZmZlY3RzTW9kYWxPcGVuKHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9LCBjbGFzc05hbWU6IGBoLTEyIHRleHQteHMgJHtpbnRlcmFjdGl2ZU1vZGUgPyAnYmcteWVsbG93LTQwMCBob3ZlcjpiZy15ZWxsb3ctMzAwIHRleHQtYmxhY2sgYm9yZGVyLW5vbmUnIDogJ2JnLXppbmMtOTAwIGJvcmRlci16aW5jLTgwMCBob3ZlcjpiZy16aW5jLTgwMCd9YCB9KV0gfSldIH0pXSB9KSwgX2pzeCgiaW5wdXQiLCB7IHR5cGU6ICJmaWxlIiwgbXVsdGlwbGU6IHRydWUsIHJlZjogZmlsZUlucHV0UmVmLCBvbkNoYW5nZTogaGFuZGxlRmlsZVVwbG9hZCwgYWNjZXB0OiAiYXVkaW8vKiwubXAzLC53YXYsLm00YSwuZmxhYywub2dnLC5hYWMiLCBjbGFzc05hbWU6ICJoaWRkZW4iIH0pLCBfanN4KEJlYXRNYWtlck1vZGFsLCB7IGlzT3BlbjogaXNCZWF0TW9kYWxPcGVuLCBvbkNsb3NlOiAoKSA9PiBzZXRCZWF0TW9kYWxPcGVuKGZhbHNlKSwgb25HZW5lcmF0ZTogaGFuZGxlQWRkQmVhdCB9KSwgX2pzeChFZmZlY3RzTW9kYWwsIHsgaXNPcGVuOiBpc0VmZmVjdHNNb2RhbE9wZW4sIG9uQ2xvc2U6ICgpID0+IHNldEVmZmVjdHNNb2RhbE9wZW4oZmFsc2UpLCBvbkFwcGx5OiBoYW5kbGVBcHBseUVmZmVjdCwgYWN0aXZlRWZmZWN0czogc2VsZWN0ZWRUcmFjaz8uYWN0aXZlRWZmZWN0cywgaXNDcm9zc2ZhZGVkOiAhIXNlbGVjdGVkVHJhY2s/LmNyb3NzZmFkZU1ldGFkYXRhLCBjdXJyZW50Vm9sdW1lOiBzZWxlY3RlZFRyYWNrPy52b2x1bWUgfSksIF9qc3goRXhwb3J0TW9kYWwsIHsgaXNPcGVuOiBpc0V4cG9ydE1vZGFsT3Blbiwgb25DbG9zZTogKCkgPT4gc2V0RXhwb3J0TW9kYWxPcGVuKGZhbHNlKSwgb25FeHBvcnQ6IGhhbmRsZUV4cG9ydCwgb3JpZ2luYWxTYW1wbGVSYXRlOiA0NDEwMCB9KV0gfSkpOwp9OwpleHBvcnQgZGVmYXVsdCBBcHA7Cg==","@/components/EffectsModal":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IEJ1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvQnV0dG9uJzsKLy8gSWNvbnMKY29uc3QgRXF1YWxpemVySWNvbiA9ICgpID0+IChfanN4KCJzdmciLCB7IGNsYXNzTmFtZTogInctNiBoLTYiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNMTIgNlY0bTAgMmEyIDIgMCAxMDAgNG0wLTRhMiAyIDAgMTEwIDRtLTYgOGEyIDIgMCAxMDAtNG0wIDRhMiAyIDAgMTEwLTRtMCA0djJtMC02VjRtNiA2djEwbTYtMmEyIDIgMCAxMDAtNG0wIDRhMiAyIDAgMTEwLTRtMCA0djJtMC02VjQiIH0pIH0pKTsKY29uc3QgTm9ybWFsaXplSWNvbiA9ICgpID0+IChfanN4KCJzdmciLCB7IGNsYXNzTmFtZTogInctNiBoLTYiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNMyAxMy4xMjVDMyAxMi41MDQgMy41MDQgMTIgNC4xMjUgMTJoMi4yNWMuNjIxIDAgMS4xMjUuNTA0IDEuMTI1IDEuMTI1djYuNzVDNy41IDIwLjQ5NiA2Ljk5NiAyMSA2LjM3NSAyMWgtMi4yNUExLjEyNSAxLjEyNSAwIDAxMyAxOS44NzV2LTYuNzV6TTkuNzUgOC42MjVjMC0uNjIxLjUwNC0xLjEyNSAxLjEyNS0xLjEyNWgyLjI1Yy42MjEgMCAxLjEyNS41MDQgMS4xMjUgMS4xMjV2MTEuMjVjMCAuNjIxLS41MDQgMS4xMjUtMS4xMjUgMS4xMjVoLTIuMjVhMS4xMjUgMS4xMjUgMCAwMS0xLjEyNS0xLjEyNVY4LjYyNXpNMTYuNSA0LjEyNWMwLS42MjEuNTA0LTEuMTI1IDEuMTI1LTEuMTI1aDIuMjVDMjAuNDk2IDMgMjEgMy41MDQgMjEgNC4xMjV2MTUuNzVjMCAuNjIxLS41MDQgMS4xMjUtMS4xMjUgMS4xMjVoLTIuMjVhMS4xMjUgMS4xMjUgMCAwMS0xLjEyNS0xLjEyNVY0LjEyNXoiIH0pIH0pKTsKY29uc3QgUmV2ZXJzZUljb24gPSAoKSA9PiAoX2pzeCgic3ZnIiwgeyBjbGFzc05hbWU6ICJ3LTYgaC02IiwgZmlsbDogIm5vbmUiLCBzdHJva2U6ICJjdXJyZW50Q29sb3IiLCBzdHJva2VXaWR0aDogIjIiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IHN0cm9rZUxpbmVjYXA6ICJyb3VuZCIsIHN0cm9rZUxpbmVqb2luOiAicm91bmQiLCBkOiAiTTkgMTVMMyA5bTAgMGw2LTZNMyA5aDEyYTYgNiAwIDAxMCAxMmgtMyIgfSkgfSkpOwpjb25zdCBTcGVlZEljb24gPSAoKSA9PiAoX2pzeCgic3ZnIiwgeyBjbGFzc05hbWU6ICJ3LTYgaC02IiwgZmlsbDogIm5vbmUiLCBzdHJva2U6ICJjdXJyZW50Q29sb3IiLCBzdHJva2VXaWR0aDogIjIiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IHN0cm9rZUxpbmVjYXA6ICJyb3VuZCIsIHN0cm9rZUxpbmVqb2luOiAicm91bmQiLCBkOiAiTTEyIDZ2Nmg0LjVtNC41IDBhOSA5IDAgMTEtMTggMCA5IDkgMCAwMTE4IDB6IiB9KSB9KSk7CmNvbnN0IFZvbHVtZUljb24gPSAoKSA9PiAoX2pzeCgic3ZnIiwgeyBjbGFzc05hbWU6ICJ3LTYgaC02IiwgZmlsbDogIm5vbmUiLCBzdHJva2U6ICJjdXJyZW50Q29sb3IiLCBzdHJva2VXaWR0aDogIjIiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IHN0cm9rZUxpbmVjYXA6ICJyb3VuZCIsIHN0cm9rZUxpbmVqb2luOiAicm91bmQiLCBkOiAiTTE5LjExNCA1LjYzNmE5IDkgMCAwMTAgMTIuNzI4TTE2LjQ2MyA4LjI4OGE1LjI1IDUuMjUgMCAwMTAgNy40MjRNNi43NSA4LjI1bDQuNzItNC43MmEuNzUuNzUgMCAwMTEuMjguNTN2MTUuODhhLjc1Ljc1IDAgMDEtMS4yOC41M2wtNC43Mi00LjcySDQuNTFjLS44OCAwLTEuNzA0LS41MDctMS45MzgtMS4zNTRBOS4wMSA5LjAxIDAgMDEyLjI1IDEyYzAtLjgzLjExMi0xLjYzMy4zMjItMi4zOTZDMi44MDYgOC43NTYgMy42MyA4LjI1IDQuNTEgOC4yNUg2Ljc1eiIgfSkgfSkpOwpjb25zdCBDcm9zc2ZhZGVJY29uID0gKCkgPT4gKF9qc3hzKCJzdmciLCB7IGNsYXNzTmFtZTogInctNiBoLTYiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogW19qc3goInBhdGgiLCB7IHN0cm9rZUxpbmVjYXA6ICJyb3VuZCIsIHN0cm9rZUxpbmVqb2luOiAicm91bmQiLCBkOiAiTTE5IDE5Yy0xLjUgMC0zLTEtNC0zbC02LThjLTEtMi0yLjUtMy00LTMiIH0pLCBfanN4KCJwYXRoIiwgeyBzdHJva2VMaW5lY2FwOiAicm91bmQiLCBzdHJva2VMaW5lam9pbjogInJvdW5kIiwgZDogIk01IDE5YzEuNSAwIDMtMSA0LTNsNi04YzEtMiAyLjUtMyA0LTMiIH0pXSB9KSk7CmNvbnN0IEVmZmVjdHNNb2RhbCA9ICh7IGlzT3Blbiwgb25DbG9zZSwgb25BcHBseSwgYWN0aXZlRWZmZWN0cywgaXNDcm9zc2ZhZGVkLCBjdXJyZW50Vm9sdW1lID0gMS4wIH0pID0+IHsKICAgIGNvbnN0IFtzZWxlY3RlZEVmZmVjdElkLCBzZXRTZWxlY3RlZEVmZmVjdElkXSA9IHVzZVN0YXRlKG51bGwpOwogICAgY29uc3QgW2N1c3RvbVZhbHVlLCBzZXRDdXN0b21WYWx1ZV0gPSB1c2VTdGF0ZSgnJyk7CiAgICBpZiAoIWlzT3BlbikKICAgICAgICByZXR1cm4gbnVsbDsKICAgIGNvbnN0IGVmZmVjdHMgPSBbCiAgICAgICAgeyBpZDogJ2ZhZGVJbicsIGxhYmVsOiAnRmFkZSBJbicsIGljb246ICfil6InLCBpc1N1Ym1lbnU6IHRydWUgfSwKICAgICAgICB7IGlkOiAnZmFkZU91dCcsIGxhYmVsOiAnRmFkZSBPdXQnLCBpY29uOiAn4pejJywgaXNTdWJtZW51OiB0cnVlIH0sCiAgICAgICAgeyBpZDogJ2Nyb3NzZmFkZScsIGxhYmVsOiAnQ3Jvc3NmYWRlJywgaWNvbjogX2pzeChDcm9zc2ZhZGVJY29uLCB7fSksIGlzU3VibWVudTogdHJ1ZSB9LAogICAgICAgIHsgaWQ6ICdlcScsIGxhYmVsOiAnRVEnLCBpY29uOiBfanN4KEVxdWFsaXplckljb24sIHt9KSwgaXNTdWJtZW51OiB0cnVlIH0sCiAgICAgICAgeyBpZDogJ25vcm1hbGl6ZScsIGxhYmVsOiAnTm9ybWFsaXplJywgaWNvbjogX2pzeChOb3JtYWxpemVJY29uLCB7fSksIGlzU3VibWVudTogZmFsc2UgfSwKICAgICAgICB7IGlkOiAncmV2ZXJzZScsIGxhYmVsOiAnUmV2ZXJzZScsIGljb246IF9qc3goUmV2ZXJzZUljb24sIHt9KSwgaXNTdWJtZW51OiBmYWxzZSB9LAogICAgICAgIHsgaWQ6ICdzcGVlZCcsIGxhYmVsOiAnU3BlZWQnLCBpY29uOiBfanN4KFNwZWVkSWNvbiwge30pLCBpc1N1Ym1lbnU6IHRydWUgfSwKICAgICAgICB7IGlkOiAndm9sdW1lJywgbGFiZWw6ICdWb2x1bWUnLCBpY29uOiBfanN4KFZvbHVtZUljb24sIHt9KSwgaXNTdWJtZW51OiB0cnVlIH0sCiAgICBdOwogICAgY29uc3QgZXFQcmVzZXRzID0gWwogICAgICAgICdCYXNzIEJvb3N0JywKICAgICAgICAnVHJlYmxlIEJvb3N0JywKICAgICAgICAnQmFzcyBDdXQnLAogICAgICAgICdUcmVibGUgQ3V0JywKICAgICAgICAnTWlkIEJvb3N0JywKICAgICAgICAnVi1TaGFwZScsCiAgICAgICAgJ0xvLUZpIFJhZGlvJywKICAgICAgICAnVGVsZXBob25lJwogICAgXTsKICAgIGNvbnN0IGNoZWNrQWN0aXZlID0gKGlkKSA9PiB7CiAgICAgICAgaWYgKGlkID09PSAnZmFkZUluJykKICAgICAgICAgICAgcmV0dXJuICEhYWN0aXZlRWZmZWN0cz8uZmFkZUluOwogICAgICAgIGlmIChpZCA9PT0gJ2ZhZGVPdXQnKQogICAgICAgICAgICByZXR1cm4gISFhY3RpdmVFZmZlY3RzPy5mYWRlT3V0OwogICAgICAgIGlmIChpZCA9PT0gJ2Nyb3NzZmFkZScpCiAgICAgICAgICAgIHJldHVybiAhIWlzQ3Jvc3NmYWRlZDsKICAgICAgICBpZiAoaWQgPT09ICdub3JtYWxpemUnKQogICAgICAgICAgICByZXR1cm4gISFhY3RpdmVFZmZlY3RzPy5ub3JtYWxpemU7CiAgICAgICAgaWYgKGlkID09PSAncmV2ZXJzZScpCiAgICAgICAgICAgIHJldHVybiAhIWFjdGl2ZUVmZmVjdHM/LnJldmVyc2U7CiAgICAgICAgaWYgKGlkID09PSAnZXEnKQogICAgICAgICAgICByZXR1cm4gISFhY3RpdmVFZmZlY3RzPy5lcVByZXNldDsKICAgICAgICBpZiAoaWQgPT09ICdzcGVlZCcpCiAgICAgICAgICAgIHJldHVybiAhIWFjdGl2ZUVmZmVjdHM/LnBsYXliYWNrUmF0ZSAmJiBhY3RpdmVFZmZlY3RzLnBsYXliYWNrUmF0ZSAhPT0gMS4wOwogICAgICAgIGlmIChpZCA9PT0gJ3ZvbHVtZScpIHsKICAgICAgICAgICAgY29uc3Qgdm9sID0gdHlwZW9mIGN1cnJlbnRWb2x1bWUgPT09ICdudW1iZXInID8gY3VycmVudFZvbHVtZSA6IDEuMDsKICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHZvbCAtIDEuMCkgPiAwLjAxOyAvLyBBY3RpdmUgaWYgbm90IDEwMCUKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIGNvbnN0IGhhbmRsZUVmZmVjdENsaWNrID0gKGZ4KSA9PiB7CiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBjaGVja0FjdGl2ZShmeC5pZCk7CiAgICAgICAgaWYgKGZ4LmlzU3VibWVudSkgewogICAgICAgICAgICBzZXRTZWxlY3RlZEVmZmVjdElkKGZ4LmlkKTsKICAgICAgICAgICAgLy8gU2V0IGRlZmF1bHQgY3VzdG9tIHZhbHVlcwogICAgICAgICAgICBpZiAoZnguaWQgPT09ICdzcGVlZCcpIHsKICAgICAgICAgICAgICAgIHNldEN1c3RvbVZhbHVlKGFjdGl2ZUVmZmVjdHM/LnBsYXliYWNrUmF0ZSA/IGFjdGl2ZUVmZmVjdHMucGxheWJhY2tSYXRlLnRvU3RyaW5nKCkgOiAnMS4wJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoZnguaWQgPT09ICd2b2x1bWUnKSB7CiAgICAgICAgICAgICAgICBzZXRDdXN0b21WYWx1ZShNYXRoLnJvdW5kKGN1cnJlbnRWb2x1bWUgKiAxMDApLnRvU3RyaW5nKCkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKGZ4LmlkID09PSAnZmFkZUluJyB8fCBmeC5pZCA9PT0gJ2ZhZGVPdXQnKSB7CiAgICAgICAgICAgICAgICBzZXRDdXN0b21WYWx1ZSgnMy4wJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBzZXRDdXN0b21WYWx1ZSgnJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIC8vIEZvciB0b2dnbGVzIChOb3JtYWxpemUsIFJldmVyc2UpCiAgICAgICAgICAgIGlmIChpc0FjdGl2ZSkgewogICAgICAgICAgICAgICAgb25BcHBseShmeC5pZCwgeyByZXN0b3JlOiB0cnVlIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgb25BcHBseShmeC5pZCwgeyB0b2dnbGU6IHRydWUgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgb25DbG9zZSgpOwogICAgICAgIH0KICAgIH07CiAgICBjb25zdCBoYW5kbGVBcHBseVdpdGhEdXJhdGlvbiA9IChkdXJhdGlvbikgPT4gewogICAgICAgIGlmIChzZWxlY3RlZEVmZmVjdElkKSB7CiAgICAgICAgICAgIG9uQXBwbHkoc2VsZWN0ZWRFZmZlY3RJZCwgeyBkdXJhdGlvbiB9KTsKICAgICAgICAgICAgb25DbG9zZSgpOwogICAgICAgICAgICBzZXRTZWxlY3RlZEVmZmVjdElkKG51bGwpOwogICAgICAgIH0KICAgIH07CiAgICBjb25zdCBoYW5kbGVBcHBseVByZXNldCA9IChwcmVzZXQpID0+IHsKICAgICAgICBpZiAoc2VsZWN0ZWRFZmZlY3RJZCkgewogICAgICAgICAgICBvbkFwcGx5KHNlbGVjdGVkRWZmZWN0SWQsIHsgcHJlc2V0IH0pOwogICAgICAgICAgICBvbkNsb3NlKCk7CiAgICAgICAgICAgIHNldFNlbGVjdGVkRWZmZWN0SWQobnVsbCk7CiAgICAgICAgfQogICAgfTsKICAgIGNvbnN0IGhhbmRsZUFwcGx5U3BlZWQgPSAocmF0ZSkgPT4gewogICAgICAgIGlmIChzZWxlY3RlZEVmZmVjdElkKSB7CiAgICAgICAgICAgIG9uQXBwbHkoc2VsZWN0ZWRFZmZlY3RJZCwgeyBwbGF5YmFja1JhdGU6IHJhdGUgfSk7CiAgICAgICAgICAgIG9uQ2xvc2UoKTsKICAgICAgICAgICAgc2V0U2VsZWN0ZWRFZmZlY3RJZChudWxsKTsKICAgICAgICB9CiAgICB9OwogICAgY29uc3QgaGFuZGxlQXBwbHlWb2x1bWUgPSAocGVyY2VudCkgPT4gewogICAgICAgIGlmIChzZWxlY3RlZEVmZmVjdElkKSB7CiAgICAgICAgICAgIG9uQXBwbHkoc2VsZWN0ZWRFZmZlY3RJZCwgeyBsZXZlbDogcGVyY2VudCAvIDEwMCB9KTsKICAgICAgICAgICAgb25DbG9zZSgpOwogICAgICAgICAgICBzZXRTZWxlY3RlZEVmZmVjdElkKG51bGwpOwogICAgICAgIH0KICAgIH07CiAgICBjb25zdCBoYW5kbGVJbnRlcmFjdGl2ZSA9ICgpID0+IHsKICAgICAgICBpZiAoc2VsZWN0ZWRFZmZlY3RJZCkgewogICAgICAgICAgICBvbkFwcGx5KHNlbGVjdGVkRWZmZWN0SWQsIHsgaW50ZXJhY3RpdmU6IHRydWUgfSk7CiAgICAgICAgICAgIG9uQ2xvc2UoKTsKICAgICAgICAgICAgc2V0U2VsZWN0ZWRFZmZlY3RJZChudWxsKTsKICAgICAgICB9CiAgICB9OwogICAgY29uc3QgaGFuZGxlUmVzdG9yZSA9ICgpID0+IHsKICAgICAgICBpZiAoc2VsZWN0ZWRFZmZlY3RJZCkgewogICAgICAgICAgICBvbkFwcGx5KHNlbGVjdGVkRWZmZWN0SWQsIHsgcmVzdG9yZTogdHJ1ZSB9KTsKICAgICAgICAgICAgb25DbG9zZSgpOwogICAgICAgICAgICBzZXRTZWxlY3RlZEVmZmVjdElkKG51bGwpOwogICAgICAgIH0KICAgIH07CiAgICAvLyBDb21tb24gbW9kYWwgY29udGFpbmVyIGNsYXNzIC0gQWdncmVzc2l2ZWx5IGNvbXBhY3RlZCBmb3IgbGFuZHNjYXBlCiAgICBjb25zdCBtb2RhbENvbnRhaW5lckNsYXNzID0gImJnLXppbmMtOTAwIGJvcmRlciBib3JkZXItemluYy04MDAgcm91bmRlZC0yeGwgdy1mdWxsIG1heC13LXNtIHAtNiBsYW5kc2NhcGU6cC0yIHNoYWRvdy0yeGwgc3BhY2UteS00IGxhbmRzY2FwZTpzcGFjZS15LTEgbWItNCBzbTptYi0wIGxhbmRzY2FwZTptYi0wIGxhbmRzY2FwZTptYXgtaC1bOTV2aF0gbGFuZHNjYXBlOm92ZXJmbG93LXktYXV0byBuby1zY3JvbGxiYXIiOwogICAgY29uc3QgbW9kYWxPdmVybGF5Q2xhc3MgPSAiZml4ZWQgaW5zZXQtMCB6LTUwIGZsZXggaXRlbXMtZW5kIHNtOml0ZW1zLWNlbnRlciBsYW5kc2NhcGU6aXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJsYWNrLzgwIGJhY2tkcm9wLWJsdXItc20gcC00IGxhbmRzY2FwZTpwLTIgYW5pbWF0ZS1pbiBmYWRlLWluIGR1cmF0aW9uLTIwMCI7CiAgICAvLyAtLS0gU3ViLW1lbnUgZm9yIEVRIC0tLQogICAgaWYgKHNlbGVjdGVkRWZmZWN0SWQgPT09ICdlcScpIHsKICAgICAgICByZXR1cm4gKF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiBtb2RhbE92ZXJsYXlDbGFzcywgY2hpbGRyZW46IF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogbW9kYWxDb250YWluZXJDbGFzcywgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgYm9yZGVyLWIgYm9yZGVyLXppbmMtODAwIHBiLTIgbGFuZHNjYXBlOnBiLTEiLCBjaGlsZHJlbjogW19qc3goImgyIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIiwgY2hpbGRyZW46ICJTZWxlY3QgRVEgUHJlc2V0IiB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBnYXAtMiIsIGNoaWxkcmVuOiBbY2hlY2tBY3RpdmUoJ2VxJykgJiYgKF9qc3goImJ1dHRvbiIsIHsgb25DbGljazogaGFuZGxlUmVzdG9yZSwgY2xhc3NOYW1lOiAidGV4dC14cyBmb250LWJvbGQgdGV4dC1yZWQtNDAwIGJnLXJlZC05MDAvMjAgcHgtMiBweS0xIHJvdW5kZWQgaG92ZXI6YmctcmVkLTkwMC81MCIsIGNoaWxkcmVuOiAiUmVtb3ZlIiB9KSksIF9qc3goImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gc2V0U2VsZWN0ZWRFZmZlY3RJZChudWxsKSwgY2xhc3NOYW1lOiAidGV4dC16aW5jLTUwMCBob3Zlcjp0ZXh0LXdoaXRlIHRleHQtc20iLCBjaGlsZHJlbjogIkJhY2siIH0pXSB9KV0gfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMiBsYW5kc2NhcGU6Z2FwLTEgbWF4LWgtWzMwMHB4XSBvdmVyZmxvdy15LWF1dG8gbm8tc2Nyb2xsYmFyIiwgY2hpbGRyZW46IGVxUHJlc2V0cy5tYXAocHJlc2V0ID0+IChfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6ICgpID0+IGhhbmRsZUFwcGx5UHJlc2V0KHByZXNldCksIGNsYXNzTmFtZTogYHB5LTMgcHgtMiBsYW5kc2NhcGU6cHktMS41IHJvdW5kZWQtbGcgdHJhbnNpdGlvbiBmb250LW1lZGl1bSB0ZXh0LXNtICR7YWN0aXZlRWZmZWN0cz8uZXFQcmVzZXQgPT09IHByZXNldCA/ICdiZy1jeWFuLTkwMC81MCB0ZXh0LWN5YW4tNDAwIHJpbmctMSByaW5nLWN5YW4tNTAwJyA6ICdiZy16aW5jLTgwMCB0ZXh0LXppbmMtMzAwIGhvdmVyOmJnLWN5YW4tOTAwLzMwJ31gLCBjaGlsZHJlbjogcHJlc2V0IH0sIHByZXNldCkpKSB9KV0gfSkgfSkpOwogICAgfQogICAgLy8gLS0tIFN1Yi1tZW51IGZvciBGYWRlcyAtLS0KICAgIGlmIChzZWxlY3RlZEVmZmVjdElkID09PSAnZmFkZUluJyB8fCBzZWxlY3RlZEVmZmVjdElkID09PSAnZmFkZU91dCcgfHwgc2VsZWN0ZWRFZmZlY3RJZCA9PT0gJ2Nyb3NzZmFkZScpIHsKICAgICAgICBjb25zdCBpc0ZhZGUgPSBzZWxlY3RlZEVmZmVjdElkICE9PSAnY3Jvc3NmYWRlJzsKICAgICAgICByZXR1cm4gKF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiBtb2RhbE92ZXJsYXlDbGFzcywgY2hpbGRyZW46IF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogbW9kYWxDb250YWluZXJDbGFzcywgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgYm9yZGVyLWIgYm9yZGVyLXppbmMtODAwIHBiLTIgbGFuZHNjYXBlOnBiLTEgaC0xMCBsYW5kc2NhcGU6aC04IiwgY2hpbGRyZW46IFtfanN4KCJoMiIsIHsgY2xhc3NOYW1lOiAidGV4dC1sZyBmb250LWJvbGQgdGV4dC13aGl0ZSIsIGNoaWxkcmVuOiAiU2VsZWN0IER1cmF0aW9uIiB9KSwgaXNGYWRlICYmIChfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6IGhhbmRsZUludGVyYWN0aXZlLCBjbGFzc05hbWU6ICJiZy15ZWxsb3ctNTAwIGhvdmVyOmJnLXllbGxvdy00MDAgdGV4dC1ibGFjayBweC00IHB5LTEgcm91bmRlZC1tZCBmb250LWJvbGQgdGV4dC1sZyBsYW5kc2NhcGU6dGV4dC1zbSBzaGFkb3ctbGcgc2hhZG93LXllbGxvdy01MDAvMjAgdHJhbnNpdGlvbiBhY3RpdmU6c2NhbGUtOTUiLCBjaGlsZHJlbjogIlNsaWRlciIgfSkpLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGdhcC0yIiwgY2hpbGRyZW46IFtjaGVja0FjdGl2ZShzZWxlY3RlZEVmZmVjdElkKSAmJiAoX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiBoYW5kbGVSZXN0b3JlLCBjbGFzc05hbWU6ICJ0ZXh0LXhzIGZvbnQtYm9sZCB0ZXh0LXJlZC00MDAgYmctcmVkLTkwMC8yMCBweC0yIHB5LTEgcm91bmRlZCBob3ZlcjpiZy1yZWQtOTAwLzUwIiwgY2hpbGRyZW46ICJSZW1vdmUiIH0pKSwgX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBzZXRTZWxlY3RlZEVmZmVjdElkKG51bGwpLCBjbGFzc05hbWU6ICJ0ZXh0LXppbmMtNTAwIGhvdmVyOnRleHQtd2hpdGUgdGV4dC1zbSIsIGNoaWxkcmVuOiAiQmFjayIgfSldIH0pXSB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJncmlkIGdyaWQtY29scy0zIGdhcC0yIGxhbmRzY2FwZTpnYXAtMSIsIGNoaWxkcmVuOiBbMC4yNSwgMC41LCAxLjAsIDIuMCwgMy4wLCA1LjBdLm1hcChkID0+IChfanN4cygiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBoYW5kbGVBcHBseVdpdGhEdXJhdGlvbihkKSwgY2xhc3NOYW1lOiAicHktMyBsYW5kc2NhcGU6cHktMS41IGJnLXppbmMtODAwIHJvdW5kZWQtbGcgaG92ZXI6YmctY3lhbi05MDAvNTAgaG92ZXI6dGV4dC1jeWFuLTQwMCB0cmFuc2l0aW9uIGZvbnQtbWVkaXVtIiwgY2hpbGRyZW46IFtkLCAicyJdIH0sIGQpKSkgfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggZ2FwLTIgaXRlbXMtY2VudGVyIHB0LTIgbGFuZHNjYXBlOnB0LTEiLCBjaGlsZHJlbjogW19qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQteHMgdGV4dC16aW5jLTUwMCB1cHBlcmNhc2UgZm9udC1ib2xkIiwgY2hpbGRyZW46ICJDdXN0b206IiB9KSwgX2pzeCgiaW5wdXQiLCB7IHR5cGU6ICJudW1iZXIiLCB2YWx1ZTogY3VzdG9tVmFsdWUsIG9uQ2hhbmdlOiAoZSkgPT4gc2V0Q3VzdG9tVmFsdWUoZS50YXJnZXQudmFsdWUpLCBjbGFzc05hbWU6ICJiZy16aW5jLTk1MCBib3JkZXIgYm9yZGVyLXppbmMtNzAwIHJvdW5kZWQgcHgtMiBweS0xIGxhbmRzY2FwZTpweS0wLjUgdy0yMCB0ZXh0LWNlbnRlciBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1jeWFuLTUwMCBvdXRsaW5lLW5vbmUiIH0pLCBfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXppbmMtNTAwIiwgY2hpbGRyZW46ICJzIiB9KSwgX2pzeChCdXR0b24sIHsgdmFyaWFudDogInByaW1hcnkiLCBsYWJlbDogIkFwcGx5Iiwgb25DbGljazogKCkgPT4gaGFuZGxlQXBwbHlXaXRoRHVyYXRpb24ocGFyc2VGbG9hdChjdXN0b21WYWx1ZSkgfHwgMSksIGNsYXNzTmFtZTogInB5LTEgcHgtMyB0ZXh0LXNtIGgtOCBtbC1hdXRvIiB9KV0gfSldIH0pIH0pKTsKICAgIH0KICAgIC8vIC0tLSBTdWItbWVudSBmb3IgU3BlZWQgLS0tCiAgICBpZiAoc2VsZWN0ZWRFZmZlY3RJZCA9PT0gJ3NwZWVkJykgewogICAgICAgIGNvbnN0IHByZXNldHMgPSBbMC41LCAwLjc1LCAxLjAsIDEuMjUsIDEuNSwgMi4wXTsKICAgICAgICByZXR1cm4gKF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiBtb2RhbE92ZXJsYXlDbGFzcywgY2hpbGRyZW46IF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogbW9kYWxDb250YWluZXJDbGFzcywgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgYm9yZGVyLWIgYm9yZGVyLXppbmMtODAwIHBiLTIgbGFuZHNjYXBlOnBiLTEiLCBjaGlsZHJlbjogW19qc3goImgyIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIiwgY2hpbGRyZW46ICJQbGF5YmFjayBTcGVlZCIgfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggZ2FwLTIiLCBjaGlsZHJlbjogW2NoZWNrQWN0aXZlKCdzcGVlZCcpICYmIChfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6IGhhbmRsZVJlc3RvcmUsIGNsYXNzTmFtZTogInRleHQteHMgZm9udC1ib2xkIHRleHQtcmVkLTQwMCBiZy1yZWQtOTAwLzIwIHB4LTIgcHktMSByb3VuZGVkIGhvdmVyOmJnLXJlZC05MDAvNTAiLCBjaGlsZHJlbjogIlJlc2V0IiB9KSksIF9qc3goImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gc2V0U2VsZWN0ZWRFZmZlY3RJZChudWxsKSwgY2xhc3NOYW1lOiAidGV4dC16aW5jLTUwMCBob3Zlcjp0ZXh0LXdoaXRlIHRleHQtc20iLCBjaGlsZHJlbjogIkJhY2siIH0pXSB9KV0gfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiZ3JpZCBncmlkLWNvbHMtMyBnYXAtMiBsYW5kc2NhcGU6Z2FwLTEiLCBjaGlsZHJlbjogcHJlc2V0cy5tYXAocmF0ZSA9PiAoX2pzeHMoImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gaGFuZGxlQXBwbHlTcGVlZChyYXRlKSwgY2xhc3NOYW1lOiBgcHktMyBsYW5kc2NhcGU6cHktMS41IGJnLXppbmMtODAwIHJvdW5kZWQtbGcgaG92ZXI6YmctY3lhbi05MDAvNTAgaG92ZXI6dGV4dC1jeWFuLTQwMCB0cmFuc2l0aW9uIGZvbnQtbWVkaXVtICR7YWN0aXZlRWZmZWN0cz8ucGxheWJhY2tSYXRlID09PSByYXRlIHx8IChyYXRlID09PSAxLjAgJiYgIWFjdGl2ZUVmZmVjdHM/LnBsYXliYWNrUmF0ZSkgPyAnYmctY3lhbi05MDAvNTAgdGV4dC1jeWFuLTQwMCByaW5nLTEgcmluZy1jeWFuLTUwMCcgOiAnJ31gLCBjaGlsZHJlbjogW3JhdGUsICJ4Il0gfSwgcmF0ZSkpKSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBnYXAtMiBpdGVtcy1jZW50ZXIgcHQtMiBsYW5kc2NhcGU6cHQtMSIsIGNoaWxkcmVuOiBbX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC14cyB0ZXh0LXppbmMtNTAwIHVwcGVyY2FzZSBmb250LWJvbGQiLCBjaGlsZHJlbjogIkN1c3RvbToiIH0pLCBfanN4KCJpbnB1dCIsIHsgdHlwZTogIm51bWJlciIsIHZhbHVlOiBjdXN0b21WYWx1ZSwgc3RlcDogIjAuMSIsIG9uQ2hhbmdlOiAoZSkgPT4gc2V0Q3VzdG9tVmFsdWUoZS50YXJnZXQudmFsdWUpLCBjbGFzc05hbWU6ICJiZy16aW5jLTk1MCBib3JkZXIgYm9yZGVyLXppbmMtNzAwIHJvdW5kZWQgcHgtMiBweS0xIGxhbmRzY2FwZTpweS0wLjUgdy0yMCB0ZXh0LWNlbnRlciBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1jeWFuLTUwMCBvdXRsaW5lLW5vbmUiIH0pLCBfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXppbmMtNTAwIiwgY2hpbGRyZW46ICJ4IiB9KSwgX2pzeChCdXR0b24sIHsgdmFyaWFudDogInByaW1hcnkiLCBsYWJlbDogIkFwcGx5Iiwgb25DbGljazogKCkgPT4gaGFuZGxlQXBwbHlTcGVlZChwYXJzZUZsb2F0KGN1c3RvbVZhbHVlKSB8fCAxLjApLCBjbGFzc05hbWU6ICJweS0xIHB4LTMgdGV4dC1zbSBoLTggbWwtYXV0byIgfSldIH0pXSB9KSB9KSk7CiAgICB9CiAgICAvLyAtLS0gU3ViLW1lbnUgZm9yIFZvbHVtZSAtLS0KICAgIGlmIChzZWxlY3RlZEVmZmVjdElkID09PSAndm9sdW1lJykgewogICAgICAgIGNvbnN0IHByZXNldHMgPSBbMjUsIDUwLCA3NSwgMTAwLCAxMjUsIDE1MF07CiAgICAgICAgcmV0dXJuIChfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogbW9kYWxPdmVybGF5Q2xhc3MsIGNoaWxkcmVuOiBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6IG1vZGFsQ29udGFpbmVyQ2xhc3MsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIGJvcmRlci1iIGJvcmRlci16aW5jLTgwMCBwYi0yIGxhbmRzY2FwZTpwYi0xIiwgY2hpbGRyZW46IFtfanN4KCJoMiIsIHsgY2xhc3NOYW1lOiAidGV4dC1sZyBmb250LWJvbGQgdGV4dC13aGl0ZSIsIGNoaWxkcmVuOiAiVHJhY2sgVm9sdW1lIiB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBnYXAtMiIsIGNoaWxkcmVuOiBbY2hlY2tBY3RpdmUoJ3ZvbHVtZScpICYmIChfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6ICgpID0+IGhhbmRsZUFwcGx5Vm9sdW1lKDEwMCksIGNsYXNzTmFtZTogInRleHQteHMgZm9udC1ib2xkIHRleHQtcmVkLTQwMCBiZy1yZWQtOTAwLzIwIHB4LTIgcHktMSByb3VuZGVkIGhvdmVyOmJnLXJlZC05MDAvNTAiLCBjaGlsZHJlbjogIlJlc2V0IiB9KSksIF9qc3goImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gc2V0U2VsZWN0ZWRFZmZlY3RJZChudWxsKSwgY2xhc3NOYW1lOiAidGV4dC16aW5jLTUwMCBob3Zlcjp0ZXh0LXdoaXRlIHRleHQtc20iLCBjaGlsZHJlbjogIkJhY2siIH0pXSB9KV0gfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiZ3JpZCBncmlkLWNvbHMtMyBnYXAtMiBsYW5kc2NhcGU6Z2FwLTEiLCBjaGlsZHJlbjogcHJlc2V0cy5tYXAocGVyY2VudCA9PiAoX2pzeHMoImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gaGFuZGxlQXBwbHlWb2x1bWUocGVyY2VudCksIGNsYXNzTmFtZTogYHB5LTMgbGFuZHNjYXBlOnB5LTEuNSBiZy16aW5jLTgwMCByb3VuZGVkLWxnIGhvdmVyOmJnLWN5YW4tOTAwLzUwIGhvdmVyOnRleHQtY3lhbi00MDAgdHJhbnNpdGlvbiBmb250LW1lZGl1bSAke01hdGgucm91bmQoY3VycmVudFZvbHVtZSAqIDEwMCkgPT09IHBlcmNlbnQgPyAnYmctY3lhbi05MDAvNTAgdGV4dC1jeWFuLTQwMCByaW5nLTEgcmluZy1jeWFuLTUwMCcgOiAnJ31gLCBjaGlsZHJlbjogW3BlcmNlbnQsICIlIl0gfSwgcGVyY2VudCkpKSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBnYXAtMiBpdGVtcy1jZW50ZXIgcHQtMiBsYW5kc2NhcGU6cHQtMSIsIGNoaWxkcmVuOiBbX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC14cyB0ZXh0LXppbmMtNTAwIHVwcGVyY2FzZSBmb250LWJvbGQiLCBjaGlsZHJlbjogIkN1c3RvbToiIH0pLCBfanN4KCJpbnB1dCIsIHsgdHlwZTogIm51bWJlciIsIHZhbHVlOiBjdXN0b21WYWx1ZSwgb25DaGFuZ2U6IChlKSA9PiBzZXRDdXN0b21WYWx1ZShlLnRhcmdldC52YWx1ZSksIGNsYXNzTmFtZTogImJnLXppbmMtOTUwIGJvcmRlciBib3JkZXItemluYy03MDAgcm91bmRlZCBweC0yIHB5LTEgbGFuZHNjYXBlOnB5LTAuNSB3LTIwIHRleHQtY2VudGVyIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWN5YW4tNTAwIG91dGxpbmUtbm9uZSIgfSksIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQtemluYy01MDAiLCBjaGlsZHJlbjogIiUiIH0pLCBfanN4KEJ1dHRvbiwgeyB2YXJpYW50OiAicHJpbWFyeSIsIGxhYmVsOiAiQXBwbHkiLCBvbkNsaWNrOiAoKSA9PiBoYW5kbGVBcHBseVZvbHVtZShwYXJzZUZsb2F0KGN1c3RvbVZhbHVlKSB8fCAxMDApLCBjbGFzc05hbWU6ICJweS0xIHB4LTMgdGV4dC1zbSBoLTggbWwtYXV0byIgfSldIH0pXSB9KSB9KSk7CiAgICB9CiAgICAvLyAtLS0gTWFpbiBNZW51IC0tLQogICAgcmV0dXJuIChfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogbW9kYWxPdmVybGF5Q2xhc3MsIGNoaWxkcmVuOiBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6IG1vZGFsQ29udGFpbmVyQ2xhc3MsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIiwgY2hpbGRyZW46IFtfanN4KCJoMiIsIHsgY2xhc3NOYW1lOiAidGV4dC14bCBmb250LWJvbGQgdGV4dC13aGl0ZSIsIGNoaWxkcmVuOiAiQ3JlYXRpdmUgRWZmZWN0cyIgfSksIF9qc3goImJ1dHRvbiIsIHsgb25DbGljazogb25DbG9zZSwgY2xhc3NOYW1lOiAidGV4dC16aW5jLTUwMCBob3Zlcjp0ZXh0LXdoaXRlIiwgY2hpbGRyZW46ICJcdTI3MTUiIH0pXSB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJncmlkIGdyaWQtY29scy0yIGdhcC0zIGxhbmRzY2FwZTpnYXAtMS41IiwgY2hpbGRyZW46IGVmZmVjdHMubWFwKChmeCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGNoZWNrQWN0aXZlKGZ4LmlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChfanN4cygiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBoYW5kbGVFZmZlY3RDbGljayhmeCksIGNsYXNzTmFtZTogYGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIGxhbmRzY2FwZTpnYXAtMSBwLTQgbGFuZHNjYXBlOnAtMiByb3VuZGVkLXhsIHRyYW5zaXRpb24gYm9yZGVyIGdyb3VwICR7aXNBY3RpdmUgPyAnYmctY3lhbi05MDAvMzAgYm9yZGVyLWN5YW4tNTAwLzUwIHNoYWRvdy1bMF8wXzE1cHhfcmdiYSg2LDE4MiwyMTIsMC4xNSldJyA6ICdiZy16aW5jLTgwMC81MCBob3ZlcjpiZy16aW5jLTcwMCBib3JkZXItdHJhbnNwYXJlbnQgaG92ZXI6Ym9yZGVyLWN5YW4tNTAwLzMwJ31gLCBjaGlsZHJlbjogW19qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogYHRleHQtMnhsIGxhbmRzY2FwZTp0ZXh0LXhsIHRyYW5zaXRpb24gJHtpc0FjdGl2ZSA/ICd0ZXh0LWN5YW4tNDAwJyA6ICd0ZXh0LXppbmMtNDAwIGdyb3VwLWhvdmVyOnRleHQtemluYy0yMDAgZ3JvdXAtaG92ZXI6c2NhbGUtMTEwJ31gLCBjaGlsZHJlbjogZnguaWNvbiB9KSwgX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiBgdGV4dC1zbSBsYW5kc2NhcGU6dGV4dC14cyBmb250LW1lZGl1bSAke2lzQWN0aXZlID8gJ3RleHQtY3lhbi00MDAgZm9udC1ib2xkJyA6ICd0ZXh0LXppbmMtMzAwIGdyb3VwLWhvdmVyOnRleHQtY3lhbi00MDAnfWAsIGNoaWxkcmVuOiBmeC5sYWJlbCB9KV0gfSwgZnguaWQpKTsKICAgICAgICAgICAgICAgICAgICB9KSB9KV0gfSkgfSkpOwp9OwpleHBvcnQgZGVmYXVsdCBFZmZlY3RzTW9kYWw7Cg==","@/components/ExportModal":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IEJ1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvQnV0dG9uJzsKY29uc3QgRXhwb3J0TW9kYWwgPSAoeyBpc09wZW4sIG9uQ2xvc2UsIG9uRXhwb3J0LCBvcmlnaW5hbFNhbXBsZVJhdGUgfSkgPT4gewogICAgY29uc3QgW2Zvcm1hdCwgc2V0Rm9ybWF0XSA9IHVzZVN0YXRlKCd3YXYnKTsKICAgIGlmICghaXNPcGVuKQogICAgICAgIHJldHVybiBudWxsOwogICAgcmV0dXJuIChfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImZpeGVkIGluc2V0LTAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ibGFjay84MCBiYWNrZHJvcC1ibHVyLXNtIHAtNCIsIGNoaWxkcmVuOiBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJiZy16aW5jLTkwMCBib3JkZXIgYm9yZGVyLXppbmMtODAwIHJvdW5kZWQtMnhsIHctZnVsbCBtYXgtdy1zbSBwLTYgc2hhZG93LTJ4bCBzcGFjZS15LTYiLCBjaGlsZHJlbjogW19qc3hzKCJkaXYiLCB7IGNoaWxkcmVuOiBbX2pzeCgiaDIiLCB7IGNsYXNzTmFtZTogInRleHQteGwgZm9udC1ib2xkIHRleHQtd2hpdGUiLCBjaGlsZHJlbjogIkV4cG9ydCBTZXR0aW5ncyIgfSksIF9qc3goInAiLCB7IGNsYXNzTmFtZTogInRleHQtemluYy00MDAgdGV4dC1zbSIsIGNoaWxkcmVuOiAiQ2hvb3NlIHRoZSBmb3JtYXQgYW5kIHF1YWxpdHkuIiB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImJnLXppbmMtOTUwIHAtMSByb3VuZGVkLXhsIGZsZXggYm9yZGVyIGJvcmRlci16aW5jLTgwMCIsIGNoaWxkcmVuOiBbX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBzZXRGb3JtYXQoJ3dhdicpLCBjbGFzc05hbWU6IGBmbGV4LTEgcHktMiB0ZXh0LXNtIGZvbnQtYm9sZCByb3VuZGVkLWxnIHRyYW5zaXRpb24tYWxsICR7Zm9ybWF0ID09PSAnd2F2JyA/ICdiZy16aW5jLTgwMCB0ZXh0LWN5YW4tNDAwIHNoYWRvdy1zbScgOiAndGV4dC16aW5jLTUwMCBob3Zlcjp0ZXh0LXppbmMtMzAwJ31gLCBjaGlsZHJlbjogIldBViIgfSksIF9qc3goImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gc2V0Rm9ybWF0KCdtcDMnKSwgY2xhc3NOYW1lOiBgZmxleC0xIHB5LTIgdGV4dC1zbSBmb250LWJvbGQgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWFsbCAke2Zvcm1hdCA9PT0gJ21wMycgPyAnYmctemluYy04MDAgdGV4dC1jeWFuLTQwMCBzaGFkb3ctc20nIDogJ3RleHQtemluYy01MDAgaG92ZXI6dGV4dC16aW5jLTMwMCd9YCwgY2hpbGRyZW46ICJNUDMiIH0pXSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAic3BhY2UteS0yIiwgY2hpbGRyZW46IFtfanN4cyhCdXR0b24sIHsgdmFyaWFudDogInNlY29uZGFyeSIsIGZ1bGxXaWR0aDogdHJ1ZSwgb25DbGljazogKCkgPT4geyBvbkV4cG9ydChvcmlnaW5hbFNhbXBsZVJhdGUsIGZvcm1hdCk7IG9uQ2xvc2UoKTsgfSwgY2xhc3NOYW1lOiAianVzdGlmeS1iZXR3ZWVuIGdyb3VwIiwgY2hpbGRyZW46IFtfanN4KCJzcGFuIiwgeyBjaGlsZHJlbjogIk9yaWdpbmFsIFF1YWxpdHkiIH0pLCBfanN4cygic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC14cyB0ZXh0LXppbmMtNTAwIGJnLXppbmMtOTUwIHB4LTIgcHktMSByb3VuZGVkIGdyb3VwLWhvdmVyOnRleHQtd2hpdGUgdHJhbnNpdGlvbi1jb2xvcnMiLCBjaGlsZHJlbjogW29yaWdpbmFsU2FtcGxlUmF0ZSwgIkh6Il0gfSldIH0pLCBfanN4cyhCdXR0b24sIHsgdmFyaWFudDogInNlY29uZGFyeSIsIGZ1bGxXaWR0aDogdHJ1ZSwgb25DbGljazogKCkgPT4geyBvbkV4cG9ydCg0NDEwMCwgZm9ybWF0KTsgb25DbG9zZSgpOyB9LCBjbGFzc05hbWU6ICJqdXN0aWZ5LWJldHdlZW4gZ3JvdXAiLCBjaGlsZHJlbjogW19qc3goInNwYW4iLCB7IGNoaWxkcmVuOiAiQ0QgUXVhbGl0eSIgfSksIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQteHMgdGV4dC16aW5jLTUwMCBiZy16aW5jLTk1MCBweC0yIHB5LTEgcm91bmRlZCBncm91cC1ob3Zlcjp0ZXh0LXdoaXRlIHRyYW5zaXRpb24tY29sb3JzIiwgY2hpbGRyZW46ICI0NC4xa0h6IiB9KV0gfSksIF9qc3hzKEJ1dHRvbiwgeyB2YXJpYW50OiAic2Vjb25kYXJ5IiwgZnVsbFdpZHRoOiB0cnVlLCBvbkNsaWNrOiAoKSA9PiB7IG9uRXhwb3J0KDIyMDUwLCBmb3JtYXQpOyBvbkNsb3NlKCk7IH0sIGNsYXNzTmFtZTogImp1c3RpZnktYmV0d2VlbiBncm91cCIsIGNoaWxkcmVuOiBbX2pzeCgic3BhbiIsIHsgY2hpbGRyZW46ICJMby1GaSAvIFJhZGlvIiB9KSwgX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC14cyB0ZXh0LXppbmMtNTAwIGJnLXppbmMtOTUwIHB4LTIgcHktMSByb3VuZGVkIGdyb3VwLWhvdmVyOnRleHQtd2hpdGUgdHJhbnNpdGlvbi1jb2xvcnMiLCBjaGlsZHJlbjogIjIya0h6IiB9KV0gfSldIH0pLCBfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogInB0LTIiLCBjaGlsZHJlbjogX2pzeChCdXR0b24sIHsgdmFyaWFudDogImdob3N0IiwgZnVsbFdpZHRoOiB0cnVlLCBvbkNsaWNrOiBvbkNsb3NlLCBjaGlsZHJlbjogIkNhbmNlbCIgfSkgfSldIH0pIH0pKTsKfTsKZXhwb3J0IGRlZmF1bHQgRXhwb3J0TW9kYWw7Cg==","@/components/BeatMakerModal":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgQnV0dG9uIGZyb20gJ0AvY29tcG9uZW50cy9CdXR0b24nOwppbXBvcnQgeyBnZW5lcmF0ZURydW1CZWF0IH0gZnJvbSAnQC9zZXJ2aWNlcy9hdWRpb1V0aWxzJzsKY29uc3QgRHJ1bUljb24gPSAoKSA9PiAoX2pzeCgic3ZnIiwgeyBjbGFzc05hbWU6ICJ3LTYgaC02IHRleHQtemluYy0xMDAiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNNSAyMGgxNGEyIDIgMCAwMTIgMnYxSDN2LTFhMiAyIDAgMDEyLTJ6bTAtNmgxNGwxLjUgNUgzLjVMNSAxNHptMC05YTMgMyAwIDAxNiAwdjJINVY1em04IDBhMyAzIDAgMDE2IDB2MmgtNlY1eiIgfSkgfSkpOwpjb25zdCBCZWF0TWFrZXJNb2RhbCA9ICh7IGlzT3Blbiwgb25DbG9zZSwgb25HZW5lcmF0ZSB9KSA9PiB7CiAgICBjb25zdCBbYnBtLCBzZXRCcG1dID0gdXNlU3RhdGUoMTIwKTsKICAgIGNvbnN0IFtzdHlsZSwgc2V0U3R5bGVdID0gdXNlU3RhdGUoJ1JvY2snKTsKICAgIGNvbnN0IFtiYXJzLCBzZXRCYXJzXSA9IHVzZVN0YXRlKDQpOwogICAgY29uc3QgW2lzR2VuZXJhdGluZywgc2V0SXNHZW5lcmF0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsKICAgIC8vIENhbGN1bGF0ZSBkeW5hbWljIGNvbnN0cmFpbnRzIGJhc2VkIG9uIDYwIHNlY29uZCBsaW1pdAogICAgLy8gRHVyYXRpb24gPSBCYXJzICogNCAqICg2MCAvIEJQTSkKICAgIC8vIE1heEJhcnMgPSA2MCAvICg0ICogKDYwIC8gQlBNKSkgPSBCUE0gLyA0CiAgICBjb25zdCBtYXhCYXJzID0gTWF0aC5mbG9vcihicG0gLyA0KTsKICAgIC8vIEN1cnJlbnQgZHVyYXRpb24gaW4gc2Vjb25kcwogICAgY29uc3QgY3VycmVudER1cmF0aW9uID0gYmFycyAqIDQgKiAoNjAgLyBicG0pOwogICAgLy8gRW5mb3JjZSBtYXggYmFycyBpZiBCUE0gY2hhbmdlcyBzdWNoIHRoYXQgY3VycmVudCBiYXJzIGV4Y2VlZHMgbGltaXQKICAgIHVzZUVmZmVjdCgoKSA9PiB7CiAgICAgICAgaWYgKGJhcnMgPiBtYXhCYXJzKSB7CiAgICAgICAgICAgIHNldEJhcnMobWF4QmFycyk7CiAgICAgICAgfQogICAgfSwgW2JwbSwgbWF4QmFycywgYmFyc10pOwogICAgaWYgKCFpc09wZW4pCiAgICAgICAgcmV0dXJuIG51bGw7CiAgICBjb25zdCBzdHlsZXMgPSBbJ1JvY2snLCAnSGlwSG9wJywgJ1RlY2hubycsICdNZXRyb25vbWUnXTsKICAgIGNvbnN0IGhhbmRsZUdlbmVyYXRlID0gYXN5bmMgKCkgPT4gewogICAgICAgIHNldElzR2VuZXJhdGluZyh0cnVlKTsKICAgICAgICAvLyBTaG9ydCBkZWxheSB0byBhbGxvdyBVSSB0byB1cGRhdGUKICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IGdlbmVyYXRlRHJ1bUJlYXQoc3R5bGUsIGJwbSwgYmFycyk7CiAgICAgICAgICAgICAgICBvbkdlbmVyYXRlKGJ1ZmZlciwgYCR7c3R5bGV9IEJlYXQgKCR7YnBtfSBCUE0pYCk7CiAgICAgICAgICAgICAgICBvbkNsb3NlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZmluYWxseSB7CiAgICAgICAgICAgICAgICBzZXRJc0dlbmVyYXRpbmcoZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgfSwgMTAwKTsKICAgIH07CiAgICByZXR1cm4gKF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiZml4ZWQgaW5zZXQtMCB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNCBsYW5kc2NhcGU6cC0yIGJnLWJsYWNrLzgwIGJhY2tkcm9wLWJsdXItc20iLCBjaGlsZHJlbjogX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiYmctemluYy05MDAgYm9yZGVyIGJvcmRlci16aW5jLTcwMCByb3VuZGVkLTJ4bCB3LWZ1bGwgbWF4LXctbWQgcC02IGxhbmRzY2FwZTpwLTQgc2hhZG93LTJ4bCBzcGFjZS15LTYgbGFuZHNjYXBlOnNwYWNlLXktMyBsYW5kc2NhcGU6bWF4LWgtWzkwdmhdIGxhbmRzY2FwZTpvdmVyZmxvdy15LWF1dG8gbm8tc2Nyb2xsYmFyIiwgY2hpbGRyZW46IFtfanN4cygiaDIiLCB7IGNsYXNzTmFtZTogInRleHQteGwgZm9udC1ib2xkIHRleHQtd2hpdGUgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMiLCBjaGlsZHJlbjogW19qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInAtMiBiZy16aW5jLTgwMCByb3VuZGVkLWxnIiwgY2hpbGRyZW46IF9qc3goRHJ1bUljb24sIHt9KSB9KSwgIkJlYXQgTWFrZXIiXSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAic3BhY2UteS00IGxhbmRzY2FwZTpzcGFjZS15LTIiLCBjaGlsZHJlbjogW19qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogInNwYWNlLXktMiIsIGNoaWxkcmVuOiBbX2pzeCgibGFiZWwiLCB7IGNsYXNzTmFtZTogInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXppbmMtNTAwIHVwcGVyY2FzZSIsIGNoaWxkcmVuOiAiU3R5bGUiIH0pLCBfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTIiLCBjaGlsZHJlbjogc3R5bGVzLm1hcChzID0+IChfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6ICgpID0+IHNldFN0eWxlKHMpLCBjbGFzc05hbWU6IGBwLTMgbGFuZHNjYXBlOnAtMiByb3VuZGVkLWxnIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbiAke3N0eWxlID09PSBzID8gJ2JnLWN5YW4tNjAwIHRleHQtd2hpdGUgc2hhZG93LWxnIHNoYWRvdy1jeWFuLTUwMC8yMCcgOiAnYmctemluYy04MDAgdGV4dC16aW5jLTQwMCBob3ZlcjpiZy16aW5jLTcwMCd9YCwgY2hpbGRyZW46IHMgfSwgcykpKSB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogInNwYWNlLXktMiIsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBqdXN0aWZ5LWJldHdlZW4iLCBjaGlsZHJlbjogW19qc3goImxhYmVsIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC16aW5jLTUwMCB1cHBlcmNhc2UiLCBjaGlsZHJlbjogIlRlbXBvIiB9KSwgX2pzeHMoInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQteHMgZm9udC1ib2xkIHRleHQtY3lhbi00MDAiLCBjaGlsZHJlbjogW2JwbSwgIiBCUE0iXSB9KV0gfSksIF9qc3goImlucHV0IiwgeyB0eXBlOiAicmFuZ2UiLCBtaW46ICI2MCIsIG1heDogIjIwMCIsIHZhbHVlOiBicG0sIG9uQ2hhbmdlOiAoZSkgPT4gc2V0QnBtKHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSksIGNsYXNzTmFtZTogInctZnVsbCBhY2NlbnQtY3lhbi01MDAgaC0yIGJnLXppbmMtODAwIHJvdW5kZWQtbGcgYXBwZWFyYW5jZS1ub25lIGN1cnNvci1wb2ludGVyIiB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogInNwYWNlLXktMiIsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIiwgY2hpbGRyZW46IFtfanN4KCJsYWJlbCIsIHsgY2xhc3NOYW1lOiAidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtemluYy01MDAgdXBwZXJjYXNlIiwgY2hpbGRyZW46ICJMZW5ndGgiIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXJpZ2h0IiwgY2hpbGRyZW46IFtfanN4cygic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC14cyBmb250LWJvbGQgdGV4dC1jeWFuLTQwMCIsIGNoaWxkcmVuOiBbYmFycywgIiBCYXJzIl0gfSksIF9qc3hzKCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LVsxMHB4XSB0ZXh0LXppbmMtNTAwIGZvbnQtbWVkaXVtIG1sLTIiLCBjaGlsZHJlbjogWyIoIiwgY3VycmVudER1cmF0aW9uLnRvRml4ZWQoMSksICJzKSJdIH0pXSB9KV0gfSksIF9qc3goImlucHV0IiwgeyB0eXBlOiAicmFuZ2UiLCBtaW46ICIxIiwgbWF4OiBtYXhCYXJzLCB2YWx1ZTogYmFycywgb25DaGFuZ2U6IChlKSA9PiBzZXRCYXJzKHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSksIGNsYXNzTmFtZTogInctZnVsbCBhY2NlbnQtY3lhbi01MDAgaC0yIGJnLXppbmMtODAwIHJvdW5kZWQtbGcgYXBwZWFyYW5jZS1ub25lIGN1cnNvci1wb2ludGVyIiB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBqdXN0aWZ5LWJldHdlZW4gdGV4dC1bMTBweF0gdGV4dC16aW5jLTYwMCBweC0xIiwgY2hpbGRyZW46IFtfanN4KCJzcGFuIiwgeyBjaGlsZHJlbjogIjEgQmFyIiB9KSwgX2pzeHMoInNwYW4iLCB7IGNoaWxkcmVuOiBbIk1heCAoIiwgbWF4QmFycywgIikiXSB9KV0gfSldIH0pXSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBnYXAtMyBwdC00IGxhbmRzY2FwZTpwdC0yIGJvcmRlci10IGJvcmRlci16aW5jLTgwMCIsIGNoaWxkcmVuOiBbX2pzeChCdXR0b24sIHsgdmFyaWFudDogImdob3N0Iiwgb25DbGljazogb25DbG9zZSwgbGFiZWw6ICJDYW5jZWwiIH0pLCBfanN4KEJ1dHRvbiwgeyB2YXJpYW50OiAicHJpbWFyeSIsIG9uQ2xpY2s6IGhhbmRsZUdlbmVyYXRlLCBkaXNhYmxlZDogaXNHZW5lcmF0aW5nLCBsYWJlbDogaXNHZW5lcmF0aW5nID8gIlN5bnRoZXNpemluZy4uLiIgOiAiQWRkIEJlYXQiLCBjbGFzc05hbWU6ICJmbGV4LTEiIH0pXSB9KV0gfSkgfSkpOwp9OwpleHBvcnQgZGVmYXVsdCBCZWF0TWFrZXJNb2RhbDsK","@/services/storageService":"data:application/javascript;base64,aW1wb3J0IHsgZW5jb2RlV0FWQnVmZmVyLCBkZWNvZGVBdWRpb0RhdGEsIGdldEF1ZGlvQ29udGV4dCwgY3JlYXRlRW1wdHlCdWZmZXIgfSBmcm9tICdAL3NlcnZpY2VzL2F1ZGlvVXRpbHMnOwpjb25zdCBEQl9OQU1FID0gJ1NvbmljUG9ja2V0REInOwpjb25zdCBEQl9WRVJTSU9OID0gMTsKY29uc3QgU1RPUkVfTkFNRSA9ICdwcm9qZWN0cyc7CmNvbnN0IG9wZW5EQiA9ICgpID0+IHsKICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgY29uc3QgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKERCX05BTUUsIERCX1ZFUlNJT04pOwogICAgICAgIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKGV2ZW50KSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGRiID0gZXZlbnQudGFyZ2V0LnJlc3VsdDsKICAgICAgICAgICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKFNUT1JFX05BTUUpKSB7CiAgICAgICAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShTVE9SRV9OQU1FLCB7IGtleVBhdGg6ICdpZCcgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7CiAgICAgICAgICAgIHJlc29sdmUoZXZlbnQudGFyZ2V0LnJlc3VsdCk7CiAgICAgICAgfTsKICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoZXZlbnQpID0+IHsKICAgICAgICAgICAgcmVqZWN0KCdJbmRleGVkREIgZXJyb3I6ICcgKyBldmVudC50YXJnZXQuZXJyb3IpOwogICAgICAgIH07CiAgICB9KTsKfTsKLy8gSGVscGVyIHRvIGNvbnZlcnQgVHJhY2sgdG8gU2F2ZWRUcmFjayAoaGFuZGxpbmcgcmVjdXJzaW9uIGZvciBjcm9zc2ZhZGUgbWV0YWRhdGEpCmNvbnN0IGNvbnZlcnRUcmFja1RvU2F2ZWQgPSAodCkgPT4gewogICAgY29uc3Qgc2F2ZWQgPSB7CiAgICAgICAgaWQ6IHQuaWQsCiAgICAgICAgbmFtZTogdC5uYW1lLAogICAgICAgIGRhdGE6IGVuY29kZVdBVkJ1ZmZlcih0LmJ1ZmZlciksCiAgICAgICAgLy8gT25seSBzYXZlIG9yaWdpbmFsIGlmIGl0IGRpZmZlcnMgYW5kIGV4aXN0cywgdG8gc2F2ZSBzcGFjZQogICAgICAgIG9yaWdpbmFsRGF0YTogdC5vcmlnaW5hbEJ1ZmZlciA/IGVuY29kZVdBVkJ1ZmZlcih0Lm9yaWdpbmFsQnVmZmVyKSA6IHVuZGVmaW5lZCwKICAgICAgICBzdGFydFRpbWU6IHQuc3RhcnRUaW1lLAogICAgICAgIHRyaW1TdGFydDogdC50cmltU3RhcnQsCiAgICAgICAgZHVyYXRpb246IHQuZHVyYXRpb24sCiAgICAgICAgbGFuZTogdC5sYW5lLAogICAgICAgIHZvbHVtZTogdC52b2x1bWUsCiAgICAgICAgaXNNdXRlZDogdC5pc011dGVkLAogICAgICAgIGlzU29sbzogdC5pc1NvbG8sCiAgICAgICAgY29sb3I6IHQuY29sb3IsCiAgICAgICAgYnBtOiB0LmJwbSwKICAgICAgICBhY3RpdmVFZmZlY3RzOiB0LmFjdGl2ZUVmZmVjdHMKICAgIH07CiAgICBpZiAodC5jcm9zc2ZhZGVNZXRhZGF0YSkgewogICAgICAgIHNhdmVkLmNyb3NzZmFkZU1ldGFkYXRhID0gewogICAgICAgICAgICBsZWZ0OiBjb252ZXJ0VHJhY2tUb1NhdmVkKHQuY3Jvc3NmYWRlTWV0YWRhdGEubGVmdCksCiAgICAgICAgICAgIHJpZ2h0OiBjb252ZXJ0VHJhY2tUb1NhdmVkKHQuY3Jvc3NmYWRlTWV0YWRhdGEucmlnaHQpLAogICAgICAgICAgICBkdXJhdGlvbjogdC5jcm9zc2ZhZGVNZXRhZGF0YS5kdXJhdGlvbgogICAgICAgIH07CiAgICB9CiAgICByZXR1cm4gc2F2ZWQ7Cn07Ci8vIEhlbHBlciB0byBsb2FkIFNhdmVkVHJhY2sgdG8gVHJhY2sgKGhhbmRsaW5nIHJlY3Vyc2lvbikKY29uc3QgY29udmVydFNhdmVkVG9UcmFjayA9IGFzeW5jIChzdCwgY3R4KSA9PiB7CiAgICB0cnkgewogICAgICAgIGxldCBhdWRpb0J1ZmZlciA9IG51bGw7CiAgICAgICAgbGV0IG9yaWdpbmFsQnVmZmVyID0gdW5kZWZpbmVkOwogICAgICAgIC8vIDEuIExvYWQgTWFpbiBBdWRpbwogICAgICAgIGlmIChzdC5kYXRhICYmIHN0LmRhdGEuYnl0ZUxlbmd0aCA+IDApIHsKICAgICAgICAgICAgYXVkaW9CdWZmZXIgPSBhd2FpdCBkZWNvZGVBdWRpb0RhdGEoc3QuZGF0YSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHN0LmJsb2IpIHsKICAgICAgICAgICAgY29uc3QgYWIgPSBhd2FpdCBzdC5ibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgICAgICAgIGlmIChhYi5ieXRlTGVuZ3RoID4gMCkKICAgICAgICAgICAgICAgIGF1ZGlvQnVmZmVyID0gYXdhaXQgZGVjb2RlQXVkaW9EYXRhKGFiKTsKICAgICAgICB9CiAgICAgICAgLy8gMi4gTG9hZCBPcmlnaW5hbCBBdWRpbyAoaWYgZXhpc3RzKQogICAgICAgIGlmIChzdC5vcmlnaW5hbERhdGEgJiYgc3Qub3JpZ2luYWxEYXRhLmJ5dGVMZW5ndGggPiAwKSB7CiAgICAgICAgICAgIG9yaWdpbmFsQnVmZmVyID0gYXdhaXQgZGVjb2RlQXVkaW9EYXRhKHN0Lm9yaWdpbmFsRGF0YSk7CiAgICAgICAgfQogICAgICAgIGlmICghYXVkaW9CdWZmZXIpCiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIGNvbnN0IHRyYWNrID0gewogICAgICAgICAgICBpZDogc3QuaWQsCiAgICAgICAgICAgIG5hbWU6IHN0Lm5hbWUsCiAgICAgICAgICAgIGJ1ZmZlcjogYXVkaW9CdWZmZXIsCiAgICAgICAgICAgIG9yaWdpbmFsQnVmZmVyOiBvcmlnaW5hbEJ1ZmZlciwKICAgICAgICAgICAgc3RhcnRUaW1lOiBzdC5zdGFydFRpbWUsCiAgICAgICAgICAgIHRyaW1TdGFydDogc3QudHJpbVN0YXJ0ID8/IDAsCiAgICAgICAgICAgIGR1cmF0aW9uOiBzdC5kdXJhdGlvbiA/PyBhdWRpb0J1ZmZlci5kdXJhdGlvbiwKICAgICAgICAgICAgbGFuZTogc3QubGFuZSwKICAgICAgICAgICAgdm9sdW1lOiBzdC52b2x1bWUsCiAgICAgICAgICAgIGlzTXV0ZWQ6IHN0LmlzTXV0ZWQsCiAgICAgICAgICAgIGlzU29sbzogc3QuaXNTb2xvLAogICAgICAgICAgICBjb2xvcjogc3QuY29sb3IsCiAgICAgICAgICAgIGJwbTogc3QuYnBtLAogICAgICAgICAgICBhY3RpdmVFZmZlY3RzOiBzdC5hY3RpdmVFZmZlY3RzCiAgICAgICAgfTsKICAgICAgICAvLyAzLiBMb2FkIENyb3NzZmFkZSBNZXRhZGF0YQogICAgICAgIGlmIChzdC5jcm9zc2ZhZGVNZXRhZGF0YSkgewogICAgICAgICAgICBjb25zdCBsZWZ0ID0gYXdhaXQgY29udmVydFNhdmVkVG9UcmFjayhzdC5jcm9zc2ZhZGVNZXRhZGF0YS5sZWZ0LCBjdHgpOwogICAgICAgICAgICBjb25zdCByaWdodCA9IGF3YWl0IGNvbnZlcnRTYXZlZFRvVHJhY2soc3QuY3Jvc3NmYWRlTWV0YWRhdGEucmlnaHQsIGN0eCk7CiAgICAgICAgICAgIGlmIChsZWZ0ICYmIHJpZ2h0KSB7CiAgICAgICAgICAgICAgICB0cmFjay5jcm9zc2ZhZGVNZXRhZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICBsZWZ0LAogICAgICAgICAgICAgICAgICAgIHJpZ2h0LAogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBzdC5jcm9zc2ZhZGVNZXRhZGF0YS5kdXJhdGlvbgogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJhY2s7CiAgICB9CiAgICBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGNvbnZlcnRpbmcgc2F2ZWQgdHJhY2s6IiwgZSk7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICB9Cn07CmV4cG9ydCBjb25zdCBzYXZlUHJvamVjdCA9IGFzeW5jIChpZCwgbmFtZSwgdHJhY2tzLCB0aHVtYm5haWwgPSAnJykgPT4gewogICAgY29uc3QgZGIgPSBhd2FpdCBvcGVuREIoKTsKICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oU1RPUkVfTkFNRSwgJ3JlYWR3cml0ZScpOwogICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShTVE9SRV9OQU1FKTsKICAgIC8vIE9wdGltaXplZCBTYXZpbmc6IFNlcXVlbnRpYWwgcHJvY2Vzc2luZwogICAgY29uc3Qgc2F2ZWRUcmFja3MgPSBbXTsKICAgIGZvciAoY29uc3QgdCBvZiB0cmFja3MpIHsKICAgICAgICBjb25zdCBzdCA9IGNvbnZlcnRUcmFja1RvU2F2ZWQodCk7CiAgICAgICAgc2F2ZWRUcmFja3MucHVzaChzdCk7CiAgICB9CiAgICBjb25zdCBwcm9qZWN0ID0gewogICAgICAgIGlkLAogICAgICAgIG5hbWUsCiAgICAgICAgbGFzdE1vZGlmaWVkOiBEYXRlLm5vdygpLAogICAgICAgIHRyYWNrczogc2F2ZWRUcmFja3MsCiAgICAgICAgdGh1bWJuYWlsCiAgICB9OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUucHV0KHByb2plY3QpOwogICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZSgpOwogICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTsKICAgIH0pOwp9OwpleHBvcnQgY29uc3QgbG9hZFByb2plY3RzID0gYXN5bmMgKCkgPT4gewogICAgY29uc3QgZGIgPSBhd2FpdCBvcGVuREIoKTsKICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oU1RPUkVfTkFNRSwgJ3JlYWRvbmx5Jyk7CiAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKFNUT1JFX05BTUUpOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuZ2V0QWxsKCk7CiAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHByb2plY3RzID0gcmVxdWVzdC5yZXN1bHQ7CiAgICAgICAgICAgIHByb2plY3RzLnNvcnQoKGEsIGIpID0+IGIubGFzdE1vZGlmaWVkIC0gYS5sYXN0TW9kaWZpZWQpOwogICAgICAgICAgICByZXNvbHZlKHByb2plY3RzKTsKICAgICAgICB9OwogICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTsKICAgIH0pOwp9OwpleHBvcnQgY29uc3QgbG9hZFByb2plY3RUcmFja3MgPSBhc3luYyAoc2F2ZWRUcmFja3MpID0+IHsKICAgIGlmICghc2F2ZWRUcmFja3MpCiAgICAgICAgcmV0dXJuIFtdOwogICAgY29uc3QgY3R4ID0gZ2V0QXVkaW9Db250ZXh0KCk7CiAgICBjb25zdCB0cmFja3MgPSBbXTsKICAgIGZvciAoY29uc3Qgc3Qgb2Ygc2F2ZWRUcmFja3MpIHsKICAgICAgICBpZiAoIXN0KQogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICBjb25zdCBsb2FkZWRUcmFjayA9IGF3YWl0IGNvbnZlcnRTYXZlZFRvVHJhY2soc3QsIGN0eCk7CiAgICAgICAgaWYgKGxvYWRlZFRyYWNrKSB7CiAgICAgICAgICAgIHRyYWNrcy5wdXNoKGxvYWRlZFRyYWNrKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIC8vIEVycm9yL1BsYWNlaG9sZGVyIGxvZ2ljCiAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrRHVyYXRpb24gPSBzdC5kdXJhdGlvbiB8fCA1LjA7CiAgICAgICAgICAgIGNvbnN0IGVycm9yQnVmZmVyID0gY3JlYXRlRW1wdHlCdWZmZXIoY3R4LCBmYWxsYmFja0R1cmF0aW9uKTsKICAgICAgICAgICAgdHJhY2tzLnB1c2goewogICAgICAgICAgICAgICAgaWQ6IHN0LmlkLAogICAgICAgICAgICAgICAgbmFtZTogYOKaoO+4jyBNaXNzaW5nIERhdGE6ICR7c3QubmFtZX1gLAogICAgICAgICAgICAgICAgYnVmZmVyOiBlcnJvckJ1ZmZlciwKICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogc3Quc3RhcnRUaW1lLAogICAgICAgICAgICAgICAgdHJpbVN0YXJ0OiAwLAogICAgICAgICAgICAgICAgZHVyYXRpb246IGZhbGxiYWNrRHVyYXRpb24sCiAgICAgICAgICAgICAgICBsYW5lOiBzdC5sYW5lLAogICAgICAgICAgICAgICAgdm9sdW1lOiBzdC52b2x1bWUsCiAgICAgICAgICAgICAgICBpc011dGVkOiB0cnVlLAogICAgICAgICAgICAgICAgaXNTb2xvOiBmYWxzZSwKICAgICAgICAgICAgICAgIGNvbG9yOiAnI2VmNDQ0NCcKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIHRyYWNrczsKfTsKZXhwb3J0IGNvbnN0IGRlbGV0ZVByb2plY3QgPSBhc3luYyAoaWQpID0+IHsKICAgIGNvbnN0IGRiID0gYXdhaXQgb3BlbkRCKCk7CiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKFNUT1JFX05BTUUsICdyZWFkd3JpdGUnKTsKICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoU1RPUkVfTkFNRSk7CiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5kZWxldGUoaWQpOwogICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZSgpOwogICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTsKICAgIH0pOwp9OwpleHBvcnQgY29uc3QgdXBkYXRlUHJvamVjdE5hbWUgPSBhc3luYyAoaWQsIG5ld05hbWUpID0+IHsKICAgIGNvbnN0IGRiID0gYXdhaXQgb3BlbkRCKCk7CiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKFNUT1JFX05BTUUsICdyZWFkd3JpdGUnKTsKICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoU1RPUkVfTkFNRSk7CiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIGNvbnN0IGdldFJlcXVlc3QgPSBzdG9yZS5nZXQoaWQpOwogICAgICAgIGdldFJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gewogICAgICAgICAgICBjb25zdCBwcm9qZWN0ID0gZ2V0UmVxdWVzdC5yZXN1bHQ7CiAgICAgICAgICAgIGlmIChwcm9qZWN0KSB7CiAgICAgICAgICAgICAgICBwcm9qZWN0Lm5hbWUgPSBuZXdOYW1lOwogICAgICAgICAgICAgICAgc3RvcmUucHV0KHByb2plY3QpLm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJlamVjdCgiUHJvamVjdCBub3QgZm91bmQiKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgZ2V0UmVxdWVzdC5vbmVycm9yID0gKCkgPT4gcmVqZWN0KGdldFJlcXVlc3QuZXJyb3IpOwogICAgfSk7Cn07Cg==","@/sw":"data:application/javascript;base64,CmNvbnN0IENBQ0hFX05BTUUgPSAnc29uaWNwb2NrZXQtdjQnOwpjb25zdCBBU1NFVFNfVE9fQ0FDSEUgPSBbCiAgJy8nLAogICcvaW5kZXguaHRtbCcsCiAgJy9pbmRleC50c3gnLAogICcvQXBwLnRzeCcsCiAgJy90eXBlcy50cycsCiAgJy9jb25zdGFudHMudHMnLAogICcvbWFuaWZlc3QuanNvbicsCiAgJy9zZXJ2aWNlcy9hdWRpb1V0aWxzLnRzJywKICAnL3NlcnZpY2VzL3N0b3JhZ2VTZXJ2aWNlLnRzJywKICAnL2NvbXBvbmVudHMvQnV0dG9uLnRzeCcsCiAgJy9jb21wb25lbnRzL1dhdmVmb3JtRGlzcGxheS50c3gnLAogICcvY29tcG9uZW50cy9CZWF0TWFrZXJNb2RhbC50c3gnLAogICcvY29tcG9uZW50cy9FZmZlY3RzTW9kYWwudHN4JywKICAnL2NvbXBvbmVudHMvRXhwb3J0TW9kYWwudHN4JywKICAnaHR0cHM6Ly9jZG4udGFpbHdpbmRjc3MuY29tJywKICAnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9sYW1lanNAMS4yLjEvbGFtZS5taW4uanMnCl07CgpzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2luc3RhbGwnLCAoZXZlbnQpID0+IHsKICBldmVudC53YWl0VW50aWwoCiAgICBjYWNoZXMub3BlbihDQUNIRV9OQU1FKS50aGVuKChjYWNoZSkgPT4gewogICAgICByZXR1cm4gY2FjaGUuYWRkQWxsKEFTU0VUU19UT19DQUNIRSk7CiAgICB9KQogICk7CiAgc2VsZi5za2lwV2FpdGluZygpOwp9KTsKCnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignYWN0aXZhdGUnLCAoZXZlbnQpID0+IHsKICBldmVudC53YWl0VW50aWwoCiAgICBjYWNoZXMua2V5cygpLnRoZW4oKGNhY2hlTmFtZXMpID0+IHsKICAgICAgcmV0dXJuIFByb21pc2UuYWxsKAogICAgICAgIGNhY2hlTmFtZXMubWFwKChjYWNoZU5hbWUpID0+IHsKICAgICAgICAgIGlmIChjYWNoZU5hbWUgIT09IENBQ0hFX05BTUUpIHsKICAgICAgICAgICAgcmV0dXJuIGNhY2hlcy5kZWxldGUoY2FjaGVOYW1lKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICApOwogICAgfSkKICApOwogIHNlbGYuY2xpZW50cy5jbGFpbSgpOwp9KTsKCnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignZmV0Y2gnLCAoZXZlbnQpID0+IHsKICAvLyBOYXZpZ2F0aW9uIGZhbGxiYWNrIHRvIGluZGV4Lmh0bWwgZm9yIFNQQSByb3V0aW5nIChpZiBuZWVkZWQpCiAgaWYgKGV2ZW50LnJlcXVlc3QubW9kZSA9PT0gJ25hdmlnYXRlJykgewogICAgZXZlbnQucmVzcG9uZFdpdGgoCiAgICAgIGNhY2hlcy5tYXRjaCgnL2luZGV4Lmh0bWwnKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIHJldHVybiByZXNwb25zZSB8fCBmZXRjaChldmVudC5yZXF1ZXN0KTsKICAgICAgfSkKICAgICk7CiAgICByZXR1cm47CiAgfQoKICBldmVudC5yZXNwb25kV2l0aCgKICAgIGNhY2hlcy5tYXRjaChldmVudC5yZXF1ZXN0KS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAvLyBDYWNoZSBoaXQgLSByZXR1cm4gcmVzcG9uc2UKICAgICAgaWYgKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgICB9CiAgICAgIAogICAgICAvLyBDbG9uZSB0aGUgcmVxdWVzdCBmb3IgZmV0Y2gKICAgICAgY29uc3QgZmV0Y2hSZXF1ZXN0ID0gZXZlbnQucmVxdWVzdC5jbG9uZSgpOwoKICAgICAgcmV0dXJuIGZldGNoKGZldGNoUmVxdWVzdCkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAvLyBDaGVjayBpZiB2YWxpZCByZXNwb25zZQogICAgICAgIGlmICghcmVzcG9uc2UgfHwgcmVzcG9uc2Uuc3RhdHVzICE9PSAyMDAgfHwgcmVzcG9uc2UudHlwZSAhPT0gJ2Jhc2ljJykgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgICAgIH0KCiAgICAgICAgLy8gQ2FjaGUgbmV3IHJlc291cmNlcyAoZXhjZXB0IEFQSSBjYWxscyB0eXBpY2FsbHkpCiAgICAgICAgaWYgKCFldmVudC5yZXF1ZXN0LnVybC5pbmNsdWRlcygnZ29vZ2xlJykgJiYgIWV2ZW50LnJlcXVlc3QudXJsLmluY2x1ZGVzKCdhcGknKSkgewogICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VUb0NhY2hlID0gcmVzcG9uc2UuY2xvbmUoKTsKICAgICAgICAgICAgIGNhY2hlcy5vcGVuKENBQ0hFX05BTUUpLnRoZW4oKGNhY2hlKSA9PiB7CiAgICAgICAgICAgICAgIGNhY2hlLnB1dChldmVudC5yZXF1ZXN0LCByZXNwb25zZVRvQ2FjaGUpOwogICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICAgIH0pOwogICAgfSkKICApOwp9KTsK"}}</script>
        <script>
          window.APPLET_FILES = ["index.tsx","metadata.json","index.html","types.ts","constants.ts","services/audioUtils.ts","services/geminiService.ts","components/Button.tsx","components/WaveformDisplay.tsx","components/AIGeneratorModal.tsx","App.tsx","components/EffectsModal.tsx","components/ExportModal.tsx","components/BeatMakerModal.tsx","services/storageService.ts","manifest.json","sw.js"];
          </script>
        <script type="module">
        (() => {
  if (window.self === window.top) {
    // Do not run the shim in the main window, only in iframes.
    return;
  }

  window.API_KEY = 'GEMINI_API_KEY';
  window.GEMINI_API_KEY = 'GEMINI_API_KEY';
  window.process = window.process || {};
  window.process.env = window.process.env || {};
  window.process.env.API_KEY = window.API_KEY;
  window.process.env.GEMINI_API_KEY = window.GEMINI_API_KEY;

  const bootstrapChannel = new Promise((resolve) => {
    window.addEventListener('message', (event) => {
      if (event.origin !== 'https://aistudio.google.com') {
        return;
      }

      if (event.data.type === 'bootstrap') {
        resolve({
          port: event.ports[0],
          urlPatterns:
              event.data.urlPatterns.map((pattern) => new RegExp(pattern)),
        });
      }
    });
  });

  window.aistudio = window.aistudio || {
    handleFullscreenEsc: true,
    getHostUrl: async function() {
      const hostPort = (await bootstrapChannel).port;
      return new Promise((resolve) => {
        const channel = new MessageChannel();
        hostPort.postMessage(
            {type: 'get_host_url'},
            [channel.port2]);
        const port = channel.port1;
        port.onmessage = (message) => {
          resolve(message.data.url);
        };
      });
    },
    hasSelectedApiKey: async function() {
      const hostPort = (await bootstrapChannel).port;
      return new Promise((resolve) => {
        const channel = new MessageChannel();
        hostPort.postMessage(
            {type: 'has_selected_api_key'},
            [channel.port2]);
        const port = channel.port1;
        port.onmessage = (message) => {
          resolve(message.data);
        };
      });
    },
    openSelectKey: async function() {
      const hostPort = (await bootstrapChannel).port;
      const channel = new MessageChannel();
      hostPort.postMessage(
          {type: 'open_select_key'},
          [channel.port2]);
    },
    getModelQuota: async function(model) {
      const hostPort = (await bootstrapChannel).port;
      return new Promise((resolve) => {
        const channel = new MessageChannel();
        hostPort.postMessage(
            {type: 'get_model_quota', model},
            [channel.port2]);
        const port = channel.port1;
        port.onmessage = (message) => {
          resolve(message.data.modelQuota);
        };
      });
    },
  };

  const nativeFetch = window.fetch;

  /**
   * @param {string | URL | Request} resource The resource of the fetch request.
   * @param {RequestInit} options The options of the fetch request.
   * @return {Promise!} The promise of the fetch request.
   */
  async function fetch(resource, options) {
    const config = await bootstrapChannel;

    const request = resource instanceof Request ?
      resource.clone() :
      new Request(resource, options);

    if (!config.urlPatterns.some((pattern) => request.url.match(pattern))) {
      return nativeFetch(resource, options);
    }
    const hostPort = config.port;

    const channel = new MessageChannel();
    const port = channel.port1;
    let bodyBytes;
    const transfer = [channel.port2];
    const parts = [];
    const buffer = await request.arrayBuffer();
    if (buffer.byteLength) {
      bodyBytes = buffer;
      transfer.push(bodyBytes);
    }
    hostPort.postMessage(
        {
          type: 'fetch',
          url: request.url,
          method: request.method,
          headers: [...request.headers.entries()],
          body: bodyBytes,
        },
        transfer);

    let streamController;
    const body = new ReadableStream({
      start(controller) {
        streamController = controller;
      },
    });
    let resolveReceive;
    const receivePromise = new Promise((resolve) => {
      resolveReceive = resolve;
    });
    port.onmessage = (message) => {
      switch (message.data.type) {
        case 'response':
          resolveReceive(new Response(body, {
            status: message.data.status,
            statusText: message.data.statusText,
            headers: new Headers(message.data.headers),
          }));
          break;
        case 'body':
          streamController.enqueue(message.data.data);
          break;
        case 'body_done':
          streamController.close();
          break;
      }
    };
    return receivePromise;
  }

  Object.defineProperty(window, 'fetch', {
    get: function() {
      return fetch;
    },
  });

  // See details in: https://github.com/angular/angular/issues/63064.
  function patchHistoryStateFunctionForAngular(originalFn, baseHref) {
    return (state, unused, url) => {
      if (typeof url === 'string' && !url.startsWith('blob:')) {
        url = baseHref + url;
      }
      return originalFn.apply(window.history, [state, unused, url]);
    };
  }

  if (false) {
    const baseHref = window.location.href;
    window.history.replaceState = patchHistoryStateFunctionForAngular(window.history.replaceState, baseHref);
    window.history.pushState = patchHistoryStateFunctionForAngular(window.history.pushState, baseHref);
  }

  const originalWebSocket = window.WebSocket;
  class ProxiedWebSocket extends EventTarget {
    /**
     * @param {string} url The url of the websocket.
     * @param {Object!} protocols The protocols of the websocket.
     */
    constructor(url, protocols) {
      super();
      this.url = url;
      this.protocols = protocols;

      this.open();
    }

    /** Opens the websocket. */
    async open() {
      const hostPort = (await bootstrapChannel).port;
      const channel = new MessageChannel();
      hostPort.postMessage(
          {type: 'websocket_open', url: this.url, protocols: this.protocols},
          [channel.port2]);
      this.port = channel.port1;
      this.port.onmessage = (message) => {
        if (message.data.type === 'close') {
          const event = new CloseEvent('close', {
            code: message.data.code,
            reason: message.data.reason,
            wasClean: message.data.wasClean,
          });
          if (this.onclose) {
            this.onclose(event);
          }
          this.dispatchEvent(event);
          return;
        } else if (message.data.type === 'open') {
          const event = new Event('open');
          if (this.onopen) {
            this.onopen(event);
          }
          this.dispatchEvent(event);
          return;
        } else if (message.data.type === 'message') {
          let data = message.data.data;
          if (message.data.messageType === 'text' || message.data.messageType === 'message') {
            data = new TextDecoder().decode(data);
          }
          const event = new MessageEvent('message', {
            data,
            type: message.data.messageType,
          });
          if (this.onmessage) {
            this.onmessage(event);
          }
          this.dispatchEvent(event);
          return;
        } else if (message.data.type === 'error') {
          const event = new ErrorEvent('error', {
            message: message.data.message,
          });
          if (this.onerror) {
            this.onerror(event);
          }
          this.dispatchEvent(event);
          return;
        }
        console.error('received unknown message in frame', event.data);
      };
    }
    /**
     * @param {string|ArrayBuffer!} data The data to send.
     */
    send(data) {
      if (typeof data === 'string') {
        this.port.postMessage({type: 'send', data});
      } else {
        this.port.postMessage({type: 'send', data}, [data.buffer]);
      }
    }

    /**
     * @param {number} code The code of the close event.
     * @param {string} reason The reason of the close event.
     */
    close(code, reason) {
      this.port.postMessage({type: 'close', code, reason});
    }
  }

  /**
   * @param {string} url The url of the websocket.
   * @param {Object!} protocols The protocols of the websocket.
   * @return {WebSocket!} The websocket.
   */
  function createWebSocket(url, protocols) {
    // This should come from the bootstrap channel, but we want this to
    // work for the synchronous constructor here.
    if (url.startsWith('wss://generativelanguage.googleapis.com/')) {
      return Reflect.construct(ProxiedWebSocket, [url, protocols]);
    }
    return Reflect.construct(originalWebSocket, [url, protocols]);
  }

  Object.defineProperty(window, 'WebSocket', {
    get: function() {
      return createWebSocket;
    },
  });

  async function instrumentErrorReporting() {
    const errors = [];
    let hostPort;

    function reportError(message) {
      if (!hostPort) {
        errors.push(message);
      } else {
        hostPort.postMessage({type: 'error', message: message}, message);
      }
    }

    function serialize(args) {
      return args.map((a) => {
        if (a instanceof Error || a instanceof ErrorEvent) {
          return a.message;
        }
        if(a instanceof CloseEvent) {
          return {code: a.code, reason: a.reason, wasClean: a.wasClean};
        }
        if( a instanceof Map) {
          return JSON.parse(JSON.stringify([...a.entries()]));
        }
        if( a instanceof Set) {
          return JSON.parse(JSON.stringify([...a.values()]));
        }
        if (a instanceof Object) {
          return JSON.parse(JSON.stringify(a));
        }
        return a;
      });
    }

    const originalConsole = window.console;
    const originalConsoleLog = window.console.log;
    const originalConsoleError = window.console.error;
    const originalConsoleWarn = window.console.warn;
    const originalConsoleDebug = window.console.debug;
    window.console = {
      ...originalConsole,
      log: (message, ...args) => {
        originalConsoleLog.apply(window.console, [message, ...args]);
        const combined = serialize([message, ...args]);
        reportError({type: 'console_log', message: combined });
      },
      debug: (message, ...args) => {
        originalConsoleDebug.apply(window.console, [message, ...args]);
        const combined = serialize([message, ...args]);
        reportError({type: 'console_debug', message: combined });
      },
      error: (message, ...args) => {
        originalConsoleError.apply(window.console, [message, ...args]);
        const combined = serialize([message, ...args]);
        reportError({type: 'console_error', message: combined });
      },
      warn: (message, ...args) => {
        originalConsoleWarn.apply(window.console, [message, ...args]);
        const combined = serialize([message, ...args]);
        reportError({type: 'console_warn', message: combined });
      },
    };

    window.onerror = (message, source, lineno, colno, error) => {
      reportError({type: 'error', message: serialize([message]), source, lineno, colno, error});
    };

    window.onunhandledrejection = (event) => {
      reportError({type: 'unhandledrejection', message: serialize([event.reason])});
    };

    window.alert = (message) => {
      reportError({type: 'alert', message: serialize([message]) });
    };

    hostPort = (await bootstrapChannel).port;
    for(const error of errors) {
      hostPort.postMessage({type: 'error', message: error});
    }
  }

  const availableFiles = new Set(window.APPLET_FILES || []);

  instrumentErrorReporting();

  if (false) {
    const notifyLocationChange = async () => {
      const hostPort = (await bootstrapChannel).port;
      hostPort.postMessage({type: 'locationchange', href: location.href});
    };

    // Send initial state on load.
    notifyLocationChange();

    const originalPushState = history.pushState;
    history.pushState = (...args) => {
      originalPushState.apply(history, args);
      notifyLocationChange();
    };

    const originalReplaceState = history.replaceState;
    history.replaceState = (...args) => {
      originalReplaceState.apply(history, args);
      notifyLocationChange();
    };
    window.addEventListener('popstate', (e) => {
      notifyLocationChange();
    });
  }

  window.addEventListener('hashchange', async (e) =>{
    const config = await bootstrapChannel;
    const hostPort = config.port;
    hostPort.postMessage({type: 'hashchange', hash: window.location.hash});
    if (false) {
      hostPort.postMessage({
        type: 'locationchange',
        href: location.href,
      });
    }
  });

  if (true) {
    const script = document.createElement('script');
    script.src = 'https://cdn.jsdelivr.net/npm/html2canvas-pro';
    script.onload = () => {
      window.addEventListener('message', async (event) => {
        if (event.data?.type === 'capture-screenshot') {
          try {
            const canvas = await html2canvas(document.documentElement, {
              logging: false,
              useCORS: true,
              backgroundColor: null,
              scale: 1,
            });
            const hostPort = (await bootstrapChannel).port;
            hostPort.postMessage(
              {
                type: 'screenshot-result',
                dataUrl: canvas.toDataURL('image/png'),
                requestId: event.data.requestId,
                scrollX: document.body.scrollLeft,
                scrollY: document.body.scrollTop,
              },
            );
          } catch (e) {
            const hostPort = (await bootstrapChannel).port;
            hostPort.postMessage(
              {
                type: 'screenshot-error',
                error: e.message,
                requestId: event.data.requestId,
              });
          }
        }
      });
    };
    document.head.appendChild(script);
  }

  if (false) {
    const MAX_ANCESTOR_LEVEL = 3;
    const MAX_DESCENDANT_LEVEL = 3;

    function getElementSelector(el) {
      if (!el || el.nodeType !== 1) {
        return '';
      }
      const parts = [];
      while(el && el.nodeType === 1 && el.tagName.toLowerCase() !== 'body') {
        let part = el.tagName.toLowerCase();
        if (el.id) {
          part += '#' + CSS.escape(el.id);
        }

        const parent = el.parentElement;
        if (parent) {
          let nth = 1;
          let prev = el.previousElementSibling;
          while(prev) {
            if (prev.tagName === el.tagName) {
              nth++;
            }
            prev = prev.previousElementSibling;
          }
          part += ':nth-of-type(' + nth + ')';
        }

        parts.unshift(part);
        el = el.parentElement;
      }
      return parts.join(' > ');
    }

    function getDomTreeAsString(element, depth, maxDepth) {
      if (!element || element.nodeType !== 1 || depth > maxDepth) {
        return '';
      }
      const tagName = element.tagName.toLowerCase();
      let attrs = [];
      if (element.id) {
        attrs.push('id="' + element.id + '"');
      }
      if (element.classList.length > 0) {
        attrs.push('class="' + element.classList.value + '"');
      }
      const attrString = attrs.length > 0 ? ' ' + attrs.join(' ') : '';

      let content = '';
      for (const node of element.childNodes) {
        if (node.nodeType === 1) { // Element node
          content += getDomTreeAsString(node, depth + 1, maxDepth);
        } else if (node.nodeType === 3) { // Text node
          content += node.textContent;
        }
      }

      return '<' + tagName + attrString + '>' + content + '</' + tagName + '>';
    }

    const style = document.createElement('style');
    style.textContent =
      '.aistudio-focus-mode-highlight { box-shadow: inset 0 0 0 0.5px white, inset 0 0 0 1.5px #87a9ff !important; }' +
      '#aistudio-focus-mode-tag { position: absolute; display: none; background: #87a9ff; border-radius: 4px; border: 0.5px solid white; z-index: 10000; text-transform: lowercase; padding: 2px 4px; color: #32302c; font-family: Inter, sans-serif; font-size: 12px; font-style: normal; font-weight: 400; line-height: 16px; pointer-events: none; }';
    document.head.appendChild(style);

    let highlightedElement = null;
    let focusTag = null;
    let resizeObserver = null;
    let iframeLoaded = false;

    function positionFocusTag() {
      if (!highlightedElement || !focusTag) return;
      requestAnimationFrame(() => {
        focusTag.style.display = 'inline-flex';
        const rect = highlightedElement.getBoundingClientRect();
        focusTag.style.top =
          rect.top + window.scrollY - focusTag.offsetHeight - 5 + 'px';
        focusTag.style.left = rect.left + window.scrollX + 'px';
      });
    }

    if (window.ResizeObserver) {
      resizeObserver = new ResizeObserver(() => {
        positionFocusTag();
      });
    }

    function highlight(element) {
      if (!iframeLoaded) return; // Do not highlight if iframe is not loaded
      if (!focusTag) {
        focusTag = document.createElement('div');
        focusTag.id = 'aistudio-focus-mode-tag';
        document.body.appendChild(focusTag);
      }

      const hadHighlightedElement = !!highlightedElement;
      if (highlightedElement) {
        highlightedElement.classList.remove('aistudio-focus-mode-highlight');
        highlightedElement.removeAttribute('data-aistudio-tag-name');
        if (resizeObserver) {
          resizeObserver.unobserve(highlightedElement);
        }
      }
      focusTag.style.display = 'none';
      highlightedElement = element;
      const hasHighlightedElement = !!highlightedElement;

      if (!hadHighlightedElement && hasHighlightedElement) {
        window.addEventListener('resize', positionFocusTag);
        window.addEventListener('scroll', positionFocusTag, true);
      } else if (hadHighlightedElement && !hasHighlightedElement) {
        window.removeEventListener('resize', positionFocusTag);
        window.removeEventListener('scroll', positionFocusTag, true);
      }

      if (highlightedElement) {
        highlightedElement.setAttribute(
          'data-aistudio-tag-name',
          highlightedElement.tagName,
        );
        highlightedElement.classList.add('aistudio-focus-mode-highlight');
        focusTag.textContent = highlightedElement.tagName.toLowerCase();
        positionFocusTag();
        if (resizeObserver) {
          resizeObserver.observe(highlightedElement);
        }
      }
    }

    window.addEventListener('load', () => {
      iframeLoaded = true;
    });

    window.addEventListener('message', async (event) => {
      if (event.data?.type === 'highlight-element-at-point') {
        try {
          const element = document.elementFromPoint(
            event.data.x,
            event.data.y,
          );
          highlight(element);
        } catch (e) {
          highlight(null);
        }
      } else if (event.data?.type === 'highlight-element-by-selector') {
        try {
          const selector = event.data.selector;
          if (selector) {
            const element = document.querySelector(selector);
            highlight(element);
          } else {
            highlight(null);
          }
        } catch (e) {
          highlight(null);
        }
      } else if (event.data?.type === 'get-element-at-point') {
        try {
          const element = document.elementFromPoint(
            event.data.x,
            event.data.y,
          );
          const hostPort = (await bootstrapChannel).port;
          if (!element) {
            hostPort.postMessage({
              type: 'element-at-point-error',
              error: 'No element found at point',
              requestId: event.data.requestId,
            });
            return;
          }
          const selector = getElementSelector(element);

          let levelsUp = 0;
          let root = element;
          while(levelsUp < MAX_ANCESTOR_LEVEL && root.parentElement && root.parentElement.tagName.toLowerCase() !== 'html') {
            root = root.parentElement;
            levelsUp++;
          }
          const domString = getDomTreeAsString(root, 0, levelsUp + MAX_DESCENDANT_LEVEL);

          const styles = window.getComputedStyle(element);
          const css = {};
          for (let i = 0; i < styles.length; i++) {
            const key = styles[i];
            css[key] = styles.getPropertyValue(key);
          }
          hostPort.postMessage({
            type: 'element-at-point-result',
            element: {
              selector: selector,
              domString: domString,
              css: css,
              x: event.data.x,
              y: event.data.y,
            },
            requestId: event.data.requestId,
          });
        } catch (e) {
          const hostPort = (await bootstrapChannel).port;
          hostPort.postMessage({
            type: 'element-at-point-error',
            error: e.message,
            requestId: event.data.requestId,
          });
        }
      } else if (event.data?.type === 'change-element-style') {
        try {
          const selector = event.data.selector;
          if (selector) {
            const element = document.querySelector(selector);
            if (element) {
              element.style.setProperty(
                event.data.property,
                event.data.value,
                'important',
              );
              positionFocusTag();
            }
          }
        } catch (e) {}
      }
    });
  }

  window.addEventListener('keydown', async (event) => {
    if (event.key === 'Escape' && window.aistudio?.handleFullscreenEsc) {
      const hostPort = (await bootstrapChannel).port;
      hostPort.postMessage({type: 'exit-fullscreen'});
    }
  });
})();
// # sourceURL=iframe_shim.js
        </script>
        <base href="https://ai.studio"/>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>SonicPocket AI</title>
    
    <!-- PWA Setup -->
    <link rel="manifest" href="/manifest.json?v=3" />
    <meta name="theme-color" content="#09090b" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="SonicPocket" />
    
    <!-- Standard Favicon (Browser Tabs) -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI3LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAyNCAxMDI0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+Cjx1YXR0ZXJuICB3aWR0aD0iODIuMDc4MDk0NSIgaGVpZ2h0PSI4Mi4wNzg1OTgiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIGlkPSJVbm5hbWVkX1BhdHRlcm5fMSIgdmlld0JveD0iNDMuNzkzNDk5IC04Ny43Nzc4MDE1IDgyLjA3ODA5NDUgODIuMDc4NTk4IiBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiPgoJPGc+CgkJPHJlY3QgeD0iNDMuNzkzNDk5IiB5PSItODcuNzc3ODAxNSIgc3R5bGU9ImZpbGw6bm9uZTsiIHdpZHRoPSI4Mi4wNzgwOTQ1IiBoZWlnaHQ9IjgyLjA3ODU5OCIvPgoJCTxyZWN0IHg9IjQzLjc5MzQ5OSIgeT0iLTg3Ljc3NzgwMTUiIHN0eWxlPSJmaWxsOiNCQ0JFQzA7IiB3aWR0aD0iODIuMDc4MDk0NSIgaGVpZ2h0PSI4Mi4wNzg1OTgiLz4KCQk8bGluZSBzdHlsZT0iZmlsbDojRkZGRkZGOyIgeDE9IjI1LjkzNDA5OTIiIHkxPSItMTAuMjU5OCIgeDI9IjMwLjQ5MjcwMDYiIHkyPSItNS42OTkyMDAyIi8+CgkJPGxpbmUgc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHgxPSIyNS45MzQwOTkyIiB5MT0iLTUuNjk5MjAwMiIgeDI9IjMwLjQ5MjcwMDYiIHkyPSItMTAuMjU5OCIvPgoJCTxyZWN0IHg9IjM4LjA5NDIwMDEiIHk9Ii00Ny44NzgzOTg5IiBzdHlsZT0iZmlsbDojODA4Mjg1OyIgd2lkdGg9IjkxLjE5NzI5NjEiIGhlaWdodD0iNC41NTk5OTk5Ii8+CgkJPHJlY3QgeD0iMzguMDk0MjAwMSIgeT0iLTIwLjUxOTUwMDciIHN0eWxlPSJmaWxsOiM4MDgyODU7IiB3aWR0aD0iOTEuMTk3Mjk2MSIgaGVpZ2h0PSI0LjU2MDUwMDEiLz4KCQk8cmVjdCB4PSIzOC4wOTQyMDAxIiB5PSItNzUuMjM3ODAwNiIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI5MS4xOTcyOTYxIiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjM4LjA5NDIwMDEiIHk9Ii01Ni45OTg1MDA4IiBzdHlsZT0iZmlsbDojODA4Mjg1OyIgd2lkdGg9IjkxLjE5NzI5NjEiIGhlaWdodD0iNC41NTk1MDAyIi8+CgkJPHJlY3QgeD0iMzguMDk0MjAwMSIgeT0iLTI5LjYzODcwMDUiIHN0eWxlPSJmaWxsOiM4MDgyODU7IiB3aWR0aD0iOTEuMTk3Mjk2MSIgaGVpZ2h0PSI0LjU2MDU5OTgiLz4KCQk8cmVjdCB4PSIzOC4wOTQyMDAxIiB5PSItODQuMzU3OTAyNSIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI5MS4xOTcyOTYxIiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjE2LjgxMjk5OTciIHk9Ii03NS4yMzc4MDA2IiBzdHlsZT0iZmlsbDojQTdBOUFDOyIgd2lkdGg9IjkuMTIxMTAwNCIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSI4MS40MTI1OTc3IiB5PSItOTEuMTk3Nzk5NyIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI0LjU2MDUwMDEiIGhlaWdodD0iOTEuMTk3Nzk5NyIvPgoJCTxyZWN0IHg9IjEwOC43NzIwMDMyIiB5PSItOT.MTk3Nzk5NyIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI0LjU2MDQ5NzMiIGhlaWdodD0iOTEuMTk3Nzk5NyIvPgoJCTxyZWN0IHg9IjU0LjA1MzE5OTgiIHk9Ii05MS4xOTc3OTk3IiBzdHlsZT0iZmlsbDojODA4Mjg1OyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI5MS4xOTc3OTk3Ii8+CgkJPHJlY3QgeD0iOTAuNTMxNzAwMSIgeT0iLTkxLjE5Nzc5OTciIHN0eWxlPSJmaWxsOiM4MDgyODU7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjkxLjE5Nzc5OTciLz4KCQk8cmVjdCB4PSIxMTcuODkxMDk4IiB5PSItOTEuMTk3Nzk5NyIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI0LjU2MDU5OTgiIGhlaWdodD0iOTEuMTk3Nzk5NyIvPgoJCTxyZWN0IHg9IjYzLjE3MjQwMTQiIHk9Ii05MS4xOTc3OTk3IiBzdHlsZT0iZmlsbDojODA4Mjg1OyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI5MS4xOTc3OTk3Ii8+CgkJPHJlY3QgeD0iMTAuNzM0OTAwNSIgeT0iLTg1Ljg3NzQwMzMiIHN0eWxlPSJmaWxsOiNBN0E5QUM7IiB3aWR0aD0iNC41NTg1OTk5IiBoZWlnaHQ9IjkuMTE5MDk5NiIvPgoJCQoJCQk8bGluZSBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMjMxRjIwO3N0cm9rZS13aWR0aDowLjk1O3N0cm9rZS1saW5lY2FwOnNxdWFyZTsiIHgxPSI0Mi45ODY4MDExIiB5MT0iLTM2LjQ3ODUwMDQiIHgyPSIxMjYuNjMxMjk0MyIgeTI9Ii0zNi40Nzg1MDA0Ii8+CgkJCgkJCTxsaW5lIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMyMzFGMjA7c3Ryb2tlLXdpZHRoOjAuOTU7c3Ryb2tlLWxpbmVjYXA6c3F1YXJlOyIgeDE9IjQyLjk4NjgwMTEiIHkxPSItOS4xMTkwOTk2IiB4Mj0iMTI2LjYzMTI5NDMiIHkyPSItOS4xMTkwOTk2Ii8+CgkJCgkJCTxsaW5lIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMyMzFGMjA7c3Ryb2tlLXdpZHRoOjAuOTU7c3Ryb2tlLWxpbmVjYXA6c3F1YXJlOyIgeDE9IjQyLjk4NjgwMTEiIHkxPSItNjMuODM4NDAxOCIgeDI9IjEyNi42MzEyOTQzIiB5Mj0iLTYzLjgzODQwMTgiLz4KCQkKCQkJPGxpbmUgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzIzMUYyMDtzdHJva2Utd2lkdGg6MC45NTtzdHJva2UtbGluZWNhcDpzcXVhcmU7IiB4MT0iMC40NzUxIiB5MT0iLTYzLjgzODQwMTgiIHgyPSIzMS4yNTQ0MDAzIiB5Mj0iLTYzLjgzODQwMTgiLz4KCQkKCQkJPGxpbmUgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzIzMUYyMDtzdHJva2Utd2lkdGg6MC45NTtzdHJva2UtbGluZWNhcDpzcXVhcmU7IiB4MT0iNzQuNTcyNzk5NyIgeTE9Ii04OC41Mzc1OTc3IiB4Mj0iNzQuNTcyNzk5NyIgeTI9Ii00Ljg5MjYwMDEiLz4KCQkKCQkJPGxpbmUgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzIzMUYyMDtzdHJva2Utd2lkdGg6MC45NTtzdHJva2UtbGluZWNhcDpzcXVhcmU7IiB4MT0iMTAxLjkzMjA5ODQiIHkxPSItODguNTM3NTk3NyIgeDI9IjEwMS45MzIwOTg0IiB5Mj0iLTQuODkyNjAwMSIvPgoJCQoJCQk8bGluZSBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMjMxRjIwO3N0cm9rZS13aWR0aDowLjk1O3N0cm9rZS1saW5lY2FwOnNxdWFyZTsiIHgxPSI0Ny4yMTM0MDE4IiB5MT0iLTg4LjUzNzU5NzciIHgyPSI0Ny4yMTM0MDE4IiB5Mj0iLTQuODkyNjAwMSIvPgoJCQoJCQk8bGluZSBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMjMxRjIwO3N0cm9rZS13aWR0aDowLjk1O3N0cm9rZS1saW5lY2FwOnNxdWFyZTsiIHgxPSIzLjg5MzEiIHkxPSItOTEuMTk3Nzk5NyIgeDI9IjMuODkzMSIgeTI9Ii02MC40MTg0OTkiLz4KCQk8cmVjdCB4PSIxMC43MzQ5MDA1IiB5PSItNzUuMjM3ODAwNiIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU1ODU5OTkiIGhlaWdodD0iNC41NTk1OTk5Ii8+CgkJPHJlY3QgeD0iNTQuMDUzMTk5OCIgeT0iLTc1LjIzNzgwMDYiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjYzLjE3MjQwMTQiIHk9Ii04NC4zNTc5MDI1IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSI2My4xNzI0MDE0IiB5PSItNzUuMjM3ODAwNiIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDUwMDEiIGhlaWdodD0iNC41NTk1OTk5Ii8+CgkJPHJlY3QgeD0iNTQuMDUzMTk5OCIgeT0iLTg0LjM1NzkwMjUiIHN0eWxlPSJmaWxsOiM4MDgyODU7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjgxLjQxMjU5NzciIHk9Ii03NS4yMzc4MDA2IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSI5MC41MzE3MDAxIiB5PSItODQuMzU3OTAyNSIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDU5OTgiIGhlaWdodD0iNC41NTk1OTk5Ii8+CgkJPHJlY3QgeD0iOTAuNTMxNzAwMSIgeT0iLTc1LjIzNzgwMDYiIHN0eWxlPSJmaWxsOiM4MDgyODU7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjgxLjQxMjU5NzciIHk9Ii04NC4zNTc5MDI1IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSIxMDguNzcyMDAzMiIgeT0iLTc1LjIzNzgwMDYiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA0OTczIiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjExNy44OTEwOTgiIHk9Ii04NC4zNTc5MDI1IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSIxMTcuODkxMDk4IiB5PSItNzUuMjM3ODAwNiIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDU5OTgiIGhlaWdodD0iNC41NTk1OTk5Ii8+CgkJPHJlY3QgeD0iMTA4Ljc3MjAwMzIiIHk9Ii04NC4zNTc5MDI1IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNDk3MyIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSI1NC4wNTMzMTk5OCIgeT0iLTQ3Ljg3ODM5ODkiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5OTk5OSIvPgoJCTxyZWN0IHg9IjYzLjE3MjQwMTQiIHk9Ii01Ni45OTg1MDA4IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU1OTUwMDIiLz4KCQk8cmVjdCB4PSI2My4xNzI0MDE0IiB5PSItNDcuODc4Mzk4OSIgc3R5bGU9ImZpbGw6IzNENEQ0RjsiIHdpZHRoPSI0LjU2MDUwMDEiIGhlaWdodD0iNC41NTk5OTk5Ii8+CgkJPHJlY3QgeD0iNTQuMDUzMTk5OCIgeT0iLTU2Ljk5ODUwMDgiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5NTAwMiIvPgoJCTxyZWN0IHg9IjgxLjQxMjU5NzciIHk9Ii00Ny44NzgzOTg5IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU1OTk5OTkiLz4KCQk8cmVjdCB4PSI5MC41MzE3MDAxIiB5PSItNTYuOTk4NTAwOCIgc3R5bGU9ImZpbGw6IzNENEQ0Rjsigd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU1OTUwMDIiLz4KCQk8cmVjdCB4PSI5MC41MzE3MDAxIiB5PSItNDcuODc4Mzk4OSIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDU5OTgiIGhlaWdodD0iNC41NTk5OTk5Ii8+CgkJPHJlY3QgeD0iODEuNDEyNTk3NyIgeT0iLTU2Ljk5ODUwMDgiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1MDAxIiBoZWlnaHQ9IjQuNTU5NTAwMiIvPgoJCTxyZWN0IHg9IjEwOC43NzIwMDMyIiB5PSItNDcuODc4Mzk4OSIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDQ5NzMiIGhlaWdodD0iNC41NTk5OTk5Ii8+CgkJPHJlY3QgeD0iMTE3Ljg5MTA5OCIgeT0iLTU2Ljk5ODUwMDgiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5NTAwMiIvPgoJCTxyZWN0IHg9IjExNy44OTEwOTgiIHk9Ii00Ny44NzgzOTg5IiBzdHlsZT0iZmlsbDojM2Q0RDRGOyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU1OTk5OTkiLz4KCQk8cmVjdCB4PSIxMDguNzcyMDAzMiIgeT0iLTU2Ljk5ODUwMDgiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA0OTczIiBoZWlnaHQ9IjQuNTU5NTAwMiIvPgoJCTxyZWN0IHg9IjU0LjA1MzE5OTgiIHk9Ii0yMC41MTk1MDA3IiBzdHlsZT0iZmlsbDojM2Q0RDRGOyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU2MDUwMDEiLz4KCQk8cmVjdCB4PSI2My4xNzI0MDE0IiB5PSIyOS42Mzg3MDA1IiBzdHlsZT0iZmlsbDojM2Q0RDRGOyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU2MDU5OTkiLz4KCQk8cmVjdCB4PSI2My4xNzI0MDE0IiB5PSItMjAuNTE5NTAwNyIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI0LjU2MDUwMDEiIGhlaWdodD0iNC41NjA1MDAxIi8+CgkJPHJlY3QgeD0iNTQuMDUzMTk5OCIgeT0iMjkuNjM4NzAwNSIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDU5OTgiIGhlaWdodD0iNC41NjA1OTk5Ii8+CgkJPHJlY3QgeD0iODEuNDEyNTk3NyIgeT0iLTIwLjUxOTUwMDciIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1MDAxIiBoZWlnaHQ9IjQuNTU2MDUwMDEiLz4KCQk8cmVjdCB4PSI5MC41MzE3MDAxIiB5PSIyOS42Mzg3MDA1IiBzdHlsZT0iZmlsbDojODA4Mjg1OyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU2MDU5OTgiLz4KCQk8cmVjdCB4PSI5MC41MzE3MDAxIiB5PSItMjAuNTE5NTAwNyIgc3R5bGU9ImZpbGw6IzNENEQ0Rjsigd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU2MDUwMDEiLz4KCQk8cmVjdCB4PSI4MS40MTI1OTc3IiB5PSIyOS42Mzg3MDA1IiBzdHlsZT0iZmlsbDojM2Q0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU2MDU5OTkiLz4KCQk8cmVjdCB4PSIxMDguNzcyMDAzMiIgeT0iLTIwLjUxOTUwMDciIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA0OTczIiBoZWlnaHQ9IjQuNTYwNTAwMSIvPgoJCTxyZWN0IHg9IjExNy44OTEwOTgiIHk9IjI5LjYzODcwMDUiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTYwNTk5OCIvPgoJCTxyZWN0IHg9IjExNy44OTEwOTgiIHk9Ii0yMC41MTk1MDA3IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU2MDUwMDEiLz4KCQk8cmVjdCB4PSIxMDguNzcyMDAzMiIgeT0iLTI5LjYzODcwMDUiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA0OTczIiBoZWlnaHQ9IjQuNTYwNTk5OCIvPgoJPC9nPgo8L3BhdHRlcm4+CjxnIGlkPSJCYWNrZ3JvdW5kIj4KCQoKCQk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lkXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjEzNy4wODcxNDI5IiB5MT0iMTAuMDUwNTU2MiIgeDI9Ijg4OC43MDY2MDQiIHkyPSIxMDE2LjM1MDk1MjEiPgoJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiMxRkNCRTciLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjUiIHN0eWxlPSJzdG9wLWNvbG9yOiM3ODgxRUYiLz4KCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojQ0M1RERDIi8+Cgk8L2xpbmVhckdyYWRpZW50PgoJPHJlY3Qgc3R5bGU9ImZpbGw6dXJsKCNTVkdJZF8xXyk7IiB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0Ii8+Cgk8ZyBpZD0iQXJyb3dfMjUiPgoJPC9nPgoJPGcgaWQ9IkFycm93XzIiPgoJPC9nPgo8L2c+CjxnIGlkPSJfeDMxX19fX3gyMDEzX19MYXllciI+Cgk8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTMxMS4xMDIwNTA4LDc4MC42NTgyMDMxYy02LjA5NzE2OCwwLTExLjM3MzUzNTItNC40Mzg0NzY2LTEyLjMzNjkxNDEtMTAuNTU2NjQwNgoJCWwtMzcuNjIyNTU4Ni0yMzguOTMxNjQwNkMyNjAuNTM0NjY4LDUyNC4zMDQ2ODc1LDI1Ny4yNTM0MTgsNTI0LjUsMjUzLjM0MDgyMDMsNTI0LjVIMTI4Ljc4NDE3OTcKCQljLTYuOTAzMzIwMywwLTEyLjUtNS41OTY2Nzk3LTEyLjUtMTIuNXM1LjU5NjY3OTctMTIuNSwxMi41LTEyLjVoMTI0LjU1NjY0MDYKCQljMTYuMjk2Mzg2NywwLDI5Ljk2MzM3ODksMTEuNjg0MDgyLDMyLjQ5ODA0NjksMjcuNzgxMjVsMTIuNzczOTI1OCw4MS4xMjY5NTMxVjI1NS44NDI3NzM0CgkJYzAtNi43MDM2MTMzLDUuMjg4MDg1OS0xMi4yMTM4NjcyLDExLjk4NTgzOTgtMTIuNDg5MjU3OGM2LjY5NDgyNDItMC4yODk1NTA4LDEyLjQyMDg5ODQsNC43ODEyNSwxMi45NzE2Nzk3LDExLjQ2MTkxNDEKCQlsMjguNDk5NTExNywzNDUuNTM1MTU2MmwyNy4yNjMxODM2LTI5OS4wNjgzNTk0YzAuNTg0NDcyNy02LjQxMTYyMTEsNS45NDMzNTk0LTExLjMzMTA1NDcsMTIuMzgxODM1OS0xMS4zNjUyMzQ0CgkJYzYuMDY5MzM1OS0wLjAyMDAxOTUsMTEuODQ5MTIxMSw0LjgyODEyNSwxMi41MDE5NTMxLDExLjIzMjkxMDJsMjguNjc1MjkzLDI4MS40NDY3NzczbDI3LjE0MDEzNjctMjM1LjA0MDAzOTEKCQljMC43MjM2MzI4LTYuMjY1MTM2Nyw2LjAwMDk3NjYtMTEuMDEwMjUzOSwxMi4zMDgxMDU1LTExLjA2NTQyOTdjNi4zMjEyODkxLTAuMDY2ODk0NSwxMS42NjY5OTIyLDQuNTk2Njc5NywxMi41LDEwLjg0ODYzMjgKCQlsMjguOTc1MDk3NywyMTcuNDcwNzAzMWwyNi45NTUwNzgxLTE3MS4xODk5NDE0YzAuOTQ0MzM1OS01Ljk5ODUzNTIsNi4wNjM0NzY2LTEwLjQ1MDY4MzYsMTIuMTM1NzQyMi0xMC41NTM3MTA5CgkJYzYuMDY5MzM1OS0wLjEzMTM0NzcsMTEuMzM4ODY3Miw0LjE3MjM2MzMsMTIuNDg2MzI4MSwxMC4xMzU3NDIyTDU5NC45Nzk0OTIyLDU0Ni45Mzc1bDI2LjY3MzgyODEtMTA3LjgwMDc4MTIKCQljMS4zMjkxMDE2LTUuMzc0MDIzNCw2LjAzNTE1NjItOS4yMzI5MTAyLDExLjU2NTQyOTctOS40ODQzNzVjNS41NDk4MDQ3LTAuMjQ3MDcwMywxMC41NjczODI4LDMuMTY0NTUwOCwxMi4zNzk4ODI4LDguMzk1NTA3OAoJCWwzMS4zNzc5Mjk3LDkwLjU4MTA1NDdsMjYuNjU0Mjk2OS00Ni4xNjYwMTU2YzEuNjU3MjI2Ni0yLjg3MTA5MzgsNC4zODc2OTUzLTQuOTY2MzA4Niw3LjU4OTg0MzgtNS44MjQyMTg4CgkJYzMuMjAzMTI1LTAuODU2OTMzNiw2LjYxNDI1NzgtMC40MDkxNzk3LDkuNDg1MzUxNiwxLjI0OTAyMzRsMjguODIxMjg5MSwxNi42NDA2MjUKCQlDNzU1LjE2MTEzMjgsNDk3Ljc4MDc2MTcsNzYxLjU3ODEyNSw0OTkuNSw3NjguMDgzMDA3OCw0OTkuNSw3NjguMDgzMDA3OCw0OTkuNWgxMjguNzAxMTcxOWM2LjkwMzMyMDMsMCwxMi41LDUuNTk2Njc5NywxMi41LDEyLjUKCQlzLTUuNTk2Njc5NywxMi41LTEyLjUsMTIuNUg3NjguMDgzMDA3OGMtMTAuODg2NzE4OCwwLTIxLjYyNTk3NjYtMi44NzY5NTMxLTMxLjA1NTY2NDEtOC4zMjEyODkxTDcxOS4wMzEyNSw1MDUuNzg4NTc0MgoJCWwtMzQuMDg0OTYwOSw1OS4wMzU2NDQ1Yy0yLjQ0NjI4OTEsNC4yMzYzMjgxLTcuMTM3Njk1Myw2LjY1ODIwMzEtMTIuMDExNzE4OCw2LjE5MzM1OTQKCQljLTQuODcxMDkzOC0wLjQ2Mzg2NzItOS4wMjM0Mzc1LTMuNzI4NTE1Ni0xMC42MjUtOC4zNTE1NjI1bC0yNi41MjI0NjA5LTc2LjU2NTkxOGwtMzAuMjAwMTk1MywxMjIuMDUwMjkzCgkJYy0xLjM4MjgxMjUsNS41OTA4MjAzLTYuMzk5NDE0MSw5LjQ5ODA0NjktMTIuMTMwODU5NCw5LjQ5ODA0NjljLTAuMTA5Mzc1LDAtMC4yMTk3MjY2LTAuMDAwOTc2Ni0wLjMzMTA1NDctMC4wMDM5MDYyCgkJYy01Ljg2NzE4NzUtMC4xNTQyOTY5LTEwLjgzNjkxNDEtNC4zNzAxMTcyLTExLjk0NjI4OTEtMTAuMTMzNzg5MWwtMjYuODI5MTAxNi0xMzkuNDAzMzIwM2wtMjkuMjE3NzczNCwxODUuNTU4NTkzOAoJCWMtMC45NTgwMDc4LDYuMDgzOTg0NC02LjIwMTE3MTksMTAuNTU1NjY0MS0xMi4zNDUyMTQ4DEwLjU1NTY2NDFjLTAuMDUwMjkzLDAtMC4xMDAwOTc3LDAtMC4xNTA4Nzg5LTAuMDAwOTc2NgoJCWMtNi4yMDg0OTYxLTAuMDczMjQyMi0xMS40MjE4NzUtNC42OTMzNTk0LTEyLjI0MjE4NzUtMTAuODQ4NjMyOGwtMjcuMDU3NjE3Mi0yMDMuMDgyNTE5NWwtMjguODAyNzM0NCwyNDkuNDM5OTQxNAoJCWMtMC43Mjg1MTU2LDYuMzEwNTQ2OS02LjA3MzI0MjIsMTEuMDY1NDI5Ny0xMi40MTYwMTU2LDExLjA2NjQwNjJjLTAuMDI4ODA4NiwwLTAuMDU2NjQwNiwwLTAuMDg1NDQ5MiwwCgkJYy02LjM4MDg1OTQtMC4wNDI5Njg4LTExLjcwNDU4OTgtNC44ODQ3NjU2LTEyLjM1MTU2MjUtMTEuMjMzMzk4NGwtMjcuMjA3NTE5NS0yNjcuMDM4NTc0MmwtMjguNTc3MTQ4NCwzMTMuNDgwOTU3CgkJYy0wLjU4NjkxNDEsNi40Mzk0NTMxLTUuOTg3NzkzLDExLjM2NDI1NzgtMTIuNDQ3MjY1NiwxMS4zNjUyMzQ0Yy0wLjAxODU1NDcsMC0wLjAzNjEzMjgsMC0wLjA1NDY4NzUsMAoJCWMtNi40ODQ4NjMzLTAuMDI4MzIwMy0xMS44NzEwOTM4LTUuMDA5NzY1Ni0xMi40MDM4MDg2LTExLjQ3MjY1NjJMMzIzLjYxMjc5Myw1NTkuNDY1ODIwM3YyMDguNjkxNDA2MgoJCWMwLDYuNTI1MzkwNi01LjAxOTUzMTIsMTEuOTUzMTI1LTExLjUyNDkwMjMsMTIuNDYxOTE0MUMzMTEuNzU3ODEyNSw3ODAuNjQ0NTMxMiwzMTEuNDI4MjIyNyw3ODAuNjU4MjAzMSwzMTEuMTAyMDUwOCw3ODAuNjU4MjAzMQoJCXoiLz4KPC9nPgo8ZyBpZD0iX3gyX19fX3gyMDEzX19MYXllciI+Cgk8cmVjdCB4PSIwIiB5PSItMC4wMDAwMDgiIHN0eWxlPSJmaWxsOiNGQUNDMTQ7IiB3aWR0aD0iMTI4Ljc4NDIyNTUiIGhlaWdodD0iMTAyNCIvPgoJCgk8cmVjdCB4PSI4OTYuNzg0MjQwNyIgeT0iLTAuMDAwMDA4IiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAtMS4yMjQ2NDdlLTE2IDEuMjI0NjQ3ZS0xNiAtMSAxOTIwLjc4NDE3OTcgMTAyNCkiIHN0eWxlPSJmaWxsOiNGQUNDMTQ7IiB3aWR0aD0iMTI3LjIxNTc4MjIiIGhlaWdodD0iMTAyNCIvPgo8L2c+CjxnIGlkPSJfeDNfX19feDIwMTNfX0xheWVyIj4KCTxwYXRoIGQ9Ik05NS41NzAzMTI1LDY1MS4wMDI5Mjk3Yy01LjE0MTExMzMsMC0xMC4wODkzNTU1LTIuODQxNzk2OS0xMi41Mzk1NTA4LTcuNzU0ODgyOGwtNjIuMzM0OTYwOS0xMjUKCQljLTEuOTYxNDI1OC0zLjkzNDU3MDMtMS45NjE0MjU4LTguNTYxNTIzNCwwLTEyLjQ5NTYwNTVsNjIuMzM0OTYwOS0xMjUKCQljMy40NTA2ODM2LTYuOTE5OTIxOSwxMS44NTc0MjE5LTkuNzMxOTMzNiwxOC43NzYzNjcyLTYuMjgxMjVjNi45MTk0MzM2LDMuNDUwNjgzNiw5LjczMTQ0NTMsMTE4LTYuMjgxMjUsMTguNzc2MzY3MgoJClM0OC44Njg2NTIzLDUxMmwtNTkuMjE5NzI2NiwxMTguNzUxOTUzMWMzLjQ1MDE5NTMsNi45MTk5MjE5LDAuNjM4MTgzNiwxNS4zMjYxNzE5LTYuMjgxMjUsMTguNzc2MzY3MgoJCUM5OS44MDEyNjk1LDY1MC41MjkyOTY5LDk3LjY2OTQzMzYsNjUxLjAwMjkyOTcsOTUuNTcwMzEyNSw2NTEuMDAyOTI5N3oiLz4KCTxwYXRoIGQ9Ik05MjkuMjEzODY3Miw2NTEuMDAyOTI5N2MtMi4wOTk2MDk0LDAtNC4yMzA0Njg4LTAuNDczNjMyOC02LjIzNzMwNDctMS40NzQ2MDk0CgkJYy02LjkxODk0NTMtMy40NTAxOTUzLTkuNzMxNDQ1My0xMS44NTY0NDUzLTYuMjgwMjczNC0xOC43NzYzNjcyTDk3NS45MTUwMzkxLDUxMmwtNTkuMjE4NzUtMTE4Ljc1MjQ0MTQKCQljLTMuNDUxMTcxOS02LjkxODk0NTMtMC42Mzg2NzE5LTE1LjMyNTY4MzYsNi4yODAyNzM0LTE4Ljc3NjM2NzJjNi45MTg5NDUzLTMuNDUwMTk1MywxNS4zMjYxNzE5LTAuNjM4NjcxOSwxOC43NzYzNjcyLDYuMjgxMjUKCQlsNjIuMzM0OTYwOSwxMjVjMS45NjE5MTQxMuOTM0MDgyLDEuOTYxOTE0MSw4LjU2MTAzNTIsMCwxMi40OTU2MDU1bC02Mi4zMzQ5NjA5LDEyNQoJCUM5MzkuMzAzNzEwOSw2NDguMTYxMTMyOCw5MzQuMzU0NDkyMiw2NTEuMDAyOTI5Nyw5MjkuMjEzODY3Miw2NTEuMDAyOTI5N3oiLz4KPC9nPgo8ZyBpZD0iQXBwX0ljb25fU2hhcGUiPgoJPGc+CgkJPHBhdGggZD0iTTAsMHYxMDI0aDEwMjRWMHl6IE0xMDIzLjk5OTkzOSw2NTAuOTk5OTM5YzAsMTQuMjQyNzM2OCwwLjAwNTkyMDQsMjguNDgzMjE1My0wLjA4NDA0NTQsNDIuNzI1OTUyMQoJCQljLTAuMDY4OTA4NywxMS45OTYzOTg5LTAuMjA3Mjc1NCwyMy45OTAxNzMzLTAuNTMyMzQ4NiwzNS45ODI5NzEyYy0wLjcwODMxMywyNi4xMzM2MDYtMi4yNDY0Niw1Mi40OTQwNzk2LTYuODkyMDg5OCw3OC4zMzc1ODU0CgkJCWMtNC43MTI3Njg2LDI2LjIxNzE2MzEtMTIuNDAzOTkxNyw1MC42MTc1NTM3LTI0LjUyODg2OTYsNzQuNDM3OTI3MgoJCQljLTExLjkxNzA1MzIsMjMuNDEyMTA5NC0yNy40ODkwMTM3LDQ0LjgzNjk3NTEtNDYuMDY1MTI0NSw2My40MTMwODU5cy00MC4wMDA5NzY2LDM0LjE0ODA3MTMtNjMuNDEzMDg1OSw0Ni4wNjUxMjQ1CgkJCWMtMjMuODIwMzczNSwxMi4xMjQ4Nzc5LTQ4LjIyMDcwMzEsMTkuODE2MDQtNzQuNDM3OTI3MiwyNC41Mjg4Njk2CgkJCWMtMjUuODQzNDQ0OCw0LjY0NTYyOTktNTIuMjAzOTc5NSw2LjE4Mzc3NjktNzguMzM3NTg1NCw2Ljg5MjA4OTgKCQkJYy0xMS45OTI3OTc5LDAuMzI1MDczMi0yMy45ODY1NzIzLDAuNDYzNDM5OS0zNS45ODI5MTAyLDAuNTMyMzQ4NgoJCQljLTE0LjI0MjczNjgsMC4wODk5NjU4LTI4LjQ4MzIxNTMsMC4wODM5ODQ0LTQyLjcyNTk1MjEsMC4wODM5ODQ0SDM3M2MtMTQuMjQyNzM2OCwwLTI4LjQ4MzIxNTMsMC4wMDU5ODE0LTQyLjcyNTk1MjEsLTAuMDgzOTg0NAoJCQljLTExLjk5NjMzNzktMC4wNjg5MDg3LTIzLjk5MDExMjMtMC4yMDcyNzU0LTM1OTgyOTEwMi0wLjUzMjM0ODZjLTI2LjEzMzYwNi0wLjcwODMxMy01Mi40OTQxNDA2LTIuMjQ2NDYtNzguMzM3NTg1NC02Ljg5MjA4OTgKCQkJYy0yNi4yMTcyMjQxLTQuNzEyODI5Ni01MC42MTc1NTM3LTEyLjQwMzk5MTctNzQuNDM3OTI3Mi0yNC41Mjg4Njk2CgkJCWMtMjMuNDEyMTA5NC0xMS45MTcwNTMyLTQ0LjgzNjk3NTEtMjcuNDg5MDEzNy02My40MTMwODU5LTQ2LjA2NTEyNDVzLTM0LjE0ODA3MTMtNDAuMDAwOTc2Ni00Ni4wNjUxMjQ1LTYzLjQxMzA4NTkKCQkJYy0xMi4xMjQ4Nzc5LTIzLjgyMDM3MzUtMTkuODE2MTAxMS00OC4yMjA3NjQyLTI0LjUyODg2OTYtNzQuNDM3OTI3MgoJCQljLTQuNjQ1NjI5OS0yNS44NDM1MDU5LTYuMTgzNzc2OS01Mi4yMDM5Nzk1LTYuODkyMDg5OC03OC4zMzc1ODU0CgkJCWMtMC4zMjUwNzMyLTExLjk5Mjc5NzktMC40NjM0Mzk5LTIzLjk4NjU3MjMtMC41MzIzNDg2LTM1OTgyOTEwMgoJCQljLTAuMDkwMDI2OS0xNC4yNDI3MzY4LTAuMDg0MDQ1NC0yOC40ODMyMTUzLTAuMDg0MDQ1NC00Mi43MjU5NTIxYzYuMjgxMjVsMTIuNzczOTI1OCw4MS4xMjY5NTMxVjI1NS44NDI3NzM0CgkJYzAtNi43MDM2MTMzLDUuMjg4MDg1OS0xMi4yMTM4NjcyLDExLjk4NTgzOTgtMTIuNDg5MjU3OGM2LjY5NDgyNDItMC4yODk1NTA4LDEyLjQyMDg5ODQsNC43ODEyNSwxMi45NzE2Nzk3LDExLjQ2MTkxNDEKCQlsMjguNDk5NTExNywzNDUuNTM1MTU2MmwyNy4yNjMxODM2LTI5OS4wNjgzNTk0YzAuNTg0NDcyNy02LjQxMTYyMTEsNS45NDMzNTk0LTExLjMzMTA1NDcsMTIuMzgxODM1OS0xMS4zNjUyMzQ0CgkJYzYuMzkzMDY2NC0wLjAyMDAxOTUsMTEuODQ5MTIxMSw0LjgyODEyNSwxMi41MDE5NTMxLDExLjIzMjkxMDJsMjguNjc1MjkzLDI4MS40NDY3NzczbDI3LjE0MDEzNjctMjM1LjA0MDAzOTEKCQljMC43MjM2MzI4LTYuMjY1MTM2Nyw2LjAwMDk3NjYtMTEuMDEwMjUzOSwxMi4zMDgxMDU1LTExLjA2NTQyOTdjNi4zMjEyODkxLTAuMDY2ODk0NSwxMS42NjY5OTIyLDQuNTk2Njc5NywxMi41LDEwLjg0ODYzMjgKCQlsMjguOTc1MDk3NywyMTcuNDcwNzAzMWwyNi45NTUwNzgxLTE3MS4xODk5NDE0YzAuOTQ0MzM1OS01Ljk5ODUzNTIsNi4wNjM0NzY2LTEwLjQ1MDY4MzYsMTIuMTM1NzQyMi0xMC41NTM3MTA5CgkJYzYuMDY5MzM1OS0wLjEzMTM0NzcsMTEuMzM4ODY3Miw0LjE3MjM2MzMsMTIuNDg2MzI4MSwxMC4xMzU3NDIyTDU5NC45Nzk0OTIyLDU0Ni45Mzc1bDI2LjY3MzgyODEtMTA3LjgwMDc4MTIKCQljMS4zMjkxMDE2LTUuMzc0MDIzNCw2LjAzNTE1NjItOS4yMzI5MTAyLDExLjU2NTQyOTctOS40ODQzNzVjNS41NDk4MDQ3LTAuMjQ3MDcwMywxMC41NjczODI4LDMuMTY0NTUwOCwxMi4zNzk4ODI4LDguMzk1NTA3OAoJCWwzMS4zNzc5Mjk3LDkwLjU4MTA1NDdsMjYuNjU0Mjk2OS00Ni4xNjYwMTU2YzEuNjU3MjI2Ni0yLjg3MTA5MzgsNC4zODc2OTUzLTQuOTY2MzA4Niw3LjU4OTg0MzgtNS44MjQyMTg4CgkJYzMuMjAzMTI1LTAuODU2OTMzNiw2LjYxNDI1NzgtMC40MDkxNzk3LDkuNDg1MzUxNiwxLjI0OTAyMzRsMjguODIxMjg5MSwxNi42NDA2MjUKCQlDNzU1LjE2MTEzMjgsNDk3Ljc4MDc2MTcsNzYxLjU3ODEyNSw0OTkuNSw3NjguMDgzMDA3OCw0OTkuNSw3NjguMDgzMDA3OCw0OTkuNWgxMjguNzAxMTcxOWM2LjkwMzMyMDMsMCwxMi41LDUuNTk2Njc5NywxMi41LDEyLjUKCQlzLTUuNTk2Njc5NywxMi41LTEyLjUsMTIuNUg3NjguMDgzMDA3OGMtMTAuODg2NzE4OCwwLTIxLjYyNTk3NjYtMi44NzY5NTMxLTMxLjA1NTY2NDEtOC4zMjEyODkxTDcxOS4wMzEyNSw1MDUuNzg4NTc0MgoJCWwtMzQuMDg0OTYwOSw1OS4wMzU2NDQ1Yy0yLjQ0NjI4OTEsNC4yMzYzMjgxLTcuMTM3Njk1Myw2LjY1ODIwMzEtMTIuMDExNzE4OCw2LjE5MzM1OTQKCQljLTQuODcxMDkzOC0wLjQ2Mzg2NzItOS4wMjM0Mzc1LTMuNzI4NTE1Ni0xMC42MjUtOC4zNTE1NjI1bC0yNi41MjI0NjA5LTc2LjU2NTkxOGwtMzAuMjAwMTk1MywxMjIuMDUwMjkzCgkJYy0xLjM4MjgxMjUsNS41OTA4MjAzLTYuMzk5NDE0MSw5LjQ5ODA0NjktMTIuMTMwODU5NCw5LjQ5ODA0NjljLTAuMTA5Mzc1LDAtMC4yMTk3MjY2LTAuMDAwOTc2Ni0wLjMzMTA1NDctMC4wMDM5MDYyCgkJYy01Ljg2NzE4NzUtMC4xNTQyOTY5LTEwLjgzNjkxNDEtNC4zNzAxMTcyLTExLjk0NjI4OTEtMTAuMTMzNzg5MWwtMjYuODI5MTAxNi0xMzkuNDAzMzIwM2wtMjkuMjE3NzczNCwxODUuNTU4NTkzOAoJCWMtMC45NTgwMDc4LDYuMDgzOTg0NC02LjIwMTE3MTksMTAuNTU1NjY0MS0xMi4zNDUyMTQ4DEwLjU1NTY2NDFjLTAuMDUwMjkzLDAtMC4xMDAwOTc3LDAtMC4xNTA4Nzg5LTAuMDAwOTc2NgoJCWMtNi4yMDg0OTYxLTAuMDczMjQyMi0xMS40MjE4NzUtNC42OTMzNTk0LTEyLjI0MjE4NzUtMTAuODQ4NjMyOGwtMjcuMDU3NjE3Mi0yMDMuMDgyNTE5NWwtMjguODAyNzM0NCwyNDkuNDM5OTQxNAoJCWMtMC43Mjg1MTU2LDYuMzEwNTQ2OS02LjA3MzI0MjIsMTEuMDY1NDI5Ny0xMi40MTYwMTU2LDExLjA2NjQwNjJjLTAuMDI4ODA4NiwwLTAuMDU2NjQwNiwwLTAuMDg1NDQ5MiwwCgkJYy02LjM4MDg1OTQtMC4wNDI5Njg4LTExLjcwNDU4OTgtNC44ODQ3NjU2LTEyLjM1MTU2MjUtMTEuMjMzMzk4NGwtMjcuMjA3NTE5NS0yNjcuMDM4NTc0MmwtMjguNTc3MTQ4NCwzMTMuNDgwOTU3CgkJYy0wLjU4NjkxNDEsNi40Mzk0NTMxLTUuOTg3NzkzLDExLjM2NDI1NzgtMTIuNDQ3MjY1NiwxMS4zNjUyMzQ0Yy0wLjAxODU1NDcsMC0wLjAzNjEzMjgsMC0wLjA1NDY4NzUsMAoJCWMtNi40ODQ4NjMzLTAuMDI4MzIwMy0xMS44NzEwOTM4LTUuMDA5NzY1Ni0xMi40MDM4MDg2LTExLjQ3MjY1NjJMMzIzLjYxMjc5Myw1NTkuNDY1ODIwM3YyMDguNjkxNDA2MgoJCWMwLDYuNTI1MzkwNi01LjAxOTUzMTIsMTEuOTUzMTI1LTExLjUyNDkwMjMsMTIuNDYxOTE0MUMzMTEuNzU3ODEyNSw3ODAuNjQ0NTMxMiwzMTEuNDI4MjIyNyw3ODAuNjU4MjAzMSwzMTEuMTAyMDUwOCw3ODAuNjU4MjAzMQoJCXoiLz4KPC9nPgo8L3N2Zz4K" />

    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI3LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAyNCAxMDI0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+Cjx1YXR0ZXJuICB3aWR0aD0iODIuMDc4MDk0NSIgaGVpZ2h0PSI4Mi4wNzg1OTgiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIGlkPSJVbm5hbWVkX1BhdHRlcm5fMSIgdmlld0JveD0iNDMuNzkzNDk5IC04Ny43Nzc4MDE1IDgyLjA3ODA5NDUgODIuMDc4NTk4IiBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiPgoJPGc+CgkJPHJlY3QgeD0iNDMuNzkzNDk5IiB5PSItODcuNzc3ODAxNSIgc3R5bGU9ImZpbGw6bm9uZTsiIHdpZHRoPSI4Mi4wNzgwOTQ1IiBoZWlnaHQ9IjgyLjA3ODU5OCIvPgoJCTxyZWN0IHg9IjQzLjc5MzQ5OSIgeT0iLTg3Ljc3NzgwMTUiIHN0eWxlPSJmaWxsOiNCQ0JFQzA7IiB3aWR0aD0iODIuMDc4MDk0NSIgaGVpZ2h0PSI4Mi4wNzg1OTgiLz4KCQk8bGluZSBzdHlsZT0iZmlsbDojRkZGRkZGOyIgeDE9IjI1LjkzNDA5OTIiIHkxPSItMTAuMjU5OCIgeDI9IjMwLjQ5MjcwMDYiIHkyPSItNS42OTkyMDAyIi8+CgkJPGxpbmUgc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHgxPSIyNS45MzQwOTkyIiB5MT0iLTUuNjk5MjAwMiIgeDI9IjMwLjQ5MjcwMDYiIHkyPSItMTAuMjU5OCIvPgoJCTxyZWN0IHg9IjM4LjA5NDIwMDEiIHk9Ii00Ny44NzgzOTg5IiBzdHlsZT0iZmlsbDojODA4Mjg1OyIgd2lkdGg9IjkxLjE5NzI5NjEiIGhlaWdodD0iNC41NTk5OTk5Ii8+CgkJPHJlY3QgeD0iMzguMDk0MjAwMSIgeT0iLTIwLjUxOTUwMDciIHN0eWxlPSJmaWxsOiM4MDgyODU7IiB3aWR0aD0iOTEuMTk3Mjk2MSIgaGVpZ2h0PSI0LjU2MDUwMDEiLz4KCQk8cmVjdCB4PSIzOC4wOTQyMDAxIiB5PSItNzUuMjM3ODAwNiIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI5MS4xOTcyOTYxIiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjM4LjA5NDIwMDEiIHk9Ii01Ni45OTg1MDA4IiBzdHlsZT0iZmlsbDojODA4Mjg1OyIgd2lkdGg9IjkxLjE5NzI5NjEiIGhlaWdodD0iNC41NTk1MDAyIi8+CgkJPHJlY3QgeD0iMzguMDk0MjAwMSIgeT0iLTI5LjYzODcwMDUiIHN0eWxlPSJmaWxsOiM4MDgyODU7IiB3aWR0aD0iOTEuMTk3Mjk2MSIgaGVpZ2h0PSI0LjU2MDU5OTgiLz4KCQk8cmVjdCB4PSIzOC4wOTQyMDAxIiB5PSItODQuMzU3OTAyNSIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI5MS4xOTcyOTYxIiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjE2LjgxMjk5OTciIHk9Ii03NS4yMzc4MDA2IiBzdHlsZT0iZmlsbDojQTdBOUFDOyIgd2lkdGg9IjkuMTIxMTAwNCIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSI4MS40MTI1OTc3IiB5PSItOTEuMTk3Nzk5NyIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI0LjU2MDUwMDEiIGhlaWdodD0iOTEuMTk3Nzk5NyIvPgoJCTxyZWN0IHg9IjEwOC43NzIwMDMyIiB5PSItOT.MTk3Nzk5NyIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI0LjU2MDQ5NzMiIGhlaWdodD0iOTEuMTk3Nzk5NyIvPgoJCTxyZWN0IHg9IjU0LjA1MzE5OTgiIHk9Ii05MS4xOTc3OTk3IiBzdHlsZT0iZmlsbDojODA4Mjg1OyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI5MS4xOTc3OTk3Ii8+CgkJPHJlY3QgeD0iOTAuNTMxNzAwMSIgeT0iLTkxLjE5Nzc5OTciIHN0eWxlPSJmaWxsOiM4MDgyODU7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjkxLjE5Nzc5OTciLz4KCQk8cmVjdCB4PSIxMTcuODkxMDk4IiB5PSItOTEuMTk3Nzk5NyIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI0LjU2MDU5OTgiIGhlaWdodD0iOTEuMTk3Nzk5NyIvPgoJCTxyZWN0IHg9IjYzLjE3MjQwMTQiIHk9Ii05MS4xOTc3OTk3IiBzdHlsZT0iZmlsbDojODA4Mjg1OyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI5MS4xOTc3OTk3Ii8+CgkJPHJlY3QgeD0iMTAuNzM0OTAwNSIgeT0iLTg1Ljg3NzQwMzMiIHN0eWxlPSJmaWxsOiNBN0E5QUM7IiB3aWR0aD0iNC41NTg1OTk5IiBoZWlnaHQ9IjkuMTE5MDk5NiIvPgoJCQoJCQk8bGluZSBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMjMxRjIwO3N0cm9rZS13aWR0aDowLjk1O3N0cm9rZS1saW5lY2FwOnNxdWFyZTsiIHgxPSI0Mi45ODY4MDExIiB5MT0iLTM2LjQ3ODUwMDQiIHgyPSIxMjYuNjMxMjk0MyIgeTI9Ii0zNi40Nzg1MDA0Ii8+CgkJCgkJCTxsaW5lIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMyMzFGMjA7c3Ryb2tlLXdpZHRoOjAuOTU7c3Ryb2tlLWxpbmVjYXA6c3F1YXJlOyIgeDE9IjQyLjk4NjgwMTEiIHkxPSItOS4xMTkwOTk2IiB4Mj0iMTI2LjYzMTI5NDMiIHkyPSItOS4xMTkwOTk2Ii8+CgkJCgkJCTxsaW5lIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMyMzFGMjA7c3Ryb2tlLXdpZHRoOjAuOTU7c3Ryb2tlLWxpbmVjYXA6c3F1YXJlOyIgeDE9IjQyLjk4NjgwMTEiIHkxPSItNjMuODM4NDAxOCIgeDI9IjEyNi42MzEyOTQzIiB5Mj0iLTYzLjgzODQwMTgiLz4KCQkKCQkJPGxpbmUgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzIzMUYyMDtzdHJva2Utd2lkdGg6MC45NTtzdHJva2UtbGluZWNhcDpzcXVhcmU7IiB4MT0iMC40NzUxIiB5MT0iLTYzLjgzODQwMTgiIHgyPSIzMS4yNTQ0MDAzIiB5Mj0iLTYzLjgzODQwMTgiLz4KCQkKCQkJPGxpbmUgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzIzMUYyMDtzdHJva2Utd2lkdGg6MC45NTtzdHJva2UtbGluZWNhcDpzcXVhcmU7IiB4MT0iNzQuNTcyNzk5NyIgeTE9Ii04OC41Mzc1OTc3IiB4Mj0iNzQuNTcyNzk5NyIgeTI9Ii00Ljg5MjYwMDEiLz4KCQkKCQkJPGxpbmUgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzIzMUYyMDtzdHJva2Utd2lkdGg6MC45NTtzdHJva2UtbGluZWNhcDpzcXVhcmU7IiB4MT0iMTAxLjkzMjA5ODQiIHkxPSItODguNTM3NTk3NyIgeDI9IjEwMS45MzIwOTg0IiB5Mj0iLTQuODkyNjAwMSIvPgoJCQoJCQk8bGluZSBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMjMxRjIwO3N0cm9rZS13aWR0aDowLjk1O3N0cm9rZS1saW5lY2FwOnNxdWFyZTsiIHgxPSI0Ny4yMTM0MDE4IiB5MT0iLTg4LjUzNzU5NzciIHgyPSI0Ny4yMTM0MDE4IiB5Mj0iLTQuODkyNjAwMSIvPgoJCQoJCQk8bGluZSBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMjMxRjIwO3N0cm9rZS13aWR0aDowLjk1O3N0cm9rZS1saW5lY2FwOnNxdWFyZTsiIHgxPSIzLjg5MzEiIHkxPSItOTEuMTk3Nzk5NyIgeDI9IjMuODkzMSIgeTI9Ii02MC40MTg0OTkiLz4KCQk8cmVjdCB4PSIxMC43MzQ5MDA1IiB5PSItNzUuMjM3ODAwNiIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU1ODU5OTkiIGhlaWdodD0iNC41NTk1OTk5Ii8+CgkJPHJlY3QgeD0iNTQuMDUzMTk5OCIgeT0iLTc1LjIzNzgwMDYiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjYzLjE3MjQwMTQiIHk9Ii04NC4zNTc5MDI1IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSI2My4xNzI0MDE0IiB5PSItNzUuMjM3ODAwNiIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDUwMDEiIGhlaWdodD0iNC41NTk1OTk5Ii8+CgkJPHJlY3QgeD0iNTQuMDUzMTk5OCIgeT0iLTg0LjM1NzkwMjUiIHN0eWxlPSJmaWxsOiM4MDgyODU7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjgxLjQxMjU5NzciIHk9Ii03NS4yMzc4MDA2IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSI5MC41MzE3MDAxIiB5PSItODQuMzU3OTAyNSIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDU5OTgiIGhlaWdodD0iNC41NTk1OTk5Ii8+CgkJPHJlY3QgeD0iOTAuNTMxNzAwMSIgeT0iLTc1LjIzNzgwMDYiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjgxLjQxMjU5NzciIHk9Ii04NC4zNTc5MDI1IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSIxMDguNzcyMDAzMiIgeT0iLTc1LjIzNzgwMDYiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA0OTczIiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjExNy44OTEwOTgiIHk9Ii04NC4zNTc5MDI1IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSIxMTcuODkxMDk4IiB5PSItNzUuMjM3ODAwNiIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDU5OTgiIGhlaWdodD0iNC41NTk1OTk5Ii8+CgkJPHJlY3QgeD0iMTA4Ljc3MjAwMzIiIHk9Ii04NC4zNTc5MDI1IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNDk3MyIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSI1NC4wNTMzMTk5OCIgeT0iLTQ3Ljg3ODM5ODkiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5OTk5OSIvPgoJCTxyZWN0IHg9IjYzLjE3MjQwMTQiIHk9Ii01Ni45OTg1MDA4IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU1OTUwMDIiLz4KCQk8cmVjdCB4PSI2My4xNzI0MDE0IiB5PSItNDcuODc4Mzk4OSIgc3R5bGU9ImZpbGw6IzNENEQ0RjsiIHdpZHRoPSI0LjU2MDUwMDEiIGhlaWdodD0iNC41NTk5OTk5Ii8+CgkJPHJlY3QgeD0iNTQuMDUzMTk5OCIgeT0iLTU2Ljk5ODUwMDgiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5NTAwMiIvPgoJCTxyZWN0IHg9IjgxLjQxMjU5NzciIHk9Ii00Ny44NzgzOTg5IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU1OTk5OTkiLz4KCQk8cmVjdCB4PSI5MC41MzE3MDAxIiB5PSItNTYuOTk4NTAwOCIgc3R5bGU9ImZpbGw6IzNENEQ0Rjsigd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU1OTUwMDIiLz4KCQk8cmVjdCB4PSI5MC41MzE3MDAxIiB5PSItNDcuODc4Mzk4OSIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDU5OTgiIGhlaWdodD0iNC41NTk5OTk5Ii8+CgkJPHJlY3QgeD0iODEuNDEyNTk3NyIgeT0iLTU2Ljk5ODUwMDgiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1MDAxIiBoZWlnaHQ9IjQuNTU5NTAwMiIvPgoJCTxyZWN0IHg9IjEwOC43NzIwMDMyIiB5PSItNDcuODc4Mzk4OSIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDQ5NzMiIGhlaWdodD0iNC41NTk5OTk5Ii8+CgkJPHJlY3QgeD0iMTE3Ljg5MTA5OCIgeT0iLTU2Ljk5ODUwMDgiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5NTAwMiIvPgoJCTxyZWN0IHg9IjExNy44OTEwOTgiIHk9Ii00Ny44NzgzOTg5IiBzdHlsZT0iZmlsbDojM2Q0RDRGOyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU1OTk5OTkiLz4KCQk8cmVjdCB4PSIxMDguNzcyMDAzMiIgeT0iLTU2Ljk5ODUwMDgiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA0OTczIiBoZWlnaHQ9IjQuNTU5NTAwMiIvPgoJCTxyZWN0IHg9IjU0LjA1MzE5OTgiIHk9Ii0yMC41MTk1MDA3IiBzdHlsZT0iZmlsbDojM2Q0RDRGOyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU2MDUwMDEiLz4KCQk8cmVjdCB4PSI2My4xNzI0MDE0IiB5PSIyOS42Mzg3MDA1IiBzdHlsZT0iZmlsbDojM2Q0RDRGOyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU2MDU5OTkiLz4KCQk8cmVjdCB4PSI2My4xNzI0MDE0IiB5PSItMjAuNTE5NTAwNyIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI0LjU2MDUwMDEiIGhlaWdodD0iNC41NjA1MDAxIi8+CgkJPHJlY3QgeD0iNTQuMDUzMTk5OCIgeT0iMjkuNjM4NzAwNSIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDU5OTgiIGhlaWdodD0iNC41NjA1OTk5Ii8+CgkJPHJlY3QgeD0iODEuNDEyNTk3NyIgeT0iLTIwLjUxOTUwMDciIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1MDAxIiBoZWlnaHQ9IjQuNTU2MDUwMDEiLz4KCQk8cmVjdCB4PSI5MC41MzE3MDAxIiB5PSIyOS42Mzg3MDA1IiBzdHlsZT0iZmlsbDojODA4Mjg1OyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU2MDU5OTgiLz4KCQk8cmVjdCB4PSI5MC41MzE3MDAxIiB5PSItMjAuNTE5NTAwNyIgc3R5bGU9ImZpbGw6IzNENEQ0Rjsigd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU2MDUwMDEiLz4KCQk8cmVjdCB4PSI4MS40MTI1OTc3IiB5PSIyOS42Mzg3MDA1IiBzdHlsZT0iZmlsbDojM2Q0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU2MDU5OTkiLz4KCQk8cmVjdCB4PSIxMDguNzcyMDAzMiIgeT0iLTIwLjUxOTUwMDciIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA0OTczIiBoZWlnaHQ9IjQuNTYwNTAwMSIvPgoJCTxyZWN0IHg9IjExNy44OTEwOTgiIHk9IjI5LjYzODcwMDUiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTYwNTk5OCIvPgoJCTxyZWN0IHg9IjExNy44OTEwOTgiIHk9Ii0yMC41MTk1MDA3IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU2MDUwMDEiLz4KCQk8cmVjdCB4PSIxMDguNzcyMDAzMiIgeT0iLTI5LjYzODcwMDUiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA0OTczIiBoZWlnaHQ9IjQuNTYwNTk5OCIvPgoJPC9nPgo8L3BhdHRlcm4+CjxnIGlkPSJCYWNrZ3JvdW5kIj4KCQoKCQk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lkXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjEzNy4wODcxNDI5IiB5MT0iMTAuMDUwNTU2MiIgeDI9Ijg4OC43MDY2MDQiIHkyPSIxMDE2LjM1MDk1MjEiPgoJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiMxRkNCRTciLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjUiIHN0eWxlPSJzdG9wLWNvbG9yOiM3ODgxRUYiLz4KCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojQ0M1RERDIi8+Cgk8L2xpbmVhckdyYWRpZW50PgoJPHJlY3Qgc3R5bGU9ImZpbGw6dXJsKCNTVkdJZF8xXyk7IiB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0Ii8+Cgk8ZyBpZD0iQXJyb3dfMjUiPgoJPC9nPgoJPGcgaWQ9IkFycm93XzIiPgoJPC9nPgo8L2c+CjxnIGlkPSJfeDMxX19fX3gyMDEzX19MYXllciI+Cgk8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTMxMS4xMDIwNTA4LDc4MC42NTgyMDMxYy02LjA5NzE2OCwwLTExLjM3MzUzNTItNC40Mzg0NzY2LTEyLjMzNjkxNDEtMTAuNTU2NjQwNgoJCWwtMzcuNjIyNTU4Ni0yMzguOTMxNjQwNkMyNjAuNTM0NjY4LDUyNy4zMDQ2ODc1LDI1Ny4yNTM0MTgsNTI0LjUsMjUzLjM0MDgyMDMsNTI0LjVIMTI4Ljc4NDE3OTcKCQljLTYuOTAzMzIwMywwLTEyLjUtNS41OTY2Nzk3LTEyLjUtMTIuNXM1LjU5NjY3OTctMTIuNSwxMi41LTEyLjVoMTI0LjU1NjY0MDYKCQljMTYuMjk2Mzg2NywwLDI5Ljk2MzM3ODksMTEuNjg0MDgyLDMyLjQ5ODA0NjksMjcuNzgxMjVsMTIuNzczOTI1OCw4MS4xMjY5NTMxVjI1NS44NDI3NzM0CgkJYzAtNi43MDM2MTMzLDUuMjg4MDg1OS0xMi4yMTM4NjcyLDExLjk4NTgzOTgtMTIuNDg5MjU3OGM2LjY5NDgyNDItMC4yODk1NTA4LDEyLjQyMDg5ODQsNC43ODEyNSwxMi45NzE2Nzk3LDExLjQ2MTkxNDEKCQlsMjguNDk5NTExNywzNDUuNTM1MTU2MmwyNy4yNjMxODM2LTI5OS4wNjgzNTk0YzAuNTg0NDcyNy02LjQxMTYyMTEsNS45NDMzNTk0LTExLjMzMTA1NDcsMTIuMzgxODM1OS0xMS4zNjUyMzQ0CgkJYzYuMDY5MzM1OS0wLjAyMDAxOTUsMTEuODQ5MTIxMSw0LjgyODEyNSwxMi41MDE5NTMxLDExLjIzMjkxMDJsMjguNjc1MjkzLDI4MS40NDY3NzczbDI3LjE0MDEzNjctMjM1LjA0MDAzOTEKCQljMC43MjM2MzI4LTYuMjY1MTM2Nyw2LjAwMDk3NjYtMTEuMDEwMjUzOSwxMi4zMDgxMDU1LTExLjA2NTQyOTdjNi4zMjEyODkxLTAuMDY2ODk0NSwxMS42NjY5OTIyLDQuNTk2Njc5NywxMi41LDEwLjg0ODYzMjgKCQlsMjguOTc1MDk3NywyMTcuNDcwNzAzMWwyNi45NTUwNzgxLTE3MS4xODk5NDE0YzAuOTQ0MzM1OS01Ljk5ODUzNTIsNi4wNjM0NzY2LTEwLjQ1MDY4MzYsMTIuMTM1NzQyMi0xMC41NTM3MTA5CgkJYzYuMDY5MzM1OS0wLjEzMTM0NzcsMTEuMzM4ODY3Miw0LjE3MjM2MzMsMTIuNDg2MzI4MSwxMC4xMzU3NDIyTDU5NC45Nzk0OTIyLDU0Ni45Mzc1bDI2LjY3MzgyODEtMTA3LjgwMDc4MTIKCQljMS4zMjkxMDE2LTUuMzc0MDIzNCw2LjAzNTE1NjItOS4yMzI5MTAyLDExLjU2NTQyOTctOS40ODQzNzVjNS41NDk4MDQ3LTAuMjQ3MDcwMywxMC41NjczODI4LDMuMTY0NTUwOCwxMi4zNzk4ODI4LDguMzk1NTA3OAoJCWwzMS4zNzc5Mjk3LDkwLjU4MTA1NDdsMjYuNjU0Mjk2OS00Ni4xNjYwMTU2YzEuNjU3MjI2Ni0yLjg3MTA5MzgsNC4zODc2OTUzLTQuOTY2MzA4Niw3LjU4OTg0MzgtNS44MjQyMTg4CgkJYzMuMjAzMTI1LTAuODU2OTMzNiw2LjYxNDI1NzgtMC40MDkxNzk3LDkuNDg1MzUxNiwxLjI0OTAyMzRsMjguODIxMjg5MSwxNi42NDA2MjUKCQlDNzU1LjE2MTEzMjgsNDk3Ljc4MDc2MTcsNzYxLjU3ODEyNSw0OTkuNSw3NjguMDgzMDA3OCw0OTkuNSw3NjguMDgzMDA3OCw0OTkuNWgxMjguNzAxMTcxOWM2LjkwMzMyMDMsMCwxMi41LDUuNTk2Njc5NywxMi41LDEyLjUKCQlzLTUuNTk2Njc5NywxMi41LTEyLjUsMTIuNUg3NjguMDgzMDA3OGMtMTAuODg2NzE4OCwwLTIxLjYyNTk3NjYtMi44NzY5NTMxLTMxLjA1NTY2NDEtOC4zMjEyODkxTDcxOS4wMzEyNSw1MDUuNzg4NTc0MgoJCWwtMzQuMDg0OTYwOSw1OS4wMzU2NDQ1Yy0yLjQ0NjI4OTEsNC4yMzYzMjgxLTcuMTM3Njk1Myw2LjY1ODIwMzEtMTIuMDExNzE4OCw2LjE5MzM1OTQKCQljLTQuODcxMDkzOC0wLjQ2Mzg2NzItOS4wMjM0Mzc1LTMuNzI4NTE1Ni0xMC42MjUtOC4zNTE1NjI1bC0yNi41MjI0NjA5LTc2LjU2NTkxOGwtMzAuMjAwMTk1MywxMjIuMDUwMjkzCgkJYy0xLjM4MjgxMjUsNS41OTA4MjAzLTYuMzk5NDE0MSw5LjQ5ODA0NjktMTIuMTMwODU5NCw5LjQ5ODA0NjljLTAuMTA5Mzc1LDAtMC4yMTk3MjY2LTAuMDAwOTc2Ni0wLjMzMTA1NDctMC4wMDM5MDYyCgkJYy01Ljg2NzE4NzUtMC4xNTQyOTY5LTEwLjgzNjkxNDEtNC4zNzAxMTcyLTExLjk0NjI4OTEtMTAuMTMzNzg5MWwtMjYuODI5MTAxNi0xMzkuNDAzMzIwM2wtMjkuMjE3NzczNCwxODUuNTU4NTkzOAoJCWMtMC45NTgwMDc4LDYuMDgzOTg0NC02LjIwMTE3MTksMTAuNTU1NjY0MS0xMi4zNDUyMTQ4DEwLjU1NTY2NDFjLTAuMDUwMjkzLDAtMC4xMDAwOTc3LDAtMC4xNTA4Nzg5LTAuMDAwOTc2NgoJCWMtNi4yMDg0OTYxLTAuMDczMjQyMi0xMS40MjE4NzUtNC42OTMzNTk0LTEyLjI0MjE4NzUtMTAuODQ4NjMyOGwtMjcuMDU3NjE3Mi0yMDMuMDgyNTE5NWwtMjguODAyNzM0NCwyNDkuNDM5OTQxNAoJCWMtMC43Mjg1MTU2LDYuMzEwNTQ2OS02LjA3MzI0MjIsMTEuMDY1NDI5Ny0xMi40MTYwMTU2LDExLjA2NjQwNjJjLTAuMDI4ODA4NiwwLTAuMDU2NjQwNiwwLTAuMDg1NDQ5MiwwCgkJYy02LjM4MDg1OTQtMC4wNDI5Njg4LTExLjcwNDU4OTgtNC44ODQ3NjU2LTEyLjM1MTU2MjUtMTEuMjMzMzk4NGwtMjcuMjA3NTE5NS0yNjcuMDM4NTc0MmwtMjguNTc3MTQ4NCwzMTMuNDgwOTU3CgkJYy0wLjU4NjkxNDEsNi40Mzk0NTMxLTUuOTg3NzkzLDExLjM2NDI1NzgtMTIuNDQ3MjY1NiwxMS4zNjUyMzQ0Yy0wLjAxODU1NDcsMC0wLjAzNjEzMjgsMC0wLjA1NDY4NzUsMAoJCWMtNi40ODQ4NjMzLTAuMDI4MzIwMy0xMS44NzEwOTM4LTUuMDA5NzY1Ni0xMi40MDM4MDg2LTExLjQ3MjY1NjJMMzIzLjYxMjc5Myw1NTkuNDY1ODIwM3YyMDguNjkxNDA2MgoJCWMwLDYuNTI1MzkwNi01LjAxOTUzMTIsMTEuOTUzMTI1LTExLjUyNDkwMjMsMTIuNDYxOTE0MUMzMTEuNzU3ODEyNSw3ODAuNjQ0NTMxMiwzMTEuNDI4MjIyNyw3ODAuNjU4MjAzMSwzMTEuMTAyMDUwOCw3ODAuNjU4MjAzMQoJCXoiLz4KPC9nPgo8ZyBpZD0iX3gyX19fX3gyMDEzX19MYXllciI+Cgk8cmVjdCB4PSIwIiB5PSItMC4wMDAwMDgiIHN0eWxlPSJmaWxsOiNGQUNDMTQ7IiB3aWR0aD0iMTI4Ljc4NDIyNTUiIGhlaWdodD0iMTAyNCIvPgoJCgk8cmVjdCB4PSI4OTYuNzg0MjQwNyIgeT0iLTAuMDAwMDA4IiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAtMS4yMjQ2NDdlLTE2IDEuMjI0NjQ3ZS0xNiAtMSAxOTIwLjc4NDE3OTcgMTAyNCkiIHN0eWxlPSJmaWxsOiNGQUNDMTQ7IiB3aWR0aD0iMTI3LjIxNTc4MjIiIGhlaWdodD0iMTAyNCIvPgo8L2c+CjxnIGlkPSJfeDNfX19feDIwMTNfX0xheWVyIj4KCTxwYXRoIGQ9Ik05NS41NzAzMTI1LDY1MS4wMDI5Mjk3Yy01LjE0MTExMzMsMC0xMC4wODkzNTU1LTIuODQxNzk2OS0xMi41Mzk1NTA4LTcuNzU0ODgyOGwtNjIuMzM0OTYwOS0xMjUKCQljLTEuOTYxNDI1OC0zLjkzNDU3MDMtMS45NjE0MjU4LTguNTYxNTIzNCwwLTEyLjQ5NTYwNTVsNjIuMzM0OTYwOS0xMjUKCQljMy40NTA2ODM2LTYuOTE5OTIxOSwxMS44NTc0MjE5LTkuNzMxOTMzNiwxOC43NzYzNjcyLTYuMjgxMjVjNi45MTk0MzM2LDMuNDUwNjgzNiw5LjczMTQ0NTMsMTE4LTYuMjgxMjUsMTguNzc2MzY3MgoJClM0OC44Njg2NTIzLDUxMmwtNTkuMjE5NzI2NiwxMTguNzUxOTUzMWMzLjQ1MDE5NTMsNi45MTk5MjE5LDAuNjM4MTgzNiwxNS4zMjYxNzE5LTYuMjgxMjUsMTguNzc2MzY3MgoJCUM5OS44MDEyNjk1LDY1MC41MjkyOTY5LDk3LjY2OTQzMzYsNjUxLjAwMjkyOTcsOTUuNTcwMzEyNSw2NTEuMDAyOTI5N3oiLz4KCTxwYXRoIGQ9Ik05MjkuMjEzODY3Miw2NTEuMDAyOTI5N2MtMi4wOTk2MDk0LDAtNC4yMzA0Njg4LTAuNDczNjMyOC02LjIzNzMwNDctMS40NzQ2MDk0CgkJYy02LjkxODk0NTMtMy40NTAxOTUzLTkuNzMxNDQ1My0xMS44NTY0NDUzLTYuMjgwMjczNC0xOC43NzYzNjcyTDk3NS45MTUwMzkxLDUxMmwtNTkuMjE4NzUtMTE4Ljc1MjQ0MTQKCQljLTMuNDUxMTcxOS02LjkxODk0NTMtMC42Mzg2NzE5LTE1LjMyNTY4MzYsNi4yODAyNzM0LTE4Ljc3NjM2NzJjNi45MTg5NDUzLTMuNDUwMTk1MywxNS4zMjYxNzE5LTAuNjM4NjcxOSwxOC43NzYzNjcyLDYuMjgxMjUKCQlsNjIuMzM0OTYwOSwxMjVjMS45NjE5MTQxLDMuOTM0MDgyLDEuOTYxOTE0MSw4LjU2MTAzNTIsMCwxMi40OTU2MDU1bC02Mi4zMzQ5NjA5LDEyNQoJCUM5MzkuMzAzNzEwOSw2NDguMTYxMTMyOCw5MzQuMzU0NDkyMiw2NTEuMDAyOTI5Nyw5MjkuMjEzODY3Miw2NTEuMDAyOTI5N3oiLz4KPC9nPgo8ZyBpZD0iQXBwX0ljb25fU2hhcGUiPgoJPGc+CgkJPHBhdGggZD0iTTAsMHYxMDI0aDEwMjRWMHl6IE0xMDIzLjk5OTkzOSw2NTAuOTk5OTM5YzAsMTQuMjQyNzM2OCwwLjAwNTkyMDQsMjguNDgzMjE1My0wLjA4NDA0NTQsNDIuNzI1OTUyMQoJCQljLTAuMDY4OTA4NywxMS45OTYzOTg5LTAuMjA3Mjc1NCwyMy45OTAxNzMzLTAuNTMyMzQ4NiwzNS45ODI5NzEyYy0wLjcwODMxMywyNi4xMzM2MDYtMi4yNDY0Niw1Mi40OTQwNzk2LTYuODkyMDg5OCw3OC4zMzc1ODU0CgkJCWMtNC43MTI3Njg2LDI2LjIxNzE2MzEtMTIuNDAzOTkxNyw1MC42MTc1NTM3LTI0LjUyODg2OTYsNzQuNDM3OTI3MgoJCQljLTExLjkxNzA1MzIsMjMuNDEyMTA5NC0yNy40ODkwMTM3LDQ0LjgzNjk3NTEtNDYuMDY1MTI0NSw2My40MTMwODU5cy00MC4wMDA5NzY2LDM0LjE0ODA3MTMtNjMuNDEzMDg1OSw0Ni4wNjUxMjQ1CgkJCWMtMjMuODIwMzczNSwxMi4xMjQ4Nzc5LTQ4LjIyMDcwMzEsMTkuODE2MDQtNzQuNDM3OTI3MiwyNC41Mjg4Njk2CgkJCWMtMjUuODQzNDQ0OCw0LjY0NTYyOTktNTIuMjAzOTc5NSw2LjE4Mzc3NjktNzguMzM3NTg1NCw2Ljg5MjA4OTgKCQkJYy0xMS45OTI3OTc5LDAuMzI1MDczMi0yMy45ODY1NzIzLDAuNDYzNDM5OS0zNS45ODI5MTAyLDAuNTMyMzQ4NgoJCQljLTE0LjI0MjczNjgsMC4wODk5NjU4LTI4LjQ4MzIxNTMsMC4wODM5ODQ0LTQyLjcyNTk1MjEsMC4wODM5ODQ0SDM3M2MtMTQuMjQyNzM2OCwwLTI4LjQ4MzIxNTMsMC4wMDU5ODE0LTQyLjcyNTk1MjEsLTAuMDgzOTg0NAoJCQljLTExLjk5NjMzNzktMC4wNjg5MDg3LTIzLjk5MDExMjMtMC4yMDcyNzU0LTM1OTgyOTEwMi0wLjUzMjM0ODZjLTI2LjEzMzYwNi0wLjcwODMxMy01Mi40OTQxNDA2LTIuMjQ2NDYtNzguMzM3NTg1NC02Ljg5MjA4OTgKCQkJYy0yNi4yMTcyMjQxLTQuNzEyODI5Ni01MC42MTc1NTM3LTEyLjQwMzk5MTctNzQuNDM3OTI3Mi0yNC41Mjg4Njk2CgkJCWMtMjMuNDEyMTA5NC0xMS45MTcwNTMyLTQ0LjgzNjk3NTEtMjcuNDg5MDEzNy02My40MTMwODU5LTQ2LjA2NTEyNDVzLTM0LjE0ODA3MTMtNDAuMDAwOTc2Ni00Ni4wNjUxMjQ1LTYzLjQxMzA4NTkKCQkJYy0xMi4xMjQ4Nzc5LTIzLjgyMDM3MzUtMTkuODE2MTAxMS00OC4yMjA3NjQyLTI0LjUyODg2OTYtNzQuNDM3OTI3MgoJCQljLTQuNjQ1NjI5OS0yNS44NDM1MDU5LTYuMTgzNzc2OS01Mi4yMDM5Nzk1LTYuODkyMDg5OC03OC4zMzc1ODU0CgkJCWMtMC4zMjUwNzMyLTExLjk5Mjc5NzktMC40NjM0Mzk5LTIzLjk4NjU3MjMtMC41MzIzNDg2LTM1OTgyOTEwMgoJCQljLTAuMDkwMDI2OS0xNC4yNDI3MzY4LTAuMDg0MDQ1NC0yOC40ODMyMTUzLTAuMDg0MDQ1NC00Mi43MjU5NTIxYzYuMjgxMjVsMTIuNzczOTI1OCw4MS4xMjY5NTMxVjI1NS44NDI3NzM0CgkJYzAtNi43MDM2MTMzLDUuMjg4MDg1OS0xMi4yMTM4NjcyLDExLjk4NTgzOTgtMTIuNDg5MjU3OGM2LjY5NDgyNDItMC4yODk1NTA4LDEyLjQyMDg5ODQsNC43ODEyNSwxMi45NzE2Nzk3LDExLjQ2MTkxNDEKCQlsMjguNDk5NTExNywzNDUuNTM1MTU2MmwyNy4yNjMxODM2LTI5OS4wNjgzNTk0YzAuNTg0NDcyNy02LjQxMTYyMTEsNS45NDMzNTk0LTExLjMzMTA1NDcsMTIuMzgxODM1OS0xMS4zNjUyMzQ0CgkJYzYuMzkzMDY2NC0wLjAyMDAxOTUsMTEuODQ5MTIxMSw0LjgyODEyNSwxMi41MDE5NTMxLDExLjIzMjkxMDJsMjguNjc1MjkzLDI4MS40NDY3NzczbDI3LjE0MDEzNjctMjM1LjA0MDAzOTEKCQljMC43MjM2MzI4LTYuMjY1MTM2Nyw2LjAwMDk3NjYtMTEuMDEwMjUzOSwxMi4zMDgxMDU1LTExLjA2NTQyOTdjNi4zMjEyODkxLTAuMDY2ODk0NSwxMS42NjY5OTIyLDQuNTk2Njc5NywxMi41LDEwLjg0ODYzMjgKCQlsMjguOTc1MDk3NywyMTcuNDcwNzAzMWwyNi45NTUwNzgxLTE3MS4xODk5NDE0YzAuOTQ0MzM1OS01Ljk5ODUzNTIsNi4wNjM0NzY2LTEwLjQ1MDY4MzYsMTIuMTM1NzQyMi0xMC41NTM3MTA5CgkJYzYuMDY5MzM1OS0wLjEzMTM0NzcsMTEuMzM4ODY3Miw0LjE3MjM2MzMsMTIuNDg2MzI4MSwxMC4xMzU3NDIyTDU5NC45Nzk0OTIyLDU0Ni45Mzc1bDI2LjY3MzgyODEtMTA3LjgwMDc4MTIKCQljMS4zMjkxMDE2LTUuMzc0MDIzNCw2LjAzNTE1NjItOS4yMzI5MTAyLDExLjU2NTQyOTctOS40ODQzNzVjNS41NDk4MDQ3LTAuMjQ3MDcwMywxMC41NjczODI4LDMuMTY0NTUwOCwxMi4zNzk4ODI4LDguMzk1NTA3OAoJCWwzMS4zNzc5Mjk3LDkwLjU4MTA1NDdsMjYuNjU0Mjk2OS00Ni4xNjYwMTU2YzEuNjU3MjI2Ni0yLjg3MTA5MzgsNC4zODc2OTUzLTQuOTY2MzA4Niw3LjU4OTg0MzgtNS44MjQyMTg4CgkJYzMuMjAzMTI1LTAuODU2OTMzNiw2LjYxNDI1NzgtMC40MDkxNzk3LDkuNDg1MzUxNiwxLjI0OTAyMzRsMjguODIxMjg5MSwxNi42NDA2MjUKCQlDNzU1LjE2MTEzMjgsNDk3Ljc4MDc2MTcsNzYxLjU3ODEyNSw0OTkuNSw3NjguMDgzMDA3OCw0OTkuNSw3NjguMDgzMDA3OCw0OTkuNWgxMjguNzAxMTcxOWM2LjkwMzMyMDMsMCwxMi41LDUuNTk2Njc5NywxMi41LDEyLjUKCQlzLTUuNTk2Njc5NywxMi41LTEyLjUsMTIuNUg3NjguMDgzMDA3OGMtMTAuODg2NzE4OCwwLTIxLjYyNTk3NjYtMi44NzY5NTMxLTMxLjA1NTY2NDEtOC4zMjEyODkxTDcxOS4wMzEyNSw1MDUuNzg4NTc0MgoJCWwtMzQuMDg0OTYwOSw1OS4wMzU2NDQ1Yy0yLjQ0NjI4OTEsNC4yMzYzMjgxLTcuMTM3Njk1Myw2LjY1ODIwMzEtMTIuMDExNzE4OCw2LjE5MzM1OTQKCQljLTQuODcxMDkzOC0wLjQ2Mzg2NzItOS4wMjM0Mzc1LTMuNzI4NTE1Ni0xMC42MjUtOC4zNTE1NjI1bC0yNi41MjI0NjA5LTc2LjU2NTkxOGwtMzAuMjAwMTk1MywxMjIuMDUwMjkzCgkJYy0xLjM4MjgxMjUsNS41OTA4MjAzLTYuMzk5NDE0MSw5LjQ5ODA0NjktMTIuMTMwODU5NCw5LjQ5ODA0NjljLTAuMTA5Mzc1LDAtMC4yMTk3MjY2LTAuMDAwOTc2Ni0wLjMzMTA1NDctMC4wMDM5MDYyCgkJYy01Ljg2NzE4NzUtMC4xNTQyOTY5LTEwLjgzNjkxNDEtNC4zNzAxMTcyLTExLjk0NjI4OTEtMTAuMTMzNzg5MWwtMjYuODI5MTAxNi0xMzkuNDAzMzIwM2wtMjkuMjE3NzczNCwxODUuNTU4NTkzOAoJCWMtMC45NTgwMDc4LDYuMDgzOTg0NC02LjIwMTE3MTksMTAuNTU1NjY0MS0xMi4zNDUyMTQ4DEwLjU1NTY2NDFjLTAuMDUwMjkzLDAtMC4xMDAwOTc3LDAtMC4xNTA4Nzg5LTAuMDAwOTc2NgoJCWMtNi4yMDg0OTYxLTAuMDczMjQyMi0xMS40MjE4NzUtNC42OTMzNTk0LTEyLjI0MjE4NzUtMTAuODQ4NjMyOGwtMjcuMDU3NjE3Mi0yMDMuMDgyNTE5NWwtMjguODAyNzM0NCwyNDkuNDM5OTQxNAoJCWMtMC43Mjg1MTU2LDYuMzEwNTQ2OS02LjA3MzI0MjIsMTEuMDY1NDI5Ny0xMi40MTYwMTU2LDExLjA2NjQwNjJjLTAuMDI4ODA4NiwwLTAuMDU2NjQwNiwwLTAuMDg1NDQ5MiwwCgkJYy02LjM4MDg1OTQtMC4wNDI5Njg4LTExLjcwNDU4OTgtNC44ODQ3NjU2LTEyLjM1MTU2MjUtMTEuMjMzMzk4NGwtMjcuMjA3NTE5NS0yNjcuMDM4NTc0MmwtMjguNTc3MTQ4NCwzMTMuNDgwOTU3CgkJYy0wLjU4NjkxNDEsNi40Mzk0NTMxLTUuOTg3NzkzLDExLjM2NDI1NzgtMTIuNDQ3MjY1NiwxMS4zNjUyMzQ0Yy0wLjAxODU1NDcsMC0wLjAzNjEzMjgsMC0wLjA1NDY4NzUsMAoJCWMtNi40ODQ4NjMzLTAuMDI4MzIwMy0xMS44NzEwOTM4LTUuMDA5NzY1Ni0xMi40MDM4MDg2LTExLjQ3MjY1NjJMMzIzLjYxMjc5Myw1NTkuNDY1ODIwM3YyMDguNjkxNDA2MgoJCWMwLDYuNTI1MzkwNi01LjAxOTUzMTIsMTEuOTUzMTI1LTExLjUyNDkwMjMsMTIuNDYxOTE0MUMzMTEuNzU3ODEyNSw3ODAuNjQ0NTMxMiwzMTEuNDI4MjIyNyw3ODAuNjU4MjAzMSwzMTEuMTAyMDUwOCw3ODAuNjU4MjAzMQoJCXoiLz4KPC9nPgo8L3N2Zz4K" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/lamejs@1.2.1/lame.min.js"></script>
    <style>
      /* Custom scrollbar for webkit */
      ::-webkit-scrollbar {
        width: 6px;
        height: 6px;
      }
      ::-webkit-scrollbar-track {
        background: #18181b;
      }
      ::-webkit-scrollbar-thumb {
        background: #3f3f46;
        border-radius: 3px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #52525b;
      }
      /* Disable pull-to-refresh on mobile */
      body {
        overscroll-behavior-y: contain;
      }
      /* Safe area padding for iPhone X+ */
      .safe-area-pb {
        padding-bottom: env(safe-area-inset-bottom);
      }
      .safe-area-pl {
        padding-left: env(safe-area-inset-left);
      }
      .safe-area-pr {
        padding-right: env(safe-area-inset-right);
      }
    </style>
  </head>
  <body class="bg-zinc-950 text-zinc-100 antialiased overflow-hidden select-none">
    <div id="root" class="h-screen w-screen flex flex-col"></div>
    <script type="module" src="/index.tsx"></script>
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js').then(registration => {
            console.log('SW registered: ', registration);
          }).catch(registrationError => {
            console.log('SW registration failed: ', registrationError);
          });
        });
      }
    </script>
  </body>
</html>

        <script type="module" onerror="console.warn('Failed to load the app. Try reloading it.')">import '@/index';</script>
        