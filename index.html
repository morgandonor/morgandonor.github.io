
        <style>
        @import url(https://fonts.googleapis.com/css?family=Google+Sans+Text);
        html {
          font-family: 'Google Sans Text', 'Google Sans';
          font-size: 14px;
          color-scheme: light dark;
          background: light-dark(white, black);
          color: light-dark(black, white);
        }
        </style>
        
        <script type="importmap">{"imports":{"@modelcontextprotocol/sdk/":"https://esm.sh/@modelcontextprotocol/sdk/dist/esm/","https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/es2022/":"https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/es2022/dist/esm/","https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/client/index?target=es2022":"https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/dist/esm/client/index?target=es2022","https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/types?target=es2022":"https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/dist/esm/types?target=es2022","react":"https://aistudiocdn.com/react@^19.2.1","react-dom/":"https://aistudiocdn.com/react-dom@^19.2.1/","react/":"https://aistudiocdn.com/react@^19.2.1/","@/index":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20vY2xpZW50JzsKaW1wb3J0IEFwcCBmcm9tICdAL0FwcCc7CmNvbnN0IHJvb3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKTsKaWYgKCFyb290RWxlbWVudCkgewogICAgdGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgZmluZCByb290IGVsZW1lbnQgdG8gbW91bnQgdG8iKTsKfQpjb25zdCByb290ID0gUmVhY3RET00uY3JlYXRlUm9vdChyb290RWxlbWVudCk7CnJvb3QucmVuZGVyKF9qc3goUmVhY3QuU3RyaWN0TW9kZSwgeyBjaGlsZHJlbjogX2pzeChBcHAsIHt9KSB9KSk7Cg==","@":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20vY2xpZW50JzsKaW1wb3J0IEFwcCBmcm9tICdAL0FwcCc7CmNvbnN0IHJvb3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKTsKaWYgKCFyb290RWxlbWVudCkgewogICAgdGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgZmluZCByb290IGVsZW1lbnQgdG8gbW91bnQgdG8iKTsKfQpjb25zdCByb290ID0gUmVhY3RET00uY3JlYXRlUm9vdChyb290RWxlbWVudCk7CnJvb3QucmVuZGVyKF9qc3goUmVhY3QuU3RyaWN0TW9kZSwgeyBjaGlsZHJlbjogX2pzeChBcHAsIHt9KSB9KSk7Cg==","@/types":"data:application/javascript;base64,ZXhwb3J0IHZhciBBcHBTdGF0ZTsKKGZ1bmN0aW9uIChBcHBTdGF0ZSkgewogICAgQXBwU3RhdGVbIklETEUiXSA9ICJJRExFIjsKICAgIEFwcFN0YXRlWyJMT0FESU5HIl0gPSAiTE9BRElORyI7CiAgICBBcHBTdGF0ZVsiRURJVElORyJdID0gIkVESVRJTkciOwogICAgQXBwU3RhdGVbIlBST0NFU1NJTkciXSA9ICJQUk9DRVNTSU5HIjsKICAgIEFwcFN0YXRlWyJFUlJPUiJdID0gIkVSUk9SIjsKICAgIEFwcFN0YXRlWyJMSUJSQVJZIl0gPSAiTElCUkFSWSI7Cn0pKEFwcFN0YXRlIHx8IChBcHBTdGF0ZSA9IHt9KSk7CmV4cG9ydCB2YXIgVG9vbE1vZGU7CihmdW5jdGlvbiAoVG9vbE1vZGUpIHsKICAgIFRvb2xNb2RlWyJTRUxFQ1QiXSA9ICJTRUxFQ1QiOwogICAgVG9vbE1vZGVbIk1PVkUiXSA9ICJNT1ZFIjsKfSkoVG9vbE1vZGUgfHwgKFRvb2xNb2RlID0ge30pKTsK","@/constants":"data:application/javascript;base64,ZXhwb3J0IGNvbnN0IFRIRU1FX0NPTE9SID0gJyMwNmI2ZDQnOyAvLyBDeWFuLTUwMApleHBvcnQgY29uc3QgV0FWRUZPUk1fQ09MT1IgPSAnIzIyZDNlZSc7IC8vIEN5YW4tNDAwCmV4cG9ydCBjb25zdCBXQVZFRk9STV9CRyA9ICcjMTgxODFiJzsgLy8gWmluYy05MDAKZXhwb3J0IGNvbnN0IFNFTEVDVElPTl9DT0xPUiA9ICdyZ2JhKDYsIDE4MiwgMjEyLCAwLjMpJzsKZXhwb3J0IGNvbnN0IFBMQVlIRUFEX0NPTE9SID0gJyNlZjQ0NDQnOyAvLyBSZWQtNTAwCmV4cG9ydCBjb25zdCBERUZBVUxUX1NBTVBMRV9SQVRFID0gNDQxMDA7CmV4cG9ydCBjb25zdCBNQVhfWk9PTSA9IDMwMDsgLy8gcGl4ZWxzIHBlciBzZWNvbmQKZXhwb3J0IGNvbnN0IE1JTl9aT09NID0gMTA7CmV4cG9ydCBjb25zdCBERUZBVUxUX1pPT00gPSA1MDsKZXhwb3J0IGNvbnN0IERFRkFVTFRfTEFORV9IRUlHSFQgPSAxMjA7IC8vIEhlaWdodCBvZiBlYWNoIHRyYWNrIGxhbmUgaW4gcGl4ZWxzCmV4cG9ydCBjb25zdCBNSU5fTEFORV9IRUlHSFQgPSA2MDsgLy8gTWluaW11bSBjb21wYWN0ZWQgaGVpZ2h0CmV4cG9ydCBjb25zdCBTTkFQX1RIUkVTSE9MRF9QWCA9IDE1OyAvLyBEaXN0YW5jZSBpbiBwaXhlbHMgdG8gdHJpZ2dlciBzbmFwcGluZwovLyBJbnRlcmFjdGlvbiBDb25zdGFudHMKZXhwb3J0IGNvbnN0IExPTkdfUFJFU1NfRFVSQVRJT04gPSAzMDA7IC8vIG1zIHRvIGhvbGQgYmVmb3JlIGRyYWcgc3RhcnRzCmV4cG9ydCBjb25zdCBEUkFHX1RIUkVTSE9MRF9QWCA9IDE1OyAvLyBJbmNyZWFzZWQgdG8gMTVweCB0byBwcmV2ZW50IGFjY2lkZW50YWwgc2Nyb2xsIGRldGVjdGlvbiBkdXJpbmcgaG9sZAovLyBFeHRlbmRlZCBQYWxldHRlIGZvciBNdWx0aS1sYXllciB2aXN1YWxpemF0aW9uCmV4cG9ydCBjb25zdCBUUkFDS19DT0xPUlMgPSBbCiAgICAnIzIyZDNlZScsIC8vIEN5YW4tNDAwCiAgICAnIzgxOGNmOCcsIC8vIEluZGlnby00MDAKICAgICcjZTg3OWY5JywgLy8gRnVjaHNpYS00MDAKICAgICcjZjQ3MmI2JywgLy8gUGluay00MDAKICAgICcjZmI3MTg1JywgLy8gUm9zZS00MDAKICAgICcjMzRkMzk5JywgLy8gRW1lcmFsZC00MDAKICAgICcjZmJiZjI0JywgLy8gQW1iZXItNDAwCiAgICAnI2E3OGJmYScsIC8vIFZpb2xldC00MDAKICAgICcjMmRkNGJmJywgLy8gVGVhbC00MDAKICAgICcjNjBhNWZhJywgLy8gQmx1ZS00MDAKXTsKZXhwb3J0IGNvbnN0IEJFQVRfUEFUVEVSTlMgPSB7CiAgICAvLyAxNiBzdGVwcy4gMSA9IEtpY2ssIDIgPSBTbmFyZSwgMyA9IEhpSGF0CiAgICAnUm9jayc6IFtbMSwgMCwgMywgMCwgMiwgMCwgMywgMCwgMSwgMCwgMywgMSwgMiwgMCwgMywgMF1dLAogICAgJ0hpcEhvcCc6IFtbMSwgMCwgMywgMCwgMiwgMCwgMywgMSwgMCwgMSwgMywgMCwgMiwgMCwgMywgMF1dLAogICAgJ1RlY2hubyc6IFtbMSwgMywgMCwgMywgMSwgMywgMCwgMywgMSwgMywgMCwgMywgMSwgMywgMCwgM11dLAogICAgJ01ldHJvbm9tZSc6IFtbNCwgMCwgMCwgMCwgNSwgMCwgMCwgMCwgNSwgMCwgMCwgMCwgNSwgMCwgMCwgMF1dIC8vIDQ9SGlnaCBUaWNrLCA1PUxvdyBUaWNrCn07Cg==","@/services/audioUtils":"data:application/javascript;base64,aW1wb3J0IHsgREVGQVVMVF9TQU1QTEVfUkFURSwgQkVBVF9QQVRURVJOUyB9IGZyb20gJ0AvY29uc3RhbnRzJzsKbGV0IGF1ZGlvQ29udGV4dCA9IG51bGw7CmV4cG9ydCBjb25zdCBnZXRBdWRpb0NvbnRleHQgPSAoKSA9PiB7CiAgICBpZiAoIWF1ZGlvQ29udGV4dCkgewogICAgICAgIGF1ZGlvQ29udGV4dCA9IG5ldyAod2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSh7CiAgICAgICAgICAgIHNhbXBsZVJhdGU6IERFRkFVTFRfU0FNUExFX1JBVEUsCiAgICAgICAgfSk7CiAgICB9CiAgICByZXR1cm4gYXVkaW9Db250ZXh0Owp9OwpleHBvcnQgY29uc3QgZGVjb2RlQXVkaW9EYXRhID0gYXN5bmMgKGFycmF5QnVmZmVyKSA9PiB7CiAgICBjb25zdCBjdHggPSBnZXRBdWRpb0NvbnRleHQoKTsKICAgIHJldHVybiBhd2FpdCBjdHguZGVjb2RlQXVkaW9EYXRhKGFycmF5QnVmZmVyKTsKfTsKZXhwb3J0IGNvbnN0IGNyZWF0ZUVtcHR5QnVmZmVyID0gKGN0eCwgc2Vjb25kcykgPT4gewogICAgcmV0dXJuIGN0eC5jcmVhdGVCdWZmZXIoMiwgY3R4LnNhbXBsZVJhdGUgKiBzZWNvbmRzLCBjdHguc2FtcGxlUmF0ZSk7Cn07Ci8vIC0tLSBUaW1lIFN0cmV0Y2hpbmcgKEdyYW51bGFyIFN5bnRoZXNpcykgLS0tCi8qKgogKiBDaGFuZ2VzIGR1cmF0aW9uIFdJVEhPVVQgY2hhbmdpbmcgcGl0Y2ggdXNpbmcgYSBzaW1wbGlmaWVkIE9MQSAoT3ZlcmxhcC1BZGQpIEdyYW51bGFyIG1ldGhvZC4KICogQHBhcmFtIGJ1ZmZlciBJbnB1dCBidWZmZXIKICogQHBhcmFtIHBsYXliYWNrUmF0ZSBUYXJnZXQgcmF0ZSAoMC41ID0gaGFsZiBzcGVlZC9kb3VibGUgZHVyYXRpb24sIDIuMCA9IGRvdWJsZSBzcGVlZC9oYWxmIGR1cmF0aW9uKQogKi8KZXhwb3J0IGNvbnN0IGdyYW51bGFyVGltZVN0cmV0Y2ggPSBhc3luYyAoYnVmZmVyLCBwbGF5YmFja1JhdGUpID0+IHsKICAgIC8vIElmIHJhdGUgaXMgMSwgcmV0dXJuIGNvcHkKICAgIGlmIChwbGF5YmFja1JhdGUgPT09IDEuMCkKICAgICAgICByZXR1cm4gYnVmZmVyOwogICAgY29uc3QgY2hhbm5lbHMgPSBidWZmZXIubnVtYmVyT2ZDaGFubmVsczsKICAgIGNvbnN0IGlucHV0TGVuID0gYnVmZmVyLmxlbmd0aDsKICAgIC8vIE5ldyBsZW5ndGggaXMgaW52ZXJzZSBvZiByYXRlLiAoMnggc3BlZWQgPSAwLjV4IGxlbmd0aCkKICAgIGNvbnN0IG91dHB1dExlbiA9IE1hdGguZmxvb3IoaW5wdXRMZW4gLyBwbGF5YmFja1JhdGUpOwogICAgY29uc3Qgc2FtcGxlUmF0ZSA9IGJ1ZmZlci5zYW1wbGVSYXRlOwogICAgY29uc3QgY3R4ID0gbmV3IE9mZmxpbmVBdWRpb0NvbnRleHQoY2hhbm5lbHMsIG91dHB1dExlbiwgc2FtcGxlUmF0ZSk7CiAgICBjb25zdCBvdXRwdXRCdWZmZXIgPSBjdHguY3JlYXRlQnVmZmVyKGNoYW5uZWxzLCBvdXRwdXRMZW4sIHNhbXBsZVJhdGUpOwogICAgLy8gR3JhbnVsYXIgUGFyYW1ldGVycwogICAgY29uc3QgZ3JhaW5TaXplID0gTWF0aC5mbG9vcihzYW1wbGVSYXRlICogMC4wOCk7IC8vIDgwbXMgZ3JhaW5zCiAgICBjb25zdCBvdmVybGFwID0gTWF0aC5mbG9vcihncmFpblNpemUgKiAwLjUpOyAvLyA1MCUgb3ZlcmxhcAogICAgLy8gV2UgbW92ZSB0aHJvdWdoIHRoZSBJTlBVVCBhdCAncGxheWJhY2tSYXRlJyBzcGVlZCByZWxhdGl2ZSB0byBvdXRwdXQKICAgIC8vIEJ1dCB3ZSBjb3B5ICdncmFpblNpemUnIGNodW5rcyAxOjEgdG8gcHJlc2VydmUgcGl0Y2guCiAgICBmb3IgKGxldCBjID0gMDsgYyA8IGNoYW5uZWxzOyBjKyspIHsKICAgICAgICBjb25zdCBpbnB1dERhdGEgPSBidWZmZXIuZ2V0Q2hhbm5lbERhdGEoYyk7CiAgICAgICAgY29uc3Qgb3V0cHV0RGF0YSA9IG91dHB1dEJ1ZmZlci5nZXRDaGFubmVsRGF0YShjKTsKICAgICAgICBsZXQgaW5wdXRPZmZzZXQgPSAwOwogICAgICAgIGxldCBvdXRwdXRPZmZzZXQgPSAwOwogICAgICAgIC8vIFdoaWxlIHdlIGhhdmUgcm9vbSBpbiBvdXRwdXQgYW5kIGlucHV0CiAgICAgICAgd2hpbGUgKG91dHB1dE9mZnNldCArIGdyYWluU2l6ZSA8IG91dHB1dExlbiAmJiBpbnB1dE9mZnNldCArIGdyYWluU2l6ZSA8IGlucHV0TGVuKSB7CiAgICAgICAgICAgIC8vIDEuIEZhZGUgT3V0IC8gSW4gV2luZG93aW5nIChIYW5uaW5nLWlzaCkKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncmFpblNpemU7IGkrKykgewogICAgICAgICAgICAgICAgY29uc3QgaW5wdXRJZHggPSBNYXRoLmZsb29yKGlucHV0T2Zmc2V0KSArIGk7CiAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXRJZHggPSBvdXRwdXRPZmZzZXQgKyBpOwogICAgICAgICAgICAgICAgaWYgKGlucHV0SWR4ID49IGlucHV0TGVuIHx8IG91dHB1dElkeCA+PSBvdXRwdXRMZW4pCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAvLyBTaW1wbGUgbGluZWFyIGNyb3NzZmFkZSB3aW5kb3cgZm9yIHRoZSBvdmVybGFwIHJlZ2lvbgogICAgICAgICAgICAgICAgLy8gVG8gYmxlbmQgc3RyaWN0bHksIHdlIGp1c3QgYWRkLiBBIHJlYWwgaW1wbGVtZW50YXRpb24gdXNlcyBwcm9wZXIgd2luZG93IGZ1bmN0aW9ucy4KICAgICAgICAgICAgICAgIC8vIEhlcmUgd2Ugc2ltcGx5IGNvcHkgdGhlIGdyYWluLiBUaGUgaml0dGVyIGNvbWVzIGZyb20gdGhlIHBoYXNlIGRpc2NvbnRpbnVpdHkuCiAgICAgICAgICAgICAgICAvLyBXZSdsbCBkbyBhIHNpbXBsZSBPTEEuCiAgICAgICAgICAgICAgICBsZXQgZ2FpbiA9IDEuMDsKICAgICAgICAgICAgICAgIGlmIChpIDwgb3ZlcmxhcCkgewogICAgICAgICAgICAgICAgICAgIGdhaW4gPSBpIC8gb3ZlcmxhcDsgLy8gRmFkZSBJbgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA+IGdyYWluU2l6ZSAtIG92ZXJsYXApIHsKICAgICAgICAgICAgICAgICAgICBnYWluID0gKGdyYWluU2l6ZSAtIGkpIC8gb3ZlcmxhcDsgLy8gRmFkZSBPdXQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIEFkZCB0byBvdXRwdXQgKE9MQSkKICAgICAgICAgICAgICAgIG91dHB1dERhdGFbb3V0cHV0SWR4XSArPSBpbnB1dERhdGFbaW5wdXRJZHhdICogZ2FpbjsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBNb3ZlIGhlYWRzCiAgICAgICAgICAgIC8vIE91dHB1dCBtb3ZlcyBieSB0aGUgbm9uLW92ZXJsYXBwZWQgYW1vdW50IChob3Agc2l6ZSkKICAgICAgICAgICAgY29uc3Qgb3V0cHV0SG9wID0gZ3JhaW5TaXplIC0gb3ZlcmxhcDsKICAgICAgICAgICAgb3V0cHV0T2Zmc2V0ICs9IG91dHB1dEhvcDsKICAgICAgICAgICAgLy8gSW5wdXQgbW92ZXMgYnkgKGhvcCBzaXplICogcmF0ZSkgdG8gYWNoaWV2ZSB0aW1lIHN0cmV0Y2gKICAgICAgICAgICAgaW5wdXRPZmZzZXQgKz0gb3V0cHV0SG9wICogcGxheWJhY2tSYXRlOwogICAgICAgIH0KICAgIH0KICAgIC8vIE5vcm1hbGl6ZSBvdXRwdXQgdG8gcHJldmVudCBjbGlwcGluZyBmcm9tIE9MQQogICAgcmV0dXJuIG5vcm1hbGl6ZUJ1ZmZlcihvdXRwdXRCdWZmZXIpOwp9OwovLyAtLS0gQlBNIERldGVjdGlvbiAtLS0KZXhwb3J0IGNvbnN0IGRldGVjdEJQTSA9IGFzeW5jIChidWZmZXIpID0+IHsKICAgIHRyeSB7CiAgICAgICAgbGV0IGFuYWx5c2lzQnVmZmVyID0gYnVmZmVyOwogICAgICAgIGlmIChidWZmZXIuZHVyYXRpb24gPiA0MCkgewogICAgICAgICAgICBjb25zdCBzdGFydCA9IE1hdGguZmxvb3IoYnVmZmVyLmR1cmF0aW9uIC8gMikgLSAyMDsKICAgICAgICAgICAgY29uc3QgZW5kID0gc3RhcnQgKyA0MDsKICAgICAgICAgICAgYW5hbHlzaXNCdWZmZXIgPSB0cmltQnVmZmVyKGJ1ZmZlciwgc3RhcnQsIGVuZCk7CiAgICAgICAgfQogICAgICAgIGNvbnN0IG9mZmxpbmVDdHggPSBuZXcgT2ZmbGluZUF1ZGlvQ29udGV4dCgxLCBhbmFseXNpc0J1ZmZlci5sZW5ndGgsIGFuYWx5c2lzQnVmZmVyLnNhbXBsZVJhdGUpOwogICAgICAgIGNvbnN0IHNvdXJjZSA9IG9mZmxpbmVDdHguY3JlYXRlQnVmZmVyU291cmNlKCk7CiAgICAgICAgc291cmNlLmJ1ZmZlciA9IGFuYWx5c2lzQnVmZmVyOwogICAgICAgIGNvbnN0IGxvd3Bhc3MgPSBvZmZsaW5lQ3R4LmNyZWF0ZUJpcXVhZEZpbHRlcigpOwogICAgICAgIGxvd3Bhc3MudHlwZSA9ICJsb3dwYXNzIjsKICAgICAgICBsb3dwYXNzLmZyZXF1ZW5jeS52YWx1ZSA9IDQwMDsKICAgICAgICBsb3dwYXNzLlEudmFsdWUgPSAxOwogICAgICAgIGNvbnN0IGhpZ2hwYXNzID0gb2ZmbGluZUN0eC5jcmVhdGVCaXF1YWRGaWx0ZXIoKTsKICAgICAgICBoaWdocGFzcy50eXBlID0gImhpZ2hwYXNzIjsKICAgICAgICBoaWdocGFzcy5mcmVxdWVuY3kudmFsdWUgPSA3MDsKICAgICAgICBoaWdocGFzcy5RLnZhbHVlID0gMTsKICAgICAgICBzb3VyY2UuY29ubmVjdChsb3dwYXNzKTsKICAgICAgICBsb3dwYXNzLmNvbm5lY3QoaGlnaHBhc3MpOwogICAgICAgIGhpZ2hwYXNzLmNvbm5lY3Qob2ZmbGluZUN0eC5kZXN0aW5hdGlvbik7CiAgICAgICAgc291cmNlLnN0YXJ0KDApOwogICAgICAgIGNvbnN0IHJlbmRlcmVkID0gYXdhaXQgb2ZmbGluZUN0eC5zdGFydFJlbmRlcmluZygpOwogICAgICAgIGNvbnN0IGRhdGEgPSByZW5kZXJlZC5nZXRDaGFubmVsRGF0YSgwKTsKICAgICAgICBjb25zdCB3aW5kb3dTaXplID0gTWF0aC5mbG9vcihhbmFseXNpc0J1ZmZlci5zYW1wbGVSYXRlICogMC4wMDUpOwogICAgICAgIGNvbnN0IGVuZXJneVByb2ZpbGUgPSBbXTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IHdpbmRvd1NpemUpIHsKICAgICAgICAgICAgbGV0IHN1bSA9IDA7CiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgd2luZG93U2l6ZSAmJiBpICsgaiA8IGRhdGEubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgIHN1bSArPSBkYXRhW2kgKyBqXSAqIGRhdGFbaSArIGpdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVuZXJneVByb2ZpbGUucHVzaChNYXRoLnNxcnQoc3VtIC8gd2luZG93U2l6ZSkpOwogICAgICAgIH0KICAgICAgICBjb25zdCBvbnNldFByb2ZpbGUgPSBbXTsKICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGVuZXJneVByb2ZpbGUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY29uc3QgZGlmZiA9IGVuZXJneVByb2ZpbGVbaV0gLSBlbmVyZ3lQcm9maWxlW2kgLSAxXTsKICAgICAgICAgICAgb25zZXRQcm9maWxlLnB1c2goTWF0aC5tYXgoZGlmZiwgMCkpOwogICAgICAgIH0KICAgICAgICBjb25zdCBtaW5CUE0gPSA2MDsKICAgICAgICBjb25zdCBtYXhCUE0gPSAxODA7CiAgICAgICAgY29uc3QgbWluTGFnID0gTWF0aC5mbG9vcig2MCAvIChtYXhCUE0gKiAwLjAwNSkpOwogICAgICAgIGNvbnN0IG1heExhZyA9IE1hdGguY2VpbCg2MCAvIChtaW5CUE0gKiAwLjAwNSkpOwogICAgICAgIGNvbnN0IGNvcnJlbGF0aW9ucyA9IFtdOwogICAgICAgIGNvbnN0IHNlYXJjaExlbiA9IE1hdGgubWluKG9uc2V0UHJvZmlsZS5sZW5ndGgsIDMwMDApOwogICAgICAgIGZvciAobGV0IGxhZyA9IG1pbkxhZzsgbGFnIDw9IG1heExhZzsgbGFnKyspIHsKICAgICAgICAgICAgbGV0IGN1cnJlbnRDb3JyZWxhdGlvbiA9IDA7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VhcmNoTGVuIC0gbGFnOyBpKyspIHsKICAgICAgICAgICAgICAgIGN1cnJlbnRDb3JyZWxhdGlvbiArPSBvbnNldFByb2ZpbGVbaV0gKiBvbnNldFByb2ZpbGVbaSArIGxhZ107CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29ycmVsYXRpb25zLnB1c2goewogICAgICAgICAgICAgICAgYnBtOiA2MCAvIChsYWcgKiAwLjAwNSksCiAgICAgICAgICAgICAgICBzdHJlbmd0aDogY3VycmVudENvcnJlbGF0aW9uCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBjb3JyZWxhdGlvbnMuc29ydCgoYSwgYikgPT4gYi5zdHJlbmd0aCAtIGEuc3RyZW5ndGgpOwogICAgICAgIGlmIChjb3JyZWxhdGlvbnMubGVuZ3RoID09PSAwKQogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICBjb25zdCB0b3BDYW5kaWRhdGVzID0gY29ycmVsYXRpb25zLnNsaWNlKDAsIDUpOwogICAgICAgIGxldCBjaG9zZW5CUE0gPSB0b3BDYW5kaWRhdGVzWzBdLmJwbTsKICAgICAgICBjb25zdCBtYXhTdHJlbmd0aCA9IHRvcENhbmRpZGF0ZXNbMF0uc3RyZW5ndGg7CiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0b3BDYW5kaWRhdGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IGNhbmRpZGF0ZSA9IHRvcENhbmRpZGF0ZXNbaV07CiAgICAgICAgICAgIGlmIChjYW5kaWRhdGUuc3RyZW5ndGggPiBtYXhTdHJlbmd0aCAqIDAuNzUpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHdpbm5lcklzRXh0cmVtZSA9IGNob3NlbkJQTSA8IDkwIHx8IGNob3NlbkJQTSA+IDE2MDsKICAgICAgICAgICAgICAgIGNvbnN0IGNhbmRpZGF0ZUlzTm9ybWFsID0gY2FuZGlkYXRlLmJwbSA+PSA5MCAmJiBjYW5kaWRhdGUuYnBtIDw9IDE2MDsKICAgICAgICAgICAgICAgIGlmICh3aW5uZXJJc0V4dHJlbWUgJiYgY2FuZGlkYXRlSXNOb3JtYWwpIHsKICAgICAgICAgICAgICAgICAgICBjaG9zZW5CUE0gPSBjYW5kaWRhdGUuYnBtOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGNhbmRpZGF0ZS5icG0gLSAyICogY2hvc2VuQlBNKSA8IDUpIHsKICAgICAgICAgICAgICAgICAgICBjaG9zZW5CUE0gPSBjYW5kaWRhdGUuYnBtOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBNYXRoLnJvdW5kKGNob3NlbkJQTSk7CiAgICB9CiAgICBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkJQTSBEZXRlY3Rpb24gRXJyb3IiLCBlKTsKICAgICAgICByZXR1cm4gMDsKICAgIH0KfTsKLy8gLS0tIFByZXZpZXcgR2VuZXJhdGlvbiAtLS0KZXhwb3J0IGNvbnN0IGdlbmVyYXRlUHJvamVjdFByZXZpZXcgPSAodHJhY2tzLCB3aWR0aCwgaGVpZ2h0KSA9PiB7CiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsKICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoOwogICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDsKICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgaWYgKCFjdHgpCiAgICAgICAgcmV0dXJuICcnOwogICAgY3R4LmZpbGxTdHlsZSA9ICcjMTgxODFiJzsKICAgIGN0eC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTsKICAgIGlmICh0cmFja3MubGVuZ3RoID09PSAwKQogICAgICAgIHJldHVybiBjYW52YXMudG9EYXRhVVJMKCk7CiAgICBjb25zdCBtYXhEdXIgPSBNYXRoLm1heCguLi50cmFja3MubWFwKHQgPT4gdC5zdGFydFRpbWUgKyB0LmR1cmF0aW9uKSk7CiAgICBjb25zdCBzY2FsZVggPSB3aWR0aCAvIChtYXhEdXIgfHwgMSk7CiAgICB0cmFja3MuZm9yRWFjaCh0cmFjayA9PiB7CiAgICAgICAgY29uc3QgeCA9IHRyYWNrLnN0YXJ0VGltZSAqIHNjYWxlWDsKICAgICAgICBjb25zdCB3ID0gTWF0aC5tYXgoMiwgdHJhY2suZHVyYXRpb24gKiBzY2FsZVgpOwogICAgICAgIGNvbnN0IGxhbmVIID0gaGVpZ2h0IC8gNTsKICAgICAgICBjb25zdCB5ID0gKHRyYWNrLmxhbmUgJSA1KSAqIGxhbmVIICsgMjsKICAgICAgICBjb25zdCBoID0gbGFuZUggLSA0OwogICAgICAgIGN0eC5maWxsU3R5bGUgPSB0cmFjay5jb2xvcjsKICAgICAgICBjdHguZmlsbFJlY3QoeCwgeSwgdywgaCk7CiAgICB9KTsKICAgIHJldHVybiBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTsKfTsKLy8gLS0tIE9mZmxpbmUgUHJvY2Vzc2luZyBVdGlsaXRpZXMgLS0tCmV4cG9ydCBjb25zdCBhcHBseUZhZGUgPSBhc3luYyAoYnVmZmVyLCB0eXBlLCBkdXJhdGlvbikgPT4gewogICAgY29uc3QgY3R4ID0gbmV3IE9mZmxpbmVBdWRpb0NvbnRleHQoYnVmZmVyLm51bWJlck9mQ2hhbm5lbHMsIGJ1ZmZlci5sZW5ndGgsIGJ1ZmZlci5zYW1wbGVSYXRlKTsKICAgIGNvbnN0IHNvdXJjZSA9IGN0eC5jcmVhdGVCdWZmZXJTb3VyY2UoKTsKICAgIHNvdXJjZS5idWZmZXIgPSBidWZmZXI7CiAgICBjb25zdCBnYWluID0gY3R4LmNyZWF0ZUdhaW4oKTsKICAgIHNvdXJjZS5jb25uZWN0KGdhaW4pOwogICAgZ2Fpbi5jb25uZWN0KGN0eC5kZXN0aW5hdGlvbik7CiAgICBjb25zdCBmYWRlRHVyID0gTWF0aC5taW4oZHVyYXRpb24sIGJ1ZmZlci5kdXJhdGlvbik7CiAgICBpZiAodHlwZSA9PT0gJ2luJykgewogICAgICAgIGdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLCAwKTsKICAgICAgICBnYWluLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoMSwgZmFkZUR1cik7CiAgICB9CiAgICBlbHNlIHsKICAgICAgICBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMSwgYnVmZmVyLmR1cmF0aW9uIC0gZmFkZUR1cik7CiAgICAgICAgZ2Fpbi5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDAsIGJ1ZmZlci5kdXJhdGlvbik7CiAgICB9CiAgICBzb3VyY2Uuc3RhcnQoKTsKICAgIHJldHVybiBhd2FpdCBjdHguc3RhcnRSZW5kZXJpbmcoKTsKfTsKZXhwb3J0IGNvbnN0IG1lcmdlQnVmZmVycyA9IGFzeW5jIChsZWZ0LCByaWdodCwgb3ZlcmxhcER1cmF0aW9uKSA9PiB7CiAgICBjb25zdCBjaGFubmVscyA9IE1hdGgubWF4KGxlZnQubnVtYmVyT2ZDaGFubmVscywgcmlnaHQubnVtYmVyT2ZDaGFubmVscyk7CiAgICBjb25zdCBzYW1wbGVSYXRlID0gbGVmdC5zYW1wbGVSYXRlOwogICAgY29uc3QgdG90YWxEdXJhdGlvbiA9IGxlZnQuZHVyYXRpb24gKyByaWdodC5kdXJhdGlvbiAtIG92ZXJsYXBEdXJhdGlvbjsKICAgIGNvbnN0IGxlbmd0aCA9IE1hdGguY2VpbCh0b3RhbER1cmF0aW9uICogc2FtcGxlUmF0ZSk7CiAgICBjb25zdCBjdHggPSBuZXcgT2ZmbGluZUF1ZGlvQ29udGV4dChjaGFubmVscywgbGVuZ3RoLCBzYW1wbGVSYXRlKTsKICAgIGNvbnN0IHNyY0xlZnQgPSBjdHguY3JlYXRlQnVmZmVyU291cmNlKCk7CiAgICBzcmNMZWZ0LmJ1ZmZlciA9IGxlZnQ7CiAgICBjb25zdCBnYWluTGVmdCA9IGN0eC5jcmVhdGVHYWluKCk7CiAgICBzcmNMZWZ0LmNvbm5lY3QoZ2FpbkxlZnQpOwogICAgZ2FpbkxlZnQuY29ubmVjdChjdHguZGVzdGluYXRpb24pOwogICAgY29uc3Qgc3JjUmlnaHQgPSBjdHguY3JlYXRlQnVmZmVyU291cmNlKCk7CiAgICBzcmNSaWdodC5idWZmZXIgPSByaWdodDsKICAgIGNvbnN0IGdhaW5SaWdodCA9IGN0eC5jcmVhdGVHYWluKCk7CiAgICBzcmNSaWdodC5jb25uZWN0KGdhaW5SaWdodCk7CiAgICBnYWluUmlnaHQuY29ubmVjdChjdHguZGVzdGluYXRpb24pOwogICAgY29uc3Qgb3ZlcmxhcFN0YXJ0ID0gbGVmdC5kdXJhdGlvbiAtIG92ZXJsYXBEdXJhdGlvbjsKICAgIGdhaW5MZWZ0LmdhaW4uc2V0VmFsdWVBdFRpbWUoMSwgb3ZlcmxhcFN0YXJ0KTsKICAgIGdhaW5MZWZ0LmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoMCwgbGVmdC5kdXJhdGlvbik7CiAgICBjb25zdCByaWdodFN0YXJ0VGltZSA9IG92ZXJsYXBTdGFydDsKICAgIGdhaW5SaWdodC5nYWluLnNldFZhbHVlQXRUaW1lKDAsIHJpZ2h0U3RhcnRUaW1lKTsKICAgIGdhaW5SaWdodC5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDEsIHJpZ2h0U3RhcnRUaW1lICsgb3ZlcmxhcER1cmF0aW9uKTsKICAgIHNyY0xlZnQuc3RhcnQoMCk7CiAgICBzcmNSaWdodC5zdGFydChyaWdodFN0YXJ0VGltZSk7CiAgICByZXR1cm4gYXdhaXQgY3R4LnN0YXJ0UmVuZGVyaW5nKCk7Cn07CmV4cG9ydCBjb25zdCBjaGFuZ2VTcGVlZCA9IGFzeW5jIChidWZmZXIsIHBsYXliYWNrUmF0ZSwgcHJlc2VydmVQaXRjaCA9IGZhbHNlKSA9PiB7CiAgICBpZiAocHJlc2VydmVQaXRjaCkgewogICAgICAgIC8vIFVzZSBHcmFudWxhciBUaW1lIFN0cmV0Y2gKICAgICAgICByZXR1cm4gYXdhaXQgZ3JhbnVsYXJUaW1lU3RyZXRjaChidWZmZXIsIHBsYXliYWNrUmF0ZSk7CiAgICB9CiAgICBlbHNlIHsKICAgICAgICAvLyBTdGFuZGFyZCBSZXNhbXBsaW5nIChDaGFuZ2VzIFBpdGNoKQogICAgICAgIGNvbnN0IG5ld0R1cmF0aW9uID0gYnVmZmVyLmR1cmF0aW9uIC8gcGxheWJhY2tSYXRlOwogICAgICAgIGNvbnN0IGN0eCA9IG5ldyBPZmZsaW5lQXVkaW9Db250ZXh0KGJ1ZmZlci5udW1iZXJPZkNoYW5uZWxzLCBNYXRoLmNlaWwobmV3RHVyYXRpb24gKiBidWZmZXIuc2FtcGxlUmF0ZSksIGJ1ZmZlci5zYW1wbGVSYXRlKTsKICAgICAgICBjb25zdCBzb3VyY2UgPSBjdHguY3JlYXRlQnVmZmVyU291cmNlKCk7CiAgICAgICAgc291cmNlLmJ1ZmZlciA9IGJ1ZmZlcjsKICAgICAgICBzb3VyY2UucGxheWJhY2tSYXRlLnZhbHVlID0gcGxheWJhY2tSYXRlOwogICAgICAgIHNvdXJjZS5jb25uZWN0KGN0eC5kZXN0aW5hdGlvbik7CiAgICAgICAgc291cmNlLnN0YXJ0KCk7CiAgICAgICAgcmV0dXJuIGF3YWl0IGN0eC5zdGFydFJlbmRlcmluZygpOwogICAgfQp9OwpleHBvcnQgY29uc3QgcmV2ZXJzZUJ1ZmZlciA9IChidWZmZXIpID0+IHsKICAgIGNvbnN0IGN0eCA9IGdldEF1ZGlvQ29udGV4dCgpOwogICAgY29uc3QgbmV3QnVmZmVyID0gY3R4LmNyZWF0ZUJ1ZmZlcihidWZmZXIubnVtYmVyT2ZDaGFubmVscywgYnVmZmVyLmxlbmd0aCwgYnVmZmVyLnNhbXBsZVJhdGUpOwogICAgZm9yIChsZXQgYyA9IDA7IGMgPCBidWZmZXIubnVtYmVyT2ZDaGFubmVsczsgYysrKSB7CiAgICAgICAgY29uc3Qgb2xkRGF0YSA9IGJ1ZmZlci5nZXRDaGFubmVsRGF0YShjKTsKICAgICAgICBjb25zdCBuZXdEYXRhID0gbmV3QnVmZmVyLmdldENoYW5uZWxEYXRhKGMpOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3RGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBuZXdEYXRhW2ldID0gb2xkRGF0YVtidWZmZXIubGVuZ3RoIC0gMSAtIGldOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiBuZXdCdWZmZXI7Cn07CmV4cG9ydCBjb25zdCBub3JtYWxpemVCdWZmZXIgPSAoYnVmZmVyKSA9PiB7CiAgICBsZXQgbWF4ID0gMDsKICAgIGZvciAobGV0IGMgPSAwOyBjIDwgYnVmZmVyLm51bWJlck9mQ2hhbm5lbHM7IGMrKykgewogICAgICAgIGNvbnN0IGRhdGEgPSBidWZmZXIuZ2V0Q2hhbm5lbERhdGEoYyk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkYXRhW2ldKSA+IG1heCkKICAgICAgICAgICAgICAgIG1heCA9IE1hdGguYWJzKGRhdGFbaV0pOwogICAgICAgIH0KICAgIH0KICAgIGlmIChtYXggPT09IDApCiAgICAgICAgcmV0dXJuIGJ1ZmZlcjsKICAgIGNvbnN0IGFtcCA9IDAuOTggLyBtYXg7CiAgICBjb25zdCBjdHggPSBnZXRBdWRpb0NvbnRleHQoKTsKICAgIGNvbnN0IG5ld0J1ZmZlciA9IGN0eC5jcmVhdGVCdWZmZXIoYnVmZmVyLm51bWJlck9mQ2hhbm5lbHMsIGJ1ZmZlci5sZW5ndGgsIGJ1ZmZlci5zYW1wbGVSYXRlKTsKICAgIGZvciAobGV0IGMgPSAwOyBjIDwgYnVmZmVyLm51bWJlck9mQ2hhbm5lbHM7IGMrKykgewogICAgICAgIGNvbnN0IG9sZERhdGEgPSBidWZmZXIuZ2V0Q2hhbm5lbERhdGEoYyk7CiAgICAgICAgY29uc3QgbmV3RGF0YSA9IG5ld0J1ZmZlci5nZXRDaGFubmVsRGF0YShjKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld0RhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgbmV3RGF0YVtpXSA9IG9sZERhdGFbaV0gKiBhbXA7CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIG5ld0J1ZmZlcjsKfTsKZXhwb3J0IGNvbnN0IHJlc2FtcGxlQnVmZmVyID0gYXN5bmMgKGJ1ZmZlciwgdGFyZ2V0UmF0ZSkgPT4gewogICAgaWYgKGJ1ZmZlci5zYW1wbGVSYXRlID09PSB0YXJnZXRSYXRlKQogICAgICAgIHJldHVybiBidWZmZXI7CiAgICBjb25zdCBjdHggPSBuZXcgT2ZmbGluZUF1ZGlvQ29udGV4dChidWZmZXIubnVtYmVyT2ZDaGFubmVscywgYnVmZmVyLmR1cmF0aW9uICogdGFyZ2V0UmF0ZSwgdGFyZ2V0UmF0ZSk7CiAgICBjb25zdCBzb3VyY2UgPSBjdHguY3JlYXRlQnVmZmVyU291cmNlKCk7CiAgICBzb3VyY2UuYnVmZmVyID0gYnVmZmVyOwogICAgc291cmNlLmNvbm5lY3QoY3R4LmRlc3RpbmF0aW9uKTsKICAgIHNvdXJjZS5zdGFydCgpOwogICAgcmV0dXJuIGF3YWl0IGN0eC5zdGFydFJlbmRlcmluZygpOwp9OwpleHBvcnQgY29uc3QgYXBwbHlFUSA9IGFzeW5jIChidWZmZXIsIHByZXNldCkgPT4gewogICAgY29uc3QgY3R4ID0gbmV3IE9mZmxpbmVBdWRpb0NvbnRleHQoYnVmZmVyLm51bWJlck9mQ2hhbm5lbHMsIGJ1ZmZlci5sZW5ndGgsIGJ1ZmZlci5zYW1wbGVSYXRlKTsKICAgIGNvbnN0IHNvdXJjZSA9IGN0eC5jcmVhdGVCdWZmZXJTb3VyY2UoKTsKICAgIHNvdXJjZS5idWZmZXIgPSBidWZmZXI7CiAgICBjb25zdCBmaWx0ZXJzID0gW107CiAgICBjb25zdCBjcmVhdGVGaWx0ZXIgPSAodHlwZSwgZnJlcSwgZ2FpbiA9IDAsIFEgPSAxKSA9PiB7CiAgICAgICAgY29uc3QgZiA9IGN0eC5jcmVhdGVCaXF1YWRGaWx0ZXIoKTsKICAgICAgICBmLnR5cGUgPSB0eXBlOwogICAgICAgIGYuZnJlcXVlbmN5LnZhbHVlID0gZnJlcTsKICAgICAgICBmLmdhaW4udmFsdWUgPSBnYWluOwogICAgICAgIGYuUS52YWx1ZSA9IFE7CiAgICAgICAgcmV0dXJuIGY7CiAgICB9OwogICAgc3dpdGNoIChwcmVzZXQpIHsKICAgICAgICBjYXNlICdUZWxlcGhvbmUnOgogICAgICAgICAgICBmaWx0ZXJzLnB1c2goY3JlYXRlRmlsdGVyKCdoaWdocGFzcycsIDQwMCkpOwogICAgICAgICAgICBmaWx0ZXJzLnB1c2goY3JlYXRlRmlsdGVyKCdsb3dwYXNzJywgMzAwMCkpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdCYXNzIEJvb3N0JzoKICAgICAgICAgICAgZmlsdGVycy5wdXNoKGNyZWF0ZUZpbHRlcignbG93c2hlbGYnLCAxMDAsIDgpKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnVHJlYmxlIEJvb3N0JzoKICAgICAgICAgICAgZmlsdGVycy5wdXNoKGNyZWF0ZUZpbHRlcignaGlnaHNoZWxmJywgMzAwMCwgOCkpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdCYXNzIEN1dCc6CiAgICAgICAgICAgIGZpbHRlcnMucHVzaChjcmVhdGVGaWx0ZXIoJ2xvd3NoZWxmJywgMTAwLCAtMTIpKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnVHJlYmxlIEN1dCc6CiAgICAgICAgICAgIGZpbHRlcnMucHVzaChjcmVhdGVGaWx0ZXIoJ2hpZ2hzaGVsZicsIDMwMDAsIC0xMikpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdNaWQgQm9vc3QnOgogICAgICAgICAgICBmaWx0ZXJzLnB1c2goY3JlYXRlRmlsdGVyKCdwZWFraW5nJywgMTAwMCwgNiwgMSkpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdWLVNoYXBlJzoKICAgICAgICAgICAgZmlsdGVycy5wdXNoKGNyZWF0ZUZpbHRlcignbG93c2hlbGYnLCAxMDAsIDQpKTsKICAgICAgICAgICAgZmlsdGVycy5wdXNoKGNyZWF0ZUZpbHRlcigncGVha2luZycsIDEwMDAsIC02LCAxKSk7CiAgICAgICAgICAgIGZpbHRlcnMucHVzaChjcmVhdGVGaWx0ZXIoJ2hpZ2hzaGVsZicsIDMwMDAsIDQpKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnTG8tRmkgUmFkaW8nOgogICAgICAgICAgICBmaWx0ZXJzLnB1c2goY3JlYXRlRmlsdGVyKCdoaWdocGFzcycsIDIwMCkpOwogICAgICAgICAgICBmaWx0ZXJzLnB1c2goY3JlYXRlRmlsdGVyKCdsb3dwYXNzJywgMjAwMCkpOwogICAgICAgICAgICBmaWx0ZXJzLnB1c2goY3JlYXRlRmlsdGVyKCdwZWFraW5nJywgMTAwMCwgMTAsIDIpKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcjsKICAgIH0KICAgIGxldCBjdXJyZW50Tm9kZSA9IHNvdXJjZTsKICAgIGZpbHRlcnMuZm9yRWFjaChmID0+IHsKICAgICAgICBjdXJyZW50Tm9kZS5jb25uZWN0KGYpOwogICAgICAgIGN1cnJlbnROb2RlID0gZjsKICAgIH0pOwogICAgY3VycmVudE5vZGUuY29ubmVjdChjdHguZGVzdGluYXRpb24pOwogICAgc291cmNlLnN0YXJ0KCk7CiAgICByZXR1cm4gYXdhaXQgY3R4LnN0YXJ0UmVuZGVyaW5nKCk7Cn07Ci8vIC0tLSBDb3JlIEVkaXRpbmcgLS0tCmV4cG9ydCBjb25zdCB0cmltQnVmZmVyID0gKGJ1ZmZlciwgc3RhcnQsIGVuZCkgPT4gewogICAgY29uc3QgY3R4ID0gZ2V0QXVkaW9Db250ZXh0KCk7CiAgICBjb25zdCByYXRlID0gYnVmZmVyLnNhbXBsZVJhdGU7CiAgICBjb25zdCBzdGFydE9mZnNldCA9IE1hdGguZmxvb3Ioc3RhcnQgKiByYXRlKTsKICAgIGNvbnN0IGVuZE9mZnNldCA9IE1hdGguZmxvb3IoZW5kICogcmF0ZSk7CiAgICBjb25zdCBmcmFtZUNvdW50ID0gZW5kT2Zmc2V0IC0gc3RhcnRPZmZzZXQ7CiAgICBpZiAoZnJhbWVDb3VudCA8PSAwKQogICAgICAgIHJldHVybiBjdHguY3JlYXRlQnVmZmVyKGJ1ZmZlci5udW1iZXJPZkNoYW5uZWxzLCAxLCByYXRlKTsKICAgIGNvbnN0IG5ld0J1ZmZlciA9IGN0eC5jcmVhdGVCdWZmZXIoYnVmZmVyLm51bWJlck9mQ2hhbm5lbHMsIGZyYW1lQ291bnQsIHJhdGUpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXIubnVtYmVyT2ZDaGFubmVsczsgaSsrKSB7CiAgICAgICAgY29uc3QgY2hhbkRhdGEgPSBidWZmZXIuZ2V0Q2hhbm5lbERhdGEoaSk7CiAgICAgICAgY29uc3QgbmV3Q2hhbkRhdGEgPSBuZXdCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoaSk7CiAgICAgICAgaWYgKHN0YXJ0T2Zmc2V0ID49IDAgJiYgc3RhcnRPZmZzZXQgPCBjaGFuRGF0YS5sZW5ndGgpIHsKICAgICAgICAgICAgY29uc3Qgc2VnbWVudCA9IGNoYW5EYXRhLnNsaWNlKHN0YXJ0T2Zmc2V0LCBzdGFydE9mZnNldCArIGZyYW1lQ291bnQpOwogICAgICAgICAgICBuZXdDaGFuRGF0YS5zZXQoc2VnbWVudCk7CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIG5ld0J1ZmZlcjsKfTsKZXhwb3J0IGNvbnN0IHNwbGl0QnVmZmVyID0gKGJ1ZmZlciwgc3BsaXRUaW1lKSA9PiB7CiAgICBpZiAoc3BsaXRUaW1lIDw9IDAgfHwgc3BsaXRUaW1lID49IGJ1ZmZlci5kdXJhdGlvbikKICAgICAgICByZXR1cm4gbnVsbDsKICAgIGNvbnN0IHBhcnQxID0gdHJpbUJ1ZmZlcihidWZmZXIsIDAsIHNwbGl0VGltZSk7CiAgICBjb25zdCBwYXJ0MiA9IHRyaW1CdWZmZXIoYnVmZmVyLCBzcGxpdFRpbWUsIGJ1ZmZlci5kdXJhdGlvbik7CiAgICByZXR1cm4gW3BhcnQxLCBwYXJ0Ml07Cn07Ci8vIC0tLSBHZW5lcmF0aW9uIC0tLQpleHBvcnQgY29uc3QgZ2VuZXJhdGVEcnVtQmVhdCA9IGFzeW5jIChzdHlsZSwgYnBtLCBiYXJzKSA9PiB7CiAgICBjb25zdCBzciA9IERFRkFVTFRfU0FNUExFX1JBVEU7CiAgICBjb25zdCBiZWF0cyA9IEJFQVRfUEFUVEVSTlNbc3R5bGVdIHx8IEJFQVRfUEFUVEVSTlNbJ01ldHJvbm9tZSddOwogICAgY29uc3QgYmVhdExlbiA9IDYwIC8gYnBtOwogICAgY29uc3Qgc3RlcExlbiA9IGJlYXRMZW4gLyA0OwogICAgY29uc3QgdG90YWxEdXJhdGlvbiA9IGJhcnMgKiA0ICogYmVhdExlbjsKICAgIGNvbnN0IGN0eCA9IG5ldyBPZmZsaW5lQXVkaW9Db250ZXh0KDIsIE1hdGguY2VpbCh0b3RhbER1cmF0aW9uICogc3IpLCBzcik7CiAgICBjb25zdCBwYXR0ZXJuID0gYmVhdHNbMF07CiAgICBjb25zdCBjcmVhdGVTb3VuZCA9ICh0eXBlLCB0aW1lKSA9PiB7CiAgICAgICAgY29uc3Qgb3NjID0gY3R4LmNyZWF0ZU9zY2lsbGF0b3IoKTsKICAgICAgICBjb25zdCBnYWluID0gY3R4LmNyZWF0ZUdhaW4oKTsKICAgICAgICBvc2MuY29ubmVjdChnYWluKTsKICAgICAgICBnYWluLmNvbm5lY3QoY3R4LmRlc3RpbmF0aW9uKTsKICAgICAgICBpZiAodHlwZSA9PT0gMSkgeyAvLyBLaWNrCiAgICAgICAgICAgIG9zYy5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoMTUwLCB0aW1lKTsKICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIHRpbWUgKyAwLjUpOwogICAgICAgICAgICBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMSwgdGltZSk7CiAgICAgICAgICAgIGdhaW4uZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIHRpbWUgKyAwLjUpOwogICAgICAgICAgICBvc2Muc3RhcnQodGltZSk7CiAgICAgICAgICAgIG9zYy5zdG9wKHRpbWUgKyAwLjUpOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmICh0eXBlID09PSAyKSB7IC8vIFNuYXJlCiAgICAgICAgICAgIG9zYy50eXBlID0gJ3RyaWFuZ2xlJzsKICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZSgxMDAsIHRpbWUpOwogICAgICAgICAgICBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC44LCB0aW1lKTsKICAgICAgICAgICAgZ2Fpbi5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgdGltZSArIDAuMik7CiAgICAgICAgICAgIG9zYy5zdGFydCh0aW1lKTsKICAgICAgICAgICAgb3NjLnN0b3AodGltZSArIDAuMik7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IDMpIHsgLy8gSGlIYXQKICAgICAgICAgICAgb3NjLnR5cGUgPSAnc3F1YXJlJzsKICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZSg4MDAsIHRpbWUpOwogICAgICAgICAgICBjb25zdCBmaWx0ZXIgPSBjdHguY3JlYXRlQmlxdWFkRmlsdGVyKCk7CiAgICAgICAgICAgIGZpbHRlci50eXBlID0gJ2hpZ2hwYXNzJzsKICAgICAgICAgICAgZmlsdGVyLmZyZXF1ZW5jeS52YWx1ZSA9IDUwMDA7CiAgICAgICAgICAgIG9zYy5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgIG9zYy5jb25uZWN0KGZpbHRlcik7CiAgICAgICAgICAgIGZpbHRlci5jb25uZWN0KGdhaW4pOwogICAgICAgICAgICBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4zLCB0aW1lKTsKICAgICAgICAgICAgZ2Fpbi5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgdGltZSArIDAuMDUpOwogICAgICAgICAgICBvc2Muc3RhcnQodGltZSk7CiAgICAgICAgICAgIG9zYy5zdG9wKHRpbWUgKyAwLjA1KTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gNCkgeyAvLyBNZXRybyBIaWdoCiAgICAgICAgICAgIG9zYy5mcmVxdWVuY3kudmFsdWUgPSAxMjAwOwogICAgICAgICAgICBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC41LCB0aW1lKTsKICAgICAgICAgICAgZ2Fpbi5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgdGltZSArIDAuMSk7CiAgICAgICAgICAgIG9zYy5zdGFydCh0aW1lKTsKICAgICAgICAgICAgb3NjLnN0b3AodGltZSArIDAuMSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IDUpIHsgLy8gTWV0cm8gTG93CiAgICAgICAgICAgIG9zYy5mcmVxdWVuY3kudmFsdWUgPSA4MDA7CiAgICAgICAgICAgIGdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjUsIHRpbWUpOwogICAgICAgICAgICBnYWluLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAxLCB0aW1lICsgMC4xKTsKICAgICAgICAgICAgb3NjLnN0YXJ0KHRpbWUpOwogICAgICAgICAgICBvc2Muc3RvcCh0aW1lICsgMC4xKTsKICAgICAgICB9CiAgICB9OwogICAgZm9yIChsZXQgYiA9IDA7IGIgPCBiYXJzOyBiKyspIHsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyBpKyspIHsKICAgICAgICAgICAgY29uc3Qgc291bmRUeXBlID0gcGF0dGVybltpXTsKICAgICAgICAgICAgaWYgKHNvdW5kVHlwZSA+IDApIHsKICAgICAgICAgICAgICAgIGNvbnN0IHRpbWUgPSAoYiAqIDE2ICsgaSkgKiBzdGVwTGVuOwogICAgICAgICAgICAgICAgY3JlYXRlU291bmQoc291bmRUeXBlLCB0aW1lKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIHJldHVybiBhd2FpdCBjdHguc3RhcnRSZW5kZXJpbmcoKTsKfTsKLy8gLS0tIE1peGluZyAtLS0KZXhwb3J0IGNvbnN0IG1peFRyYWNrcyA9IGFzeW5jICh0cmFja3MsIGR1cmF0aW9uKSA9PiB7CiAgICBjb25zdCBjdHggPSBuZXcgT2ZmbGluZUF1ZGlvQ29udGV4dCgyLCBkdXJhdGlvbiAqIERFRkFVTFRfU0FNUExFX1JBVEUsIERFRkFVTFRfU0FNUExFX1JBVEUpOwogICAgdHJhY2tzLmZvckVhY2godHJhY2sgPT4gewogICAgICAgIGlmICh0cmFjay5pc011dGVkKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgY29uc3Qgc291cmNlID0gY3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpOwogICAgICAgIHNvdXJjZS5idWZmZXIgPSB0cmFjay5idWZmZXI7CiAgICAgICAgY29uc3QgZ2FpbiA9IGN0eC5jcmVhdGVHYWluKCk7CiAgICAgICAgZ2Fpbi5nYWluLnZhbHVlID0gdHJhY2sudm9sdW1lOwogICAgICAgIC8vIEFwcGx5IFZvbHVtZSBBdXRvbWF0aW9uIGN1cnZlIGlmIGV4aXN0cwogICAgICAgIGlmICh0cmFjay52b2x1bWVBdXRvbWF0aW9uICYmIHRyYWNrLnZvbHVtZUF1dG9tYXRpb24ubGVuZ3RoID4gMCkgewogICAgICAgICAgICBjb25zdCBwb2ludHMgPSBbLi4udHJhY2sudm9sdW1lQXV0b21hdGlvbl0uc29ydCgoYSwgYikgPT4gYS50aW1lIC0gYi50aW1lKTsKICAgICAgICAgICAgZ2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKHBvaW50c1swXS52YWx1ZSwgTWF0aC5tYXgoMCwgcG9pbnRzWzBdLnRpbWUgKyB0cmFjay5zdGFydFRpbWUpKTsKICAgICAgICAgICAgcG9pbnRzLmZvckVhY2goKHAsIGkpID0+IHsKICAgICAgICAgICAgICAgIGlmIChpID4gMCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBNYXRoLm1heCgwLCBwLnRpbWUgKyB0cmFjay5zdGFydFRpbWUpOwogICAgICAgICAgICAgICAgICAgIC8vIFVzZSBsaW5lYXIgcmFtcCBmb3IgYXV0b21hdGlvbgogICAgICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShwLnZhbHVlLCB0aW1lKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIHNvdXJjZS5jb25uZWN0KGdhaW4pOwogICAgICAgIGdhaW4uY29ubmVjdChjdHguZGVzdGluYXRpb24pOwogICAgICAgIHNvdXJjZS5zdGFydCh0cmFjay5zdGFydFRpbWUsIHRyYWNrLnRyaW1TdGFydCwgdHJhY2suZHVyYXRpb24pOwogICAgfSk7CiAgICByZXR1cm4gYXdhaXQgY3R4LnN0YXJ0UmVuZGVyaW5nKCk7Cn07CmV4cG9ydCBjb25zdCBlbmNvZGVXQVZCdWZmZXIgPSAoYnVmZmVyKSA9PiB7CiAgICBjb25zdCBudW1DaGFubmVscyA9IGJ1ZmZlci5udW1iZXJPZkNoYW5uZWxzOwogICAgY29uc3Qgc2FtcGxlUmF0ZSA9IGJ1ZmZlci5zYW1wbGVSYXRlOwogICAgY29uc3QgZm9ybWF0ID0gMTsKICAgIGNvbnN0IGJpdERlcHRoID0gMTY7CiAgICBjb25zdCBieXRlc1BlclNhbXBsZSA9IGJpdERlcHRoIC8gODsKICAgIGNvbnN0IGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGg7CiAgICBjb25zdCBkYXRhTGVuZ3RoID0gbGVuZ3RoICogbnVtQ2hhbm5lbHMgKiBieXRlc1BlclNhbXBsZTsKICAgIGNvbnN0IGJ1ZmZlckxlbmd0aCA9IDQ0ICsgZGF0YUxlbmd0aDsKICAgIGNvbnN0IGFycmF5QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGJ1ZmZlckxlbmd0aCk7CiAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyKTsKICAgIGNvbnN0IHdyaXRlU3RyaW5nID0gKG9mZnNldCwgc3RyaW5nKSA9PiB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmlldy5zZXRVaW50OChvZmZzZXQgKyBpLCBzdHJpbmcuY2hhckNvZGVBdChpKSk7CiAgICAgICAgfQogICAgfTsKICAgIHdyaXRlU3RyaW5nKDAsICdSSUZGJyk7CiAgICB2aWV3LnNldFVpbnQzMig0LCAzNiArIGRhdGFMZW5ndGgsIHRydWUpOwogICAgd3JpdGVTdHJpbmcoOCwgJ1dBVkUnKTsKICAgIHdyaXRlU3RyaW5nKDEyLCAnZm10ICcpOwogICAgdmlldy5zZXRVaW50MzIoMTYsIDE2LCB0cnVlKTsKICAgIHZpZXcuc2V0VWludDE2KDIwLCBmb3JtYXQsIHRydWUpOwogICAgdmlldy5zZXRVaW50MTYoMjIsIG51bUNoYW5uZWxzLCB0cnVlKTsKICAgIHZpZXcuc2V0VWludDMyKDI0LCBzYW1wbGVSYXRlLCB0cnVlKTsKICAgIHZpZXcuc2V0VWludDMyKDI4LCBzYW1wbGVSYXRlICogbnVtQ2hhbm5lbHMgKiBieXRlc1BlclNhbXBsZSwgdHJ1ZSk7CiAgICB2aWV3LnNldFVpbnQxNigzMiwgbnVtQ2hhbm5lbHMgKiBieXRlc1BlclNhbXBsZSwgdHJ1ZSk7CiAgICB2aWV3LnNldFVpbnQxNigzNCwgYml0RGVwdGgsIHRydWUpOwogICAgd3JpdGVTdHJpbmcoMzYsICdkYXRhJyk7CiAgICB2aWV3LnNldFVpbnQzMig0MCwgZGF0YUxlbmd0aCwgdHJ1ZSk7CiAgICBsZXQgb2Zmc2V0ID0gNDQ7CiAgICBjb25zdCBjaGFubmVscyA9IFtdOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1DaGFubmVsczsgaSsrKSB7CiAgICAgICAgY2hhbm5lbHMucHVzaChidWZmZXIuZ2V0Q2hhbm5lbERhdGEoaSkpOwogICAgfQogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgIGZvciAobGV0IGNoID0gMDsgY2ggPCBudW1DaGFubmVsczsgY2grKykgewogICAgICAgICAgICBjb25zdCBzYW1wbGUgPSBjaGFubmVsc1tjaF1baV07CiAgICAgICAgICAgIGNvbnN0IHMgPSBNYXRoLm1heCgtMSwgTWF0aC5taW4oMSwgc2FtcGxlKSk7CiAgICAgICAgICAgIHZpZXcuc2V0SW50MTYob2Zmc2V0LCBzIDwgMCA/IHMgKiAweDgwMDAgOiBzICogMHg3RkZGLCB0cnVlKTsKICAgICAgICAgICAgb2Zmc2V0ICs9IDI7CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIGFycmF5QnVmZmVyOwp9OwpleHBvcnQgY29uc3QgZW5jb2RlV0FWID0gKGJ1ZmZlcikgPT4gewogICAgcmV0dXJuIG5ldyBCbG9iKFtlbmNvZGVXQVZCdWZmZXIoYnVmZmVyKV0sIHsgdHlwZTogJ2F1ZGlvL3dhdicgfSk7Cn07Ci8vIFBsYWNlaG9sZGVyIGZvciBGTEFDIGVuY29kaW5nIHVzaW5nIFdBViBsb2dpYyBmb3Igbm93IGFzIG5vIGxpYnJhcnkgaXMgYXZhaWxhYmxlLgovLyBJbiBhIHJlYWwgc2NlbmFyaW8sIHRoaXMgd291bGQgdXNlIGxpYmZsYWMuanMgb3IgTWVkaWFSZWNvcmRlciB3aXRoIGF1ZGlvL2ZsYWMgbWltZSB0eXBlLgpleHBvcnQgY29uc3QgZW5jb2RlRkxBQyA9IChidWZmZXIpID0+IHsKICAgIC8vIFdlIHdyYXAgV0FWIGRhdGEgYnV0IGxhYmVsIGl0IGRpZmZlcmVudGx5IGZvciBub3cuIAogICAgLy8gSWRlYWxseSwgaW50ZWdyYXRpb24gd2l0aCBmbGFjLmpzIHdvdWxkIGhhcHBlbiBoZXJlLgogICAgcmV0dXJuIG5ldyBCbG9iKFtlbmNvZGVXQVZCdWZmZXIoYnVmZmVyKV0sIHsgdHlwZTogJ2F1ZGlvL2ZsYWMnIH0pOwp9OwpleHBvcnQgY29uc3QgZW5jb2RlTVAzID0gKGJ1ZmZlcikgPT4gewogICAgY29uc3QgbGFtZSA9IHdpbmRvdy5sYW1lanM7CiAgICBpZiAoIWxhbWUpCiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJNUDMgRW5jb2RlciBub3QgbG9hZGVkIik7CiAgICBjb25zdCBjaGFubmVscyA9IGJ1ZmZlci5udW1iZXJPZkNoYW5uZWxzOwogICAgY29uc3Qgc2FtcGxlUmF0ZSA9IGJ1ZmZlci5zYW1wbGVSYXRlOwogICAgY29uc3Qga2JwcyA9IDEyODsKICAgIGNvbnN0IG1wM0VuY29kZXIgPSBuZXcgbGFtZS5NcDNFbmNvZGVyKGNoYW5uZWxzLCBzYW1wbGVSYXRlLCBrYnBzKTsKICAgIGNvbnN0IHNhbXBsZXNMID0gYnVmZmVyLmdldENoYW5uZWxEYXRhKDApOwogICAgY29uc3Qgc2FtcGxlc1IgPSBjaGFubmVscyA+IDEgPyBidWZmZXIuZ2V0Q2hhbm5lbERhdGEoMSkgOiB1bmRlZmluZWQ7CiAgICBjb25zdCBjb252ZXJ0VG9JbnQxNiA9IChkYXRhKSA9PiB7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEludDE2QXJyYXkoZGF0YS5sZW5ndGgpOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBjb25zdCBzID0gTWF0aC5tYXgoLTEsIE1hdGgubWluKDEsIGRhdGFbaV0pKTsKICAgICAgICAgICAgcmVzdWx0W2ldID0gcyA8IDAgPyBzICogMHg4MDAwIDogcyAqIDB4N0ZGRjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07CiAgICBjb25zdCBpbnQxNkwgPSBjb252ZXJ0VG9JbnQxNihzYW1wbGVzTCk7CiAgICBjb25zdCBpbnQxNlIgPSBzYW1wbGVzUiA/IGNvbnZlcnRUb0ludDE2KHNhbXBsZXNSKSA6IHVuZGVmaW5lZDsKICAgIGNvbnN0IG1wM0RhdGEgPSBbXTsKICAgIGNvbnN0IG1wM2J1ZiA9IG1wM0VuY29kZXIuZW5jb2RlQnVmZmVyKGludDE2TCwgaW50MTZSKTsKICAgIGlmIChtcDNidWYubGVuZ3RoID4gMCkKICAgICAgICBtcDNEYXRhLnB1c2gobXAzYnVmKTsKICAgIGNvbnN0IGZsdXNoID0gbXAzRW5jb2Rlci5mbHVzaCgpOwogICAgaWYgKGZsdXNoLmxlbmd0aCA+IDApCiAgICAgICAgbXAzRGF0YS5wdXNoKGZsdXNoKTsKICAgIHJldHVybiBuZXcgQmxvYihtcDNEYXRhLCB7IHR5cGU6ICdhdWRpby9tcDMnIH0pOwp9Owo=","@/services/geminiService":"data:application/javascript;base64,Ly8gTGVnYWN5IGNvZGUgcmVtb3ZlZCBmb3Igc3RhYmlsaXR5Cg==","@/components/Button":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmNvbnN0IEJ1dHRvbiA9ICh7IHZhcmlhbnQgPSAncHJpbWFyeScsIGljb24sIGxhYmVsLCBmdWxsV2lkdGggPSBmYWxzZSwgY2xhc3NOYW1lID0gJycsIGNoaWxkcmVuLCAuLi5wcm9wcyB9KSA9PiB7CiAgICBjb25zdCBiYXNlU3R5bGVzID0gImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweC00IHB5LTMgcm91bmRlZC14bCBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWFsbCBhY3RpdmU6c2NhbGUtOTUgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIHRvdWNoLW1hbmlwdWxhdGlvbiI7CiAgICBjb25zdCB2YXJpYW50cyA9IHsKICAgICAgICBwcmltYXJ5OiAiYmctY3lhbi01MDAgaG92ZXI6YmctY3lhbi00MDAgdGV4dC1ibGFjayBzaGFkb3ctbGcgc2hhZG93LWN5YW4tNTAwLzIwIiwKICAgICAgICBzZWNvbmRhcnk6ICJiZy16aW5jLTgwMCBob3ZlcjpiZy16aW5jLTcwMCB0ZXh0LXppbmMtMTAwIGJvcmRlciBib3JkZXItemluYy03MDAiLAogICAgICAgIGRhbmdlcjogImJnLXJlZC01MDAvMTAgaG92ZXI6YmctcmVkLTUwMC8yMCB0ZXh0LXJlZC00MDAgYm9yZGVyIGJvcmRlci1yZWQtNTAwLzUwIiwKICAgICAgICBnaG9zdDogImJnLXRyYW5zcGFyZW50IGhvdmVyOmJnLXppbmMtODAwLzUwIHRleHQtemluYy00MDAgaG92ZXI6dGV4dC16aW5jLTIwMCIKICAgIH07CiAgICBjb25zdCB3aWR0aENsYXNzID0gZnVsbFdpZHRoID8gJ3ctZnVsbCcgOiAnJzsKICAgIHJldHVybiAoX2pzeHMoImJ1dHRvbiIsIHsgY2xhc3NOYW1lOiBgJHtiYXNlU3R5bGVzfSAke3ZhcmlhbnRzW3ZhcmlhbnRdfSAke3dpZHRoQ2xhc3N9ICR7Y2xhc3NOYW1lfWAsIC4uLnByb3BzLCBjaGlsZHJlbjogW2ljb24gJiYgX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiBsYWJlbCB8fCBjaGlsZHJlbiA/ICJtci0yIiA6ICIiLCBjaGlsZHJlbjogaWNvbiB9KSwgbGFiZWwgfHwgY2hpbGRyZW5dIH0pKTsKfTsKZXhwb3J0IGRlZmF1bHQgQnV0dG9uOwo=","@/components/WaveformDisplay":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCwgeyB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgU0VMRUNUSU9OX0NPTE9SIH0gZnJvbSAnQC9jb25zdGFudHMnOwpjb25zdCBkYXJrZW5Db2xvciA9IChoZXgsIHBlcmNlbnQpID0+IHsKICAgIGxldCBudW0gPSBwYXJzZUludChoZXgucmVwbGFjZSgiIyIsICIiKSwgMTYpLCBhbXQgPSBNYXRoLnJvdW5kKDIuNTUgKiBwZXJjZW50KSwgUiA9IChudW0gPj4gMTYpIC0gYW10LCBHID0gKG51bSA+PiA4ICYgMHgwMEZGKSAtIGFtdCwgQiA9IChudW0gJiAweDAwMDBGRikgLSBhbXQ7CiAgICByZXR1cm4gIiMiICsgKDB4MTAwMDAwMCArIChSIDwgMjU1ID8gUiA8IDEgPyAwIDogUiA6IDI1NSkgKiAweDEwMDAwICsgKEcgPCAyNTUgPyBHIDwgMSA/IDAgOiBHIDogMjU1KSAqIDB4MTAwICsgKEIgPCAyNTUgPyBCIDwgMSA/IDAgOiBCIDogMjU1KSkudG9TdHJpbmcoMTYpLnNsaWNlKDEpOwp9Owpjb25zdCBXYXZlZm9ybURpc3BsYXkgPSAoeyBidWZmZXIsIGN1cnJlbnRUaW1lLCBzdGFydFRpbWUsIHRyaW1TdGFydCwgZHVyYXRpb24sIHNlbGVjdGlvbiwgY29sb3IsIHpvb20sIG9uU2VsZWN0aW9uQ2hhbmdlLCBjb2xvck92ZXJyaWRlLCBmYWRlSW5EdXJhdGlvbiA9IDAsIGZhZGVPdXREdXJhdGlvbiA9IDAsIGhlaWdodCA9IDgwIH0pID0+IHsKICAgIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZihudWxsKTsKICAgIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZihudWxsKTsKICAgIC8vIENvbXB1dGVkIGRpbWVuc2lvbnMgYmFzZWQgb24gem9vbSBhbmQgdmlzaWJsZSBkdXJhdGlvbgogICAgY29uc3Qgd2lkdGggPSBNYXRoLm1heCgxLCBNYXRoLmNlaWwoZHVyYXRpb24gKiB6b29tKSk7CiAgICAvLyBVc2UgcGFzc2VkIGhlaWdodCwgZW5zdXJpbmcgYSBtaW5pbXVtIGZvciB2aXNpYmlsaXR5CiAgICBjb25zdCByZW5kZXJIZWlnaHQgPSBNYXRoLm1heCgyMCwgaGVpZ2h0KTsKICAgIC8vIERyYXcgbG9vcAogICAgdXNlRWZmZWN0KCgpID0+IHsKICAgICAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDsKICAgICAgICBjb25zdCBjdHggPSBjYW52YXM/LmdldENvbnRleHQoJzJkJyk7CiAgICAgICAgaWYgKCFjYW52YXMgfHwgIWN0eCB8fCAhYnVmZmVyKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgLy8gUmVzZXQgY2FudmFzIGRpbWVuc2lvbnMgZm9yIGhpZ2ggRFBJCiAgICAgICAgY29uc3QgZHByID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTsKICAgICAgICBpZiAoY2FudmFzLndpZHRoICE9PSB3aWR0aCAqIGRwciB8fCBjYW52YXMuaGVpZ2h0ICE9PSByZW5kZXJIZWlnaHQgKiBkcHIpIHsKICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGggKiBkcHI7CiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSByZW5kZXJIZWlnaHQgKiBkcHI7CiAgICAgICAgICAgIGN0eC5zY2FsZShkcHIsIGRwcik7CiAgICAgICAgfQogICAgICAgIC8vIENsZWFyCiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgcmVuZGVySGVpZ2h0KTsKICAgICAgICAvLyBEcmF3IFdhdmVmb3JtIC0gU2xpY2UgbG9naWMKICAgICAgICBjb25zdCBkYXRhID0gYnVmZmVyLmdldENoYW5uZWxEYXRhKDApOwogICAgICAgIC8vIFdlIG9ubHkgcmVuZGVyIHBpeGVscyBjb3JyZXNwb25kaW5nIHRvIHRoZSB0cmltbWVkIHNlY3Rpb24KICAgICAgICBjb25zdCBzdGFydFNhbXBsZSA9IE1hdGguZmxvb3IodHJpbVN0YXJ0ICogYnVmZmVyLnNhbXBsZVJhdGUpOwogICAgICAgIGNvbnN0IHZpc2libGVTYW1wbGVzID0gTWF0aC5mbG9vcihkdXJhdGlvbiAqIGJ1ZmZlci5zYW1wbGVSYXRlKTsKICAgICAgICAvLyBTdGVwIHNpemU6IEhvdyBtYW55IHNhbXBsZXMgcGVyIHBpeGVsCiAgICAgICAgY29uc3Qgc3RlcCA9IE1hdGguY2VpbCh2aXNpYmxlU2FtcGxlcyAvIHdpZHRoKTsKICAgICAgICBjb25zdCBhbXAgPSByZW5kZXJIZWlnaHQgLyAyOwogICAgICAgIGlmIChjb2xvck92ZXJyaWRlKSB7CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvck92ZXJyaWRlOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IGdyYWRpZW50ID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIDAsIDAsIHJlbmRlckhlaWdodCk7CiAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMCwgY29sb3IpOwogICAgICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDEsIGRhcmtlbkNvbG9yKGNvbG9yLCA0MCkpOwogICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGdyYWRpZW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2lkdGg7IGkrKykgewogICAgICAgICAgICAvLyBUaW1lIHJlbGF0aXZlIHRvIHRoZSBTVEFSVCBvZiB0aGUgdmlzaWJsZSBjbGlwCiAgICAgICAgICAgIGNvbnN0IHQgPSBpIC8gem9vbTsKICAgICAgICAgICAgbGV0IG1pbiA9IDEuMDsKICAgICAgICAgICAgbGV0IG1heCA9IC0xLjA7CiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBpbmRleCByZWxhdGl2ZSB0byB0aGUgdHJpbVN0YXJ0CiAgICAgICAgICAgIGNvbnN0IGRhdGFJbmRleCA9IHN0YXJ0U2FtcGxlICsgTWF0aC5mbG9vcihpICogc3RlcCk7CiAgICAgICAgICAgIGlmIChkYXRhSW5kZXggPj0gZGF0YS5sZW5ndGgpCiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgLy8gU2FtcGxpbmcKICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzdGVwOyBqKyspIHsKICAgICAgICAgICAgICAgIGlmIChkYXRhSW5kZXggKyBqID49IGRhdGEubGVuZ3RoKQogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY29uc3QgZGF0dW0gPSBkYXRhW2RhdGFJbmRleCArIGpdOwogICAgICAgICAgICAgICAgaWYgKGRhdHVtIDwgbWluKQogICAgICAgICAgICAgICAgICAgIG1pbiA9IGRhdHVtOwogICAgICAgICAgICAgICAgaWYgKGRhdHVtID4gbWF4KQogICAgICAgICAgICAgICAgICAgIG1heCA9IGRhdHVtOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChtaW4gPT09IDEuMCAmJiBtYXggPT09IC0xLjApIHsKICAgICAgICAgICAgICAgIG1pbiA9IDA7CiAgICAgICAgICAgICAgICBtYXggPSAwOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIEFwcGx5IFZpc3VhbCBHYWluIGZvciBGYWRlcwogICAgICAgICAgICBsZXQgZ2FpbiA9IDEuMDsKICAgICAgICAgICAgLy8gRmFkZSBJbgogICAgICAgICAgICBpZiAoZmFkZUluRHVyYXRpb24gPiAwICYmIHQgPCBmYWRlSW5EdXJhdGlvbikgewogICAgICAgICAgICAgICAgZ2FpbiAqPSAodCAvIGZhZGVJbkR1cmF0aW9uKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBGYWRlIE91dAogICAgICAgICAgICBpZiAoZmFkZU91dER1cmF0aW9uID4gMCAmJiB0ID4gKGR1cmF0aW9uIC0gZmFkZU91dER1cmF0aW9uKSkgewogICAgICAgICAgICAgICAgY29uc3QgdGltZUZyb21FbmQgPSBkdXJhdGlvbiAtIHQ7CiAgICAgICAgICAgICAgICBnYWluICo9ICh0aW1lRnJvbUVuZCAvIGZhZGVPdXREdXJhdGlvbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gQ2xhbXAgZ2FpbgogICAgICAgICAgICBnYWluID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgZ2FpbikpOwogICAgICAgICAgICBtaW4gKj0gZ2FpbjsKICAgICAgICAgICAgbWF4ICo9IGdhaW47CiAgICAgICAgICAgIC8vIERyYXcgdmVydGljYWwgYmFyIGZvciB0aGUgc2FtcGxlIGNodW5rCiAgICAgICAgICAgIGNvbnN0IHlUb3AgPSAoMSArIG1pbikgKiBhbXA7CiAgICAgICAgICAgIGNvbnN0IHlCb3R0b20gPSAoMSArIG1heCkgKiBhbXA7CiAgICAgICAgICAgIGNvbnN0IGJhckhlaWdodCA9IE1hdGgubWF4KDEsIHlCb3R0b20gLSB5VG9wKTsKICAgICAgICAgICAgY3R4LmZpbGxSZWN0KGksIHlUb3AsIDEsIGJhckhlaWdodCk7CiAgICAgICAgfQogICAgICAgIC8vIERyYXcgU2VsZWN0aW9uCiAgICAgICAgaWYgKHNlbGVjdGlvbikgewogICAgICAgICAgICBjb25zdCB0cmFja0VuZCA9IHN0YXJ0VGltZSArIGR1cmF0aW9uOwogICAgICAgICAgICBpZiAoc2VsZWN0aW9uLmVuZCA+IHN0YXJ0VGltZSAmJiBzZWxlY3Rpb24uc3RhcnQgPCB0cmFja0VuZCkgewogICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVTdGFydCA9IE1hdGgubWF4KDAsIHNlbGVjdGlvbi5zdGFydCAtIHN0YXJ0VGltZSk7CiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZUVuZCA9IE1hdGgubWluKGR1cmF0aW9uLCBzZWxlY3Rpb24uZW5kIC0gc3RhcnRUaW1lKTsKICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0UHggPSByZWxhdGl2ZVN0YXJ0ICogem9vbTsKICAgICAgICAgICAgICAgIGNvbnN0IGVuZFB4ID0gcmVsYXRpdmVFbmQgKiB6b29tOwogICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFNFTEVDVElPTl9DT0xPUjsKICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdChzdGFydFB4LCAwLCBlbmRQeCAtIHN0YXJ0UHgsIHJlbmRlckhlaWdodCk7CiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNmZmYnOwogICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHN0YXJ0UHgsIDAsIDEsIHJlbmRlckhlaWdodCk7CiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoZW5kUHgsIDAsIDEsIHJlbmRlckhlaWdodCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LCBbYnVmZmVyLCBzdGFydFRpbWUsIHRyaW1TdGFydCwgZHVyYXRpb24sIHNlbGVjdGlvbiwgd2lkdGgsIHJlbmRlckhlaWdodCwgY29sb3IsIHpvb20sIGNvbG9yT3ZlcnJpZGUsIGZhZGVJbkR1cmF0aW9uLCBmYWRlT3V0RHVyYXRpb25dKTsKICAgIHJldHVybiAoX2pzeCgiZGl2IiwgeyByZWY6IGNvbnRhaW5lclJlZiwgc3R5bGU6IHsgd2lkdGg6IGAke3dpZHRofXB4YCwgaGVpZ2h0OiBgJHtyZW5kZXJIZWlnaHR9cHhgIH0sIGNsYXNzTmFtZTogYHJlbGF0aXZlIHNocmluay0wIHJvdW5kZWQtbGcgb3ZlcmZsb3ctaGlkZGVuICR7Y29sb3JPdmVycmlkZSA/ICcnIDogJ3JpbmctMSByaW5nLXdoaXRlLzUnfWAsIGNoaWxkcmVuOiBfanN4KCJjYW52YXMiLCB7IHJlZjogY2FudmFzUmVmLCBzdHlsZTogeyB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICcxMDAlJyB9IH0pIH0pKTsKfTsKZXhwb3J0IGRlZmF1bHQgV2F2ZWZvcm1EaXNwbGF5Owo=","@/components/AIGeneratorModal":"data:application/javascript;base64,Ly8gTGVnYWN5IGNvZGUgcmVtb3ZlZCBmb3Igc3RhYmlsaXR5Cg==","@/App":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMsIEZyYWdtZW50IGFzIF9GcmFnbWVudCB9IGZyb20gInJlYWN0L2pzeC1ydW50aW1lIjsKaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2ssIHVzZUxheW91dEVmZmVjdCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IEJ1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvQnV0dG9uJzsKaW1wb3J0IEJlYXRNYWtlck1vZGFsIGZyb20gJ0AvY29tcG9uZW50cy9CZWF0TWFrZXJNb2RhbCc7CmltcG9ydCBFZmZlY3RzTW9kYWwgZnJvbSAnQC9jb21wb25lbnRzL0VmZmVjdHNNb2RhbCc7CmltcG9ydCBFeHBvcnRNb2RhbCBmcm9tICdAL2NvbXBvbmVudHMvRXhwb3J0TW9kYWwnOwppbXBvcnQgeyBIZWFkZXIgfSBmcm9tICdAL2NvbXBvbmVudHMvSGVhZGVyJzsKaW1wb3J0IHsgVHJhbnNwb3J0Q29udHJvbHMgfSBmcm9tICdAL2NvbXBvbmVudHMvVHJhbnNwb3J0Q29udHJvbHMnOwppbXBvcnQgeyBUaW1lbGluZSB9IGZyb20gJ0AvY29tcG9uZW50cy9UaW1lbGluZSc7CmltcG9ydCB7IGdldEF1ZGlvQ29udGV4dCwgZGVjb2RlQXVkaW9EYXRhLCBlbmNvZGVXQVYsIGVuY29kZU1QMywgZW5jb2RlRkxBQywgYXBwbHlGYWRlLCBtZXJnZUJ1ZmZlcnMsIGNoYW5nZVNwZWVkLCByZXZlcnNlQnVmZmVyLCBub3JtYWxpemVCdWZmZXIsIHJlc2FtcGxlQnVmZmVyLCBhcHBseUVRLCBtaXhUcmFja3MsIGdlbmVyYXRlUHJvamVjdFByZXZpZXcsIGRldGVjdEJQTSB9IGZyb20gJ0Avc2VydmljZXMvYXVkaW9VdGlscyc7CmltcG9ydCB7IHNhdmVQcm9qZWN0LCBsb2FkUHJvamVjdHMsIGxvYWRQcm9qZWN0VHJhY2tzLCBkZWxldGVQcm9qZWN0LCB1cGRhdGVQcm9qZWN0TmFtZSB9IGZyb20gJ0Avc2VydmljZXMvc3RvcmFnZVNlcnZpY2UnOwppbXBvcnQgeyBBcHBTdGF0ZSB9IGZyb20gJ0AvdHlwZXMnOwppbXBvcnQgeyBERUZBVUxUX1pPT00sIE1BWF9aT09NLCBNSU5fWk9PTSwgVFJBQ0tfQ09MT1JTLCBERUZBVUxUX0xBTkVfSEVJR0hULCBNSU5fTEFORV9IRUlHSFQsIFNOQVBfVEhSRVNIT0xEX1BYLCBMT05HX1BSRVNTX0RVUkFUSU9OLCBEUkFHX1RIUkVTSE9MRF9QWCB9IGZyb20gJ0AvY29uc3RhbnRzJzsKLy8gSWNvbnMKY29uc3QgTGlicmFyeUljb24gPSAoKSA9PiBfanN4KCJzdmciLCB7IGNsYXNzTmFtZTogInctNiBoLTYiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNMTIgNi4yNTN2MTNtMC0xM0MxMC44MzIgNS40NzcgOS4yNDYgNSA3LjUgNVM0LjE2OCA1LjQ3NyAzIDYuMjUzdjEzQzQuMTY4IDE4LjQ3NyA1Ljc1NCAxOCA3LjUgMThzMy4zMzIuNDc3IDQuNSAxLjI1M20wLTEzQzEzLjE2OCA1LjQ3NyAxNC43NTQgNSAxNi41IDVjMS43NDcgMCAzLjMzMi40NzcgNC41IDEuMjUzdjEzQzE5LjgzMiAxOC40NzcgMTguMjQ3IDE4IDE2LjUgMThjLTEuNzQ2IDAtMy4zMzIuNDc3LTQuNSAxLjI1MyIgfSkgfSk7CmNvbnN0IFBlbmNpbEljb24gPSAoKSA9PiBfanN4KCJzdmciLCB7IGNsYXNzTmFtZTogInctNCBoLTQiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNMTUuMjMyIDUuMjMybDMuNTM2IDMuNTM2bS0yLjAzNi01LjAzNmEyLjUgMi41IDAgMTEzLjUzNiAzLjUzNkw2LjUgMjEuMDM2SDN2LTMuNTcyTDE2LjczMiAzLjczMnoiIH0pIH0pOwpjb25zdCBDaGVja0ljb24gPSAoKSA9PiBfanN4KCJzdmciLCB7IGNsYXNzTmFtZTogInctNCBoLTQiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNNC41IDEyLjc1bDYgNiA5LTEzLjUiIH0pIH0pOwpjb25zdCBOZXdEb2NJY29uID0gKCkgPT4gX2pzeCgic3ZnIiwgeyBjbGFzc05hbWU6ICJ3LTUgaC01IiwgZmlsbDogIm5vbmUiLCBzdHJva2U6ICJjdXJyZW50Q29sb3IiLCBzdHJva2VXaWR0aDogIjIiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IHN0cm9rZUxpbmVjYXA6ICJyb3VuZCIsIHN0cm9rZUxpbmVqb2luOiAicm91bmQiLCBkOiAiTTEyIDQuNXYxNW03LjUtNy41aC0xNSIgfSkgfSk7CmNvbnN0IFRyYXNoSWNvbiA9ICgpID0+IF9qc3goInN2ZyIsIHsgY2xhc3NOYW1lOiAidy00IGgtNCIsIGZpbGw6ICJub25lIiwgc3Ryb2tlOiAiY3VycmVudENvbG9yIiwgc3Ryb2tlV2lkdGg6ICIyIiwgdmlld0JveDogIjAgMCAyNCAyNCIsIGNoaWxkcmVuOiBfanN4KCJwYXRoIiwgeyBzdHJva2VMaW5lY2FwOiAicm91bmQiLCBzdHJva2VMaW5lam9pbjogInJvdW5kIiwgZDogIk0xOSA3bC0uODY3IDEyLjE0MkEyIDIgMCAwMTE2LjEzOCAyMUg3Ljg2MmEyIDIgMCAwMS0xLjk5NS0xLjg1OEw1IDdtNSA0djZtNC02djZtMS0xMFY0YTEgMSAwIDAwLTEtMWgtNGExIDEgMCAwMC0xIDF2M000IDdoMTYiIH0pIH0pOwpjb25zdCBMb2FkaW5nU3Bpbm5lciA9ICgpID0+IF9qc3hzKCJzdmciLCB7IGNsYXNzTmFtZTogImFuaW1hdGUtc3BpbiBoLTggdy04IHRleHQtY3lhbi01MDAiLCB4bWxuczogImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwgZmlsbDogIm5vbmUiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IFtfanN4KCJjaXJjbGUiLCB7IGNsYXNzTmFtZTogIm9wYWNpdHktMjUiLCBjeDogIjEyIiwgY3k6ICIxMiIsIHI6ICIxMCIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiNCIgfSksIF9qc3goInBhdGgiLCB7IGNsYXNzTmFtZTogIm9wYWNpdHktNzUiLCBmaWxsOiAiY3VycmVudENvbG9yIiwgZDogIk00IDEyYTggOCAwIDAxOC04VjBDNS4zNzMgMCAwIDUuMzczIDAgMTJoNHptMiA1LjI5MUE3Ljk2MiA3Ljk2MiAwIDAxNCAxMkgwYzAgMy4wNDIgMS4xMzUgNS44MjQgMyA3LjkzOGwzLTIuNjQ3eiIgfSldIH0pOwpjb25zdCBmb3JtYXRUaW1lID0gKHNlY29uZHMpID0+IHsKICAgIGlmIChzZWNvbmRzIDwgNjApCiAgICAgICAgcmV0dXJuIGAke3NlY29uZHMudG9GaXhlZCgyKX1zYDsKICAgIGNvbnN0IG0gPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCk7CiAgICBjb25zdCBzID0gKHNlY29uZHMgJSA2MCkudG9GaXhlZCgyKTsKICAgIHJldHVybiBgJHttfW0gJHtzfXNgOwp9Owpjb25zdCBBcHAgPSAoKSA9PiB7CiAgICAvLyBTdGF0ZQogICAgY29uc3QgW3RyYWNrcywgc2V0VHJhY2tzXSA9IHVzZVN0YXRlKFtdKTsKICAgIGNvbnN0IFtoaXN0b3J5LCBzZXRIaXN0b3J5XSA9IHVzZVN0YXRlKFtdKTsKICAgIGNvbnN0IFtzZWxlY3RlZFRyYWNrSWQsIHNldFNlbGVjdGVkVHJhY2tJZF0gPSB1c2VTdGF0ZShudWxsKTsKICAgIGNvbnN0IFtpc1BsYXlpbmcsIHNldElzUGxheWluZ10gPSB1c2VTdGF0ZShmYWxzZSk7CiAgICBjb25zdCBbaXNTY3J1YmJpbmcsIHNldElzU2NydWJiaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsKICAgIGNvbnN0IFtpc1JlY29yZGluZywgc2V0SXNSZWNvcmRpbmddID0gdXNlU3RhdGUoZmFsc2UpOwogICAgY29uc3QgW2N1cnJlbnRUaW1lLCBzZXRDdXJyZW50VGltZV0gPSB1c2VTdGF0ZSgwKTsKICAgIGNvbnN0IFtzZWxlY3Rpb24sIHNldFNlbGVjdGlvbl0gPSB1c2VTdGF0ZShudWxsKTsKICAgIGNvbnN0IFthcHBTdGF0ZSwgc2V0QXBwU3RhdGVdID0gdXNlU3RhdGUoQXBwU3RhdGUuSURMRSk7CiAgICBjb25zdCBbbG9hZEVycm9yLCBzZXRMb2FkRXJyb3JdID0gdXNlU3RhdGUobnVsbCk7CiAgICBjb25zdCBbem9vbSwgc2V0Wm9vbV0gPSB1c2VTdGF0ZShERUZBVUxUX1pPT00pOwogICAgY29uc3QgW2xhbmVIZWlnaHQsIHNldExhbmVIZWlnaHRdID0gdXNlU3RhdGUoREVGQVVMVF9MQU5FX0hFSUdIVCk7CiAgICBjb25zdCBbc2F2ZVN0YXR1cywgc2V0U2F2ZVN0YXR1c10gPSB1c2VTdGF0ZSgnc2F2ZWQnKTsKICAgIGNvbnN0IFtpc0JlYXRNb2RhbE9wZW4sIHNldEJlYXRNb2RhbE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpOwogICAgY29uc3QgW2lzRWZmZWN0c01vZGFsT3Blbiwgc2V0RWZmZWN0c01vZGFsT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgICBjb25zdCBbaXNFeHBvcnRNb2RhbE9wZW4sIHNldEV4cG9ydE1vZGFsT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgICAvLyBQZXJzaXN0ZW5jZQogICAgY29uc3QgW2N1cnJlbnRQcm9qZWN0SWQsIHNldEN1cnJlbnRQcm9qZWN0SWRdID0gdXNlU3RhdGUobnVsbCk7CiAgICBjb25zdCBbY3VycmVudFByb2plY3ROYW1lLCBzZXRDdXJyZW50UHJvamVjdE5hbWVdID0gdXNlU3RhdGUoIiIpOwogICAgY29uc3QgW3NhdmVkUHJvamVjdHMsIHNldFNhdmVkUHJvamVjdHNdID0gdXNlU3RhdGUoW10pOwogICAgY29uc3QgW3JlY2VudFByb2plY3RQcmV2aWV3LCBzZXRSZWNlbnRQcm9qZWN0UHJldmlld10gPSB1c2VTdGF0ZShudWxsKTsKICAgIGNvbnN0IFtwcm9qZWN0VG9EZWxldGUsIHNldFByb2plY3RUb0RlbGV0ZV0gPSB1c2VTdGF0ZShudWxsKTsKICAgIC8vIEd1YXJkIHRvIHByZXZlbnQgYXV0b3NhdmUgb3ZlcndyaXRlcyBkdXJpbmcgbG9hZGluZwogICAgY29uc3QgaWdub3JlQ2hhbmdlc1JlZiA9IHVzZVJlZihmYWxzZSk7CiAgICBjb25zdCBpc0RpcnR5UmVmID0gdXNlUmVmKGZhbHNlKTsKICAgIC8vIElubGluZSBSZW5hbWluZyBTdGF0ZQogICAgY29uc3QgW2VkaXRpbmdQcm9qZWN0SWQsIHNldEVkaXRpbmdQcm9qZWN0SWRdID0gdXNlU3RhdGUobnVsbCk7CiAgICBjb25zdCBbZWRpdGluZ05hbWUsIHNldEVkaXRpbmdOYW1lXSA9IHVzZVN0YXRlKCIiKTsKICAgIC8vIFZpZXdwb3J0IFRyYWNraW5nCiAgICBjb25zdCBbdmlld3BvcnRXaWR0aCwgc2V0Vmlld3BvcnRXaWR0aF0gPSB1c2VTdGF0ZSh3aW5kb3cuaW5uZXJXaWR0aCk7CiAgICAvLyBOZXcgTW9kZXMKICAgIGNvbnN0IFtpc1RyaW1Nb2RlLCBzZXRJc1RyaW1Nb2RlXSA9IHVzZVN0YXRlKGZhbHNlKTsKICAgIGNvbnN0IFt0cmltU3RhdGUsIHNldFRyaW1TdGF0ZV0gPSB1c2VTdGF0ZShudWxsKTsKICAgIC8vIEludGVyYWN0aXZlIEZhZGUgTW9kZQogICAgY29uc3QgW2ludGVyYWN0aXZlTW9kZSwgc2V0SW50ZXJhY3RpdmVNb2RlXSA9IHVzZVN0YXRlKG51bGwpOwogICAgLy8gRHJhZ2dpbmcgU3RhdGUKICAgIGNvbnN0IFtkcmFnZ2luZ1RyYWNrSWQsIHNldERyYWdnaW5nVHJhY2tJZF0gPSB1c2VTdGF0ZShudWxsKTsKICAgIGNvbnN0IGxvbmdQcmVzc1RpbWVyUmVmID0gdXNlUmVmKG51bGwpOwogICAgY29uc3QgZHJhZ1JlZiA9IHVzZVJlZih7CiAgICAgICAgc3RhcnRYOiAwLCBzdGFydFk6IDAsIG9mZnNldFRpbWU6IDAsIHRyYWNrSWQ6ICcnLCBsYXN0UG9pbnRlclg6IDAsIGxhc3RQb2ludGVyWTogMCwKICAgICAgICBpc1RpbWVsaW5lVGFwOiBmYWxzZSwgdGltZWxpbmVTdGFydFg6IDAsIHRhcmdldEVsZW1lbnQ6IG51bGwsIHBvaW50ZXJJZDogLTEsCiAgICAgICAgYXV0b21hdGlvbkluZGV4OiAtMQogICAgfSk7CiAgICBjb25zdCBsYXN0RHJhZ1BvcyA9IHVzZVJlZihudWxsKTsKICAgIGNvbnN0IGF1dG9TY3JvbGxSZWYgPSB1c2VSZWYoeyB2eDogMCwgdnk6IDAgfSk7CiAgICAvLyBQaW5jaCBab29tIFJlZnMKICAgIGNvbnN0IGFjdGl2ZVBvaW50ZXJzID0gdXNlUmVmKG5ldyBNYXAoKSk7CiAgICBjb25zdCBbaXNab29taW5nLCBzZXRJc1pvb21pbmddID0gdXNlU3RhdGUoZmFsc2UpOyAvLyBUcmFjayB6b29taW5nIHN0YXRlIHRvIGxvY2sgc2Nyb2xsCiAgICBjb25zdCBwaW5jaFN0YXRlID0gdXNlUmVmKHsgbW9kZTogbnVsbCwgc3RhcnREaXN0OiAwLCBzdGFydERpc3RYOiAwLCBzdGFydERpc3RZOiAwLCBzdGFydFpvb206IDAsIHN0YXJ0TGFuZUhlaWdodDogMCwgaXNMb2NrZWQ6IGZhbHNlIH0pOwogICAgY29uc3QgcGVuZGluZ1Njcm9sbFJlZiA9IHVzZVJlZihudWxsKTsKICAgIC8vIFJlZnMKICAgIGNvbnN0IGF1ZGlvU291cmNlTm9kZXMgPSB1c2VSZWYoW10pOwogICAgY29uc3QgbWVkaWFSZWNvcmRlclJlZiA9IHVzZVJlZihudWxsKTsKICAgIGNvbnN0IHN0YXJ0VGltZVJlZiA9IHVzZVJlZigwKTsKICAgIGNvbnN0IGZpbGVJbnB1dFJlZiA9IHVzZVJlZihudWxsKTsKICAgIGNvbnN0IHRpbWVsaW5lUmVmID0gdXNlUmVmKG51bGwpOwogICAgY29uc3QgcGxheWhlYWRSZWYgPSB1c2VSZWYobnVsbCk7CiAgICBjb25zdCBzYXZlVGltZW91dFJlZiA9IHVzZVJlZihudWxsKTsKICAgIC8vIFRyYWNrcyBSZWYgZm9yIEV2ZW50IEhhbmRsZXJzCiAgICBjb25zdCB0cmFja3NSZWYgPSB1c2VSZWYodHJhY2tzKTsKICAgIHVzZUVmZmVjdCgoKSA9PiB7IHRyYWNrc1JlZi5jdXJyZW50ID0gdHJhY2tzOyB9LCBbdHJhY2tzXSk7CiAgICAvLyBBcHBseSBwZW5kaW5nIHNjcm9sbCBhZGp1c3RtZW50cyBhZnRlciB6b29tIGxheW91dCB1cGRhdGVzCiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4gewogICAgICAgIGlmIChwZW5kaW5nU2Nyb2xsUmVmLmN1cnJlbnQgIT09IG51bGwgJiYgdGltZWxpbmVSZWYuY3VycmVudCkgewogICAgICAgICAgICB0aW1lbGluZVJlZi5jdXJyZW50LnNjcm9sbExlZnQgPSBwZW5kaW5nU2Nyb2xsUmVmLmN1cnJlbnQ7CiAgICAgICAgICAgIHBlbmRpbmdTY3JvbGxSZWYuY3VycmVudCA9IG51bGw7CiAgICAgICAgfQogICAgfSwgW3pvb21dKTsKICAgIC8vIEF1dG8gU2Nyb2xsIExvb3AKICAgIHVzZUVmZmVjdCgoKSA9PiB7CiAgICAgICAgbGV0IGZyYW1lSWQ7CiAgICAgICAgY29uc3Qgc2Nyb2xsTG9vcCA9ICgpID0+IHsKICAgICAgICAgICAgaWYgKGRyYWdnaW5nVHJhY2tJZCAmJiB0aW1lbGluZVJlZi5jdXJyZW50ICYmIChhdXRvU2Nyb2xsUmVmLmN1cnJlbnQudnggIT09IDAgfHwgYXV0b1Njcm9sbFJlZi5jdXJyZW50LnZ5ICE9PSAwKSkgewogICAgICAgICAgICAgICAgdGltZWxpbmVSZWYuY3VycmVudC5zY3JvbGxMZWZ0ICs9IGF1dG9TY3JvbGxSZWYuY3VycmVudC52eDsKICAgICAgICAgICAgICAgIHRpbWVsaW5lUmVmLmN1cnJlbnQuc2Nyb2xsVG9wICs9IGF1dG9TY3JvbGxSZWYuY3VycmVudC52eTsKICAgICAgICAgICAgICAgIC8vIElmIGF1dG8tc2Nyb2xsaW5nLCBmb3JjZSB1cGRhdGUgdHJhY2sgcG9zaXRpb24gYmFzZWQgb24gbGFzdCBrbm93biBwb2ludGVyIHBvcwogICAgICAgICAgICAgICAgaWYgKGxhc3REcmFnUG9zLmN1cnJlbnQpIHsKICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVHJhY2tEcmFnKGxhc3REcmFnUG9zLmN1cnJlbnQueCwgbGFzdERyYWdQb3MuY3VycmVudC55LCBkcmFnZ2luZ1RyYWNrSWQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZyYW1lSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc2Nyb2xsTG9vcCk7CiAgICAgICAgfTsKICAgICAgICBmcmFtZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNjcm9sbExvb3ApOwogICAgICAgIHJldHVybiAoKSA9PiBjYW5jZWxBbmltYXRpb25GcmFtZShmcmFtZUlkKTsKICAgIH0sIFtkcmFnZ2luZ1RyYWNrSWQsIHpvb20sIGxhbmVIZWlnaHRdKTsKICAgIC8vIERlcml2ZWQgU3RhdGU6IFNtYXJ0IFNlbGVjdGlvbgogICAgY29uc3QgZWZmZWN0aXZlU2VsZWN0ZWRUcmFja0lkID0gc2VsZWN0ZWRUcmFja0lkIHx8ICgoKSA9PiB7CiAgICAgICAgY29uc3QgYXRQbGF5aGVhZCA9IHRyYWNrcy5maWx0ZXIodCA9PiBjdXJyZW50VGltZSA+PSB0LnN0YXJ0VGltZSAmJiBjdXJyZW50VGltZSA8IHQuc3RhcnRUaW1lICsgdC5kdXJhdGlvbik7CiAgICAgICAgcmV0dXJuIGF0UGxheWhlYWQubGVuZ3RoID09PSAxID8gYXRQbGF5aGVhZFswXS5pZCA6IG51bGw7CiAgICB9KSgpOwogICAgY29uc3Qgc2VsZWN0ZWRUcmFjayA9IHRyYWNrcy5maW5kKHQgPT4gdC5pZCA9PT0gZWZmZWN0aXZlU2VsZWN0ZWRUcmFja0lkKTsKICAgIC8vIENhbGN1bGF0ZSBtYXhEdXJhdGlvbiBhbmQgbGF5b3V0IG1ldHJpY3MKICAgIGNvbnN0IG1heER1cmF0aW9uID0gdHJhY2tzLmxlbmd0aCA+IDAgPyBNYXRoLm1heCguLi50cmFja3MubWFwKHQgPT4gdC5zdGFydFRpbWUgKyB0LmR1cmF0aW9uKSkgOiAwOwogICAgY29uc3QgbWF4TGFuZSA9IHRyYWNrcy5sZW5ndGggPiAwID8gTWF0aC5tYXgoLi4udHJhY2tzLm1hcCh0ID0+IHQubGFuZSkpIDogMDsKICAgIGNvbnN0IHRvdGFsTGFuZXMgPSBtYXhMYW5lICsgMjsKICAgIC8vIERldGVybWluZSBQcm9qZWN0IEJQTSAoZnJvbSBmaXJzdCB0cmFjayBvciBkZWZhdWx0KQogICAgY29uc3QgcHJvamVjdEJwbSA9IHRyYWNrcy5maW5kKHQgPT4gdC5icG0pPy5icG0gfHwgMTIwOwogICAgY29uc3QgYmVhdER1cmF0aW9uID0gNjAgLyBwcm9qZWN0QnBtOwogICAgLy8gQ2FsY3VsYXRlIGR5bmFtaWMgbWluaW11bSB6b29tIHRvIGZpdCBlbnRpcmUgcHJvamVjdAogICAgY29uc3QgbWluWm9vbSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gewogICAgICAgIGlmIChtYXhEdXJhdGlvbiA8PSAwKQogICAgICAgICAgICByZXR1cm4gTUlOX1pPT007CiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSB6b29tIGxldmVsIHJlcXVpcmVkIHRvIGZpdCB0aGUgZW50aXJlIHByb2plY3QgaW4gdGhlIHZpZXdwb3J0CiAgICAgICAgY29uc3QgZml0Wm9vbSA9IHZpZXdwb3J0V2lkdGggLyBtYXhEdXJhdGlvbjsKICAgICAgICAvLyBVc2UgTWF0aC5taW4gc28gaWYgZml0Wm9vbSBpcyBzbWFsbCAobG9uZyBwcm9qZWN0KSwgd2UgYWxsb3cgem9vbWluZyBvdXQgdG8gaXQuCiAgICAgICAgLy8gSWYgZml0Wm9vbSBpcyBodWdlIChzaG9ydCBwcm9qZWN0KSwgd2UgY2FwIGF0IE1JTl9aT09NICgxMCkgdG8gcHJldmVudCB0aW55IHRyYWNrcy4KICAgICAgICByZXR1cm4gTWF0aC5taW4oTUlOX1pPT00sIGZpdFpvb20pOwogICAgfSwgW21heER1cmF0aW9uLCB2aWV3cG9ydFdpZHRoXSk7CiAgICAvLyBTdGlja3kgQXV0by1ab29tIExvZ2ljCiAgICBjb25zdCBwcmV2TWluWm9vbVJlZiA9IHVzZVJlZihtaW5ab29tKTsKICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7CiAgICAgICAgY29uc3QgcHJldk1pbiA9IHByZXZNaW5ab29tUmVmLmN1cnJlbnQ7CiAgICAgICAgY29uc3QgY3VycmVudE1pbiA9IG1pblpvb207CiAgICAgICAgY29uc3QgaXNBdE1pbiA9IE1hdGguYWJzKHpvb20gLSBwcmV2TWluKSA8IChwcmV2TWluICogMC4wMSkgfHwgem9vbSA8IHByZXZNaW47CiAgICAgICAgaWYgKHpvb20gPCBjdXJyZW50TWluKSB7CiAgICAgICAgICAgIHNldFpvb20oY3VycmVudE1pbik7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKGlzQXRNaW4gJiYgY3VycmVudE1pbiA8IHByZXZNaW4pIHsKICAgICAgICAgICAgc2V0Wm9vbShjdXJyZW50TWluKTsKICAgICAgICB9CiAgICAgICAgcHJldk1pblpvb21SZWYuY3VycmVudCA9IGN1cnJlbnRNaW47CiAgICB9LCBbbWluWm9vbSwgem9vbV0pOwogICAgLy8gVmlld3BvcnQgUmVzaXplIE9ic2VydmVyCiAgICB1c2VFZmZlY3QoKCkgPT4gewogICAgICAgIGlmICh0aW1lbGluZVJlZi5jdXJyZW50KSB7CiAgICAgICAgICAgIHNldFZpZXdwb3J0V2lkdGgodGltZWxpbmVSZWYuY3VycmVudC5jbGllbnRXaWR0aCk7CiAgICAgICAgfQogICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGVudHJpZXMgPT4gewogICAgICAgICAgICBmb3IgKGxldCBlbnRyeSBvZiBlbnRyaWVzKSB7CiAgICAgICAgICAgICAgICBzZXRWaWV3cG9ydFdpZHRoKGVudHJ5LmNvbnRlbnRSZWN0LndpZHRoKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGlmICh0aW1lbGluZVJlZi5jdXJyZW50KQogICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRpbWVsaW5lUmVmLmN1cnJlbnQpOwogICAgICAgIHJldHVybiAoKSA9PiBvYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICB9LCBbXSk7CiAgICBjb25zdCBwZXJmb3JtWm9vbSA9IChuZXdab29tKSA9PiB7CiAgICAgICAgY29uc3Qgc2FmZVpvb20gPSBNYXRoLm1pbihNQVhfWk9PTSwgTWF0aC5tYXgobWluWm9vbSwgbmV3Wm9vbSkpOwogICAgICAgIGlmIChNYXRoLmFicyhzYWZlWm9vbSAtIHpvb20pIDwgMC4wMDAxKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHRpbWVsaW5lUmVmLmN1cnJlbnQpIHsKICAgICAgICAgICAgY29uc3QgcmVjdCA9IHRpbWVsaW5lUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICAgIGNvbnN0IHZpZXdwb3J0VyA9IHJlY3Qud2lkdGg7CiAgICAgICAgICAgIC8vIENlbnRyYWxseSB6b29tIHVzaW5nIHRoZSBwbGF5aGVhZCAoY3VycmVudFRpbWUpIGFzIHRoZSBjZW50ZXIgcG9pbnQKICAgICAgICAgICAgY29uc3QgbmV3U2Nyb2xsID0gKGN1cnJlbnRUaW1lICogc2FmZVpvb20pIC0gKHZpZXdwb3J0VyAvIDIpOwogICAgICAgICAgICBwZW5kaW5nU2Nyb2xsUmVmLmN1cnJlbnQgPSBNYXRoLm1heCgwLCBuZXdTY3JvbGwpOwogICAgICAgIH0KICAgICAgICBzZXRab29tKHNhZmVab29tKTsKICAgIH07CiAgICBjb25zdCBwZXJmb3JtVmVydGljYWxab29tID0gKGRlbHRhWSwgc3RhcnRIZWlnaHQpID0+IHsKICAgICAgICBjb25zdCBzZW5zaXRpdml0eSA9IDAuNTsKICAgICAgICBsZXQgbmV3SGVpZ2h0ID0gc3RhcnRIZWlnaHQgKyBkZWx0YVkgKiBzZW5zaXRpdml0eTsKICAgICAgICAvLyBEeW5hbWljIHRhcmdldCBjYWxjdWxhdGlvbiBmb3IgY2xlYW4gc25hcHBpbmcKICAgICAgICBjb25zdCBjb250YWluZXJIID0gdGltZWxpbmVSZWYuY3VycmVudD8uY2xpZW50SGVpZ2h0IHx8IHdpbmRvdy5pbm5lckhlaWdodDsKICAgICAgICAvLyBEb24ndCBzdWJ0cmFjdCBtYXJnaW5zIGZvciB0aGUgc25hcCB0YXJnZXQgY2FsY3VsYXRpb24gdG8gZW5zdXJlIGZ1bGwtbGFuZSBmaXQKICAgICAgICBjb25zdCBtYXhIID0gY29udGFpbmVySDsKICAgICAgICBuZXdIZWlnaHQgPSBNYXRoLm1heChNSU5fTEFORV9IRUlHSFQsIE1hdGgubWluKG5ld0hlaWdodCwgbWF4SCkpOwogICAgICAgIGNvbnN0IHRhcmdldHMgPSBbCiAgICAgICAgICAgIGNvbnRhaW5lckgsIC8vIDEgdHJhY2sgZnVsbCB2aWV3CiAgICAgICAgICAgIGNvbnRhaW5lckggLyAyLCAvLyAyIHRyYWNrcwogICAgICAgICAgICBjb250YWluZXJIIC8gMywgLy8gMyB0cmFja3MKICAgICAgICAgICAgY29udGFpbmVySCAvIDQgLy8gNCB0cmFja3MKICAgICAgICBdOwogICAgICAgIGxldCBzbmFwcGVkSGVpZ2h0ID0gbmV3SGVpZ2h0OwogICAgICAgIGxldCBtaW5EaWZmID0gSW5maW5pdHk7CiAgICAgICAgLy8gSW5jcmVhc2VkIHNuYXAgdGhyZXNob2xkIGZvciAic3RpY2tpZXIiIGZlZWwKICAgICAgICB0YXJnZXRzLmZvckVhY2godGFyZ2V0ID0+IHsKICAgICAgICAgICAgY29uc3QgZGlmZiA9IE1hdGguYWJzKG5ld0hlaWdodCAtIHRhcmdldCk7CiAgICAgICAgICAgIGlmIChkaWZmIDwgNDApIHsgLy8gNDBweCB0aHJlc2hvbGQKICAgICAgICAgICAgICAgIGlmIChkaWZmIDwgbWluRGlmZikgewogICAgICAgICAgICAgICAgICAgIG1pbkRpZmYgPSBkaWZmOwogICAgICAgICAgICAgICAgICAgIHNuYXBwZWRIZWlnaHQgPSB0YXJnZXQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBpZiAoc25hcHBlZEhlaWdodCA8IE1JTl9MQU5FX0hFSUdIVCkKICAgICAgICAgICAgc25hcHBlZEhlaWdodCA9IE1JTl9MQU5FX0hFSUdIVDsKICAgICAgICBzZXRMYW5lSGVpZ2h0KHNuYXBwZWRIZWlnaHQpOwogICAgfTsKICAgIGNvbnN0IGhhbmRsZUZpbGVVcGxvYWQgPSBhc3luYyAoZSkgPT4gewogICAgICAgIGNvbnN0IGZpbGVzID0gZS50YXJnZXQuZmlsZXM7CiAgICAgICAgaWYgKCFmaWxlcyB8fCBmaWxlcy5sZW5ndGggPT09IDApCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBzZXRBcHBTdGF0ZShBcHBTdGF0ZS5MT0FESU5HKTsKICAgICAgICBwdXNoSGlzdG9yeSgpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IG5ld1RyYWNrcyA9IFtdOwogICAgICAgICAgICBjb25zdCBzdGFydExhbmUgPSB0cmFja3MubGVuZ3RoID4gMCA/IE1hdGgubWF4KC4uLnRyYWNrcy5tYXAodCA9PiB0LmxhbmUpKSArIDEgOiAwOwogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gZmlsZXNbaV07CiAgICAgICAgICAgICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGZpbGUuYXJyYXlCdWZmZXIoKTsKICAgICAgICAgICAgICAgIGNvbnN0IGRlY29kZWQgPSBhd2FpdCBkZWNvZGVBdWRpb0RhdGEoYXJyYXlCdWZmZXIpOwogICAgICAgICAgICAgICAgbGV0IHRyYWNrTmFtZSA9IGZpbGUubmFtZS5zdWJzdHJpbmcoMCwgMTUpOwogICAgICAgICAgICAgICAgbGV0IGRldGVjdGVkQnBtID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBicG0gPSBhd2FpdCBkZXRlY3RCUE0oZGVjb2RlZCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGJwbSA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGV0ZWN0ZWRCcG0gPSBicG07CiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrTmFtZSA9IGAke3RyYWNrTmFtZX0gKCR7YnBtfSBCUE0pYDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCAoYnBtRXJyKSB7IH0KICAgICAgICAgICAgICAgIG5ld1RyYWNrcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBpZDogTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpLAogICAgICAgICAgICAgICAgICAgIG5hbWU6IHRyYWNrTmFtZSwKICAgICAgICAgICAgICAgICAgICBidWZmZXI6IGRlY29kZWQsCiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBjdXJyZW50VGltZSwgdHJpbVN0YXJ0OiAwLAogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBkZWNvZGVkLmR1cmF0aW9uLAogICAgICAgICAgICAgICAgICAgIGxhbmU6IHN0YXJ0TGFuZSArIGksCiAgICAgICAgICAgICAgICAgICAgdm9sdW1lOiAxLjAsIGlzTXV0ZWQ6IGZhbHNlLCBpc1NvbG86IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiBUUkFDS19DT0xPUlNbKHN0YXJ0TGFuZSArIGkpICUgVFJBQ0tfQ09MT1JTLmxlbmd0aF0sCiAgICAgICAgICAgICAgICAgICAgYnBtOiBkZXRlY3RlZEJwbQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2V0VHJhY2tzKHByZXYgPT4gWy4uLnByZXYsIC4uLm5ld1RyYWNrc10pOwogICAgICAgICAgICBpZiAobmV3VHJhY2tzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkVHJhY2tJZChuZXdUcmFja3NbbmV3VHJhY2tzLmxlbmd0aCAtIDFdLmlkKTsKICAgICAgICAgICAgICAgIHNldElzVHJpbU1vZGUoZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNldEFwcFN0YXRlKEFwcFN0YXRlLkVESVRJTkcpOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgICAgICAgc2V0QXBwU3RhdGUoQXBwU3RhdGUuRVJST1IpOwogICAgICAgIH0KICAgICAgICBpZiAoZmlsZUlucHV0UmVmLmN1cnJlbnQpCiAgICAgICAgICAgIGZpbGVJbnB1dFJlZi5jdXJyZW50LnZhbHVlID0gJyc7CiAgICB9OwogICAgY29uc3QgcHVzaEhpc3RvcnkgPSAoKSA9PiB7CiAgICAgICAgc2V0SGlzdG9yeShwcmV2ID0+IHsKICAgICAgICAgICAgY29uc3QgbmV3SGlzdG9yeSA9IFsuLi5wcmV2LCB0cmFja3NdOwogICAgICAgICAgICBpZiAobmV3SGlzdG9yeS5sZW5ndGggPiAyMCkKICAgICAgICAgICAgICAgIG5ld0hpc3Rvcnkuc2hpZnQoKTsKICAgICAgICAgICAgcmV0dXJuIG5ld0hpc3Rvcnk7CiAgICAgICAgfSk7CiAgICB9OwogICAgY29uc3QgaGFuZGxlVW5kbyA9ICgpID0+IHsKICAgICAgICBpZiAoaGlzdG9yeS5sZW5ndGggPT09IDApCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBjb25zdCBwcmV2VHJhY2tzID0gaGlzdG9yeVtoaXN0b3J5Lmxlbmd0aCAtIDFdOwogICAgICAgIHNldFRyYWNrcyhwcmV2VHJhY2tzKTsKICAgICAgICBzZXRIaXN0b3J5KHByZXYgPT4gcHJldi5zbGljZSgwLCAtMSkpOwogICAgICAgIHN0b3BQbGF5YmFjaygpOwogICAgICAgIHNldElzVHJpbU1vZGUoZmFsc2UpOwogICAgICAgIHNldFRyaW1TdGF0ZShudWxsKTsKICAgICAgICBzZXRJbnRlcmFjdGl2ZU1vZGUobnVsbCk7CiAgICB9OwogICAgY29uc3Qgc3RvcFBsYXliYWNrID0gdXNlQ2FsbGJhY2soKCkgPT4gewogICAgICAgIGF1ZGlvU291cmNlTm9kZXMuY3VycmVudC5mb3JFYWNoKG5vZGUgPT4geyB0cnkgewogICAgICAgICAgICBub2RlLnN0b3AoKTsKICAgICAgICB9CiAgICAgICAgY2F0Y2ggKGUpIHsgfSB9KTsKICAgICAgICBhdWRpb1NvdXJjZU5vZGVzLmN1cnJlbnQgPSBbXTsKICAgICAgICBzZXRJc1BsYXlpbmcoZmFsc2UpOwogICAgfSwgW10pOwogICAgLy8gLS0tIFBMQVlCQUNLIExPT1AgLS0tCiAgICB1c2VFZmZlY3QoKCkgPT4gewogICAgICAgIGlmICghaXNQbGF5aW5nIHx8IGlzU2NydWJiaW5nKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgbGV0IGFuaW1hdGlvbkZyYW1lSWQ7CiAgICAgICAgY29uc3QgY3R4ID0gZ2V0QXVkaW9Db250ZXh0KCk7CiAgICAgICAgY29uc3QgbG9vcCA9ICgpID0+IHsKICAgICAgICAgICAgY29uc3QgZWxhcHNlZCA9IGN0eC5jdXJyZW50VGltZSAtIHN0YXJ0VGltZVJlZi5jdXJyZW50OwogICAgICAgICAgICBzZXRDdXJyZW50VGltZShlbGFwc2VkKTsKICAgICAgICAgICAgaWYgKHRpbWVsaW5lUmVmLmN1cnJlbnQpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHBsYXloZWFkWCA9IGVsYXBzZWQgKiB6b29tOwogICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyVyA9IHRpbWVsaW5lUmVmLmN1cnJlbnQuY2xpZW50V2lkdGg7CiAgICAgICAgICAgICAgICBjb25zdCBoYWxmU2NyZWVuID0gY29udGFpbmVyVyAvIDI7CiAgICAgICAgICAgICAgICBpZiAocGxheWhlYWRYID4gaGFsZlNjcmVlbikgewogICAgICAgICAgICAgICAgICAgIHRpbWVsaW5lUmVmLmN1cnJlbnQuc2Nyb2xsTGVmdCA9IHBsYXloZWFkWCAtIGhhbGZTY3JlZW47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aW1lbGluZVJlZi5jdXJyZW50LnNjcm9sbExlZnQgPSAwOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChlbGFwc2VkID49IG1heER1cmF0aW9uICYmICFpc1JlY29yZGluZykgewogICAgICAgICAgICAgICAgc3RvcFBsYXliYWNrKCk7CiAgICAgICAgICAgICAgICBzZXRDdXJyZW50VGltZSgwKTsKICAgICAgICAgICAgICAgIGlmICh0aW1lbGluZVJlZi5jdXJyZW50KQogICAgICAgICAgICAgICAgICAgIHRpbWVsaW5lUmVmLmN1cnJlbnQuc2Nyb2xsTGVmdCA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBhbmltYXRpb25GcmFtZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBhbmltYXRpb25GcmFtZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApOwogICAgICAgIHJldHVybiAoKSA9PiBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZUlkKTsKICAgIH0sIFtpc1BsYXlpbmcsIGlzU2NydWJiaW5nLCBtYXhEdXJhdGlvbiwgem9vbSwgc3RvcFBsYXliYWNrLCBpc1JlY29yZGluZ10pOwogICAgY29uc3QgaGFuZGxlUGxheVBhdXNlID0gYXN5bmMgKCkgPT4gewogICAgICAgIGNvbnN0IGN0eCA9IGdldEF1ZGlvQ29udGV4dCgpOwogICAgICAgIGlmIChjdHguc3RhdGUgPT09ICdzdXNwZW5kZWQnKQogICAgICAgICAgICBhd2FpdCBjdHgucmVzdW1lKCk7CiAgICAgICAgaWYgKGlzUGxheWluZykgewogICAgICAgICAgICBzdG9wUGxheWJhY2soKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHN0b3BQbGF5YmFjaygpOwogICAgICAgICAgICBjb25zdCBub3cgPSBjdHguY3VycmVudFRpbWU7CiAgICAgICAgICAgIHN0YXJ0VGltZVJlZi5jdXJyZW50ID0gbm93IC0gY3VycmVudFRpbWU7CiAgICAgICAgICAgIHRyYWNrcy5mb3JFYWNoKHRyYWNrID0+IHsKICAgICAgICAgICAgICAgIGlmICh0cmFjay5pc011dGVkKQogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNrU3RhcnQgPSB0cmFjay5zdGFydFRpbWU7CiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRpbWUgPiB0cmFja1N0YXJ0ICsgdHJhY2suZHVyYXRpb24pCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgbGV0IHN0YXJ0T2Zmc2V0ID0gMDsKICAgICAgICAgICAgICAgIGxldCBzY2hlZHVsZVRpbWUgPSAwOwogICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUaW1lIDwgdHJhY2tTdGFydCkgewogICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlVGltZSA9IG5vdyArICh0cmFja1N0YXJ0IC0gY3VycmVudFRpbWUpOwogICAgICAgICAgICAgICAgICAgIHN0YXJ0T2Zmc2V0ID0gMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlVGltZSA9IG5vdzsKICAgICAgICAgICAgICAgICAgICBzdGFydE9mZnNldCA9IGN1cnJlbnRUaW1lIC0gdHJhY2tTdGFydDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IGN0eC5jcmVhdGVCdWZmZXJTb3VyY2UoKTsKICAgICAgICAgICAgICAgIHNvdXJjZS5idWZmZXIgPSB0cmFjay5idWZmZXI7CiAgICAgICAgICAgICAgICBjb25zdCBnYWluID0gY3R4LmNyZWF0ZUdhaW4oKTsKICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi52YWx1ZSA9IHRyYWNrLnZvbHVtZTsKICAgICAgICAgICAgICAgIC8vIEFwcGx5IEF1dG9tYXRpb24gQ3VydmUKICAgICAgICAgICAgICAgIGlmICh0cmFjay52b2x1bWVBdXRvbWF0aW9uICYmIHRyYWNrLnZvbHVtZUF1dG9tYXRpb24ubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIC8vIFNvcnQgcG9pbnRzCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gWy4uLnRyYWNrLnZvbHVtZUF1dG9tYXRpb25dLnNvcnQoKGEsIGIpID0+IGEudGltZSAtIGIudGltZSk7CiAgICAgICAgICAgICAgICAgICAgLy8gSW5pdGlhbCB2YWx1ZQogICAgICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZShwb2ludHNbMF0udmFsdWUsIE1hdGgubWF4KDAsIHNjaGVkdWxlVGltZSArIHBvaW50c1swXS50aW1lKSk7CiAgICAgICAgICAgICAgICAgICAgcG9pbnRzLmZvckVhY2goKHAsIGkpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmUgd2UgYXJlIHNjaGVkdWxpbmcgaW4gdGhlIGZ1dHVyZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnRUaW1lID0gc2NoZWR1bGVUaW1lICsgcC50aW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvaW50VGltZSA+PSBub3cpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYWluLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUocC52YWx1ZSwgcG9pbnRUaW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc291cmNlLmNvbm5lY3QoZ2Fpbik7CiAgICAgICAgICAgICAgICBnYWluLmNvbm5lY3QoY3R4LmRlc3RpbmF0aW9uKTsKICAgICAgICAgICAgICAgIGlmIChzdGFydE9mZnNldCA+PSAwICYmIHN0YXJ0T2Zmc2V0IDwgdHJhY2suZHVyYXRpb24pIHsKICAgICAgICAgICAgICAgICAgICBzb3VyY2Uuc3RhcnQoc2NoZWR1bGVUaW1lLCB0cmFjay50cmltU3RhcnQgKyBzdGFydE9mZnNldCwgdHJhY2suZHVyYXRpb24gLSBzdGFydE9mZnNldCk7CiAgICAgICAgICAgICAgICAgICAgYXVkaW9Tb3VyY2VOb2Rlcy5jdXJyZW50LnB1c2goc291cmNlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNldElzUGxheWluZyh0cnVlKTsKICAgICAgICB9CiAgICB9OwogICAgLy8gLS0tIEludGVyYWN0aW9uIEhhbmRsZXJzIC0tLQogICAgY29uc3QgaGFuZGxlVGltZWxpbmVTY3JvbGwgPSAoZSkgPT4gewogICAgICAgIC8vIE5vLW9wIGZvciBub3cgdW5sZXNzIHdlIHRyYWNrIHNjcm9sbGluZyBmb3Igb3RoZXIgZmVhdHVyZXMKICAgIH07CiAgICBjb25zdCB1cGRhdGVQbGF5aGVhZCA9IChjbGllbnRYKSA9PiB7CiAgICAgICAgaWYgKCF0aW1lbGluZVJlZi5jdXJyZW50KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgY29uc3QgcmVjdCA9IHRpbWVsaW5lUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgY29uc3QgcmVsYXRpdmVYID0gY2xpZW50WCAtIHJlY3QubGVmdCArIHRpbWVsaW5lUmVmLmN1cnJlbnQuc2Nyb2xsTGVmdDsKICAgICAgICBsZXQgbmV3VGltZSA9IE1hdGgubWF4KDAsIHJlbGF0aXZlWCAvIHpvb20pOwogICAgICAgIGNvbnN0IHNuYXBTZWNvbmRzID0gU05BUF9USFJFU0hPTERfUFggLyB6b29tOwogICAgICAgIGxldCBjbG9zZXN0U25hcFRpbWUgPSAtMTsKICAgICAgICBsZXQgbWluRGlmZiA9IEluZmluaXR5OwogICAgICAgIGlmIChuZXdUaW1lIDwgc25hcFNlY29uZHMpIHsKICAgICAgICAgICAgY2xvc2VzdFNuYXBUaW1lID0gMDsKICAgICAgICAgICAgbWluRGlmZiA9IG5ld1RpbWU7CiAgICAgICAgfQogICAgICAgIHRyYWNrcy5mb3JFYWNoKHQgPT4gewogICAgICAgICAgICBjb25zdCBzdGFydCA9IHQuc3RhcnRUaW1lOwogICAgICAgICAgICBjb25zdCBlbmQgPSB0LnN0YXJ0VGltZSArIHQuZHVyYXRpb247CiAgICAgICAgICAgIGNvbnN0IGRpZmZTdGFydCA9IE1hdGguYWJzKG5ld1RpbWUgLSBzdGFydCk7CiAgICAgICAgICAgIGlmIChkaWZmU3RhcnQgPCBzbmFwU2Vjb25kcyAmJiBkaWZmU3RhcnQgPCBtaW5EaWZmKSB7CiAgICAgICAgICAgICAgICBjbG9zZXN0U25hcFRpbWUgPSBzdGFydDsKICAgICAgICAgICAgICAgIG1pbkRpZmYgPSBkaWZmU3RhcnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZGlmZkVuZCA9IE1hdGguYWJzKG5ld1RpbWUgLSBlbmQpOwogICAgICAgICAgICBpZiAoZGlmZkVuZCA8IHNuYXBTZWNvbmRzICYmIGRpZmZFbmQgPCBtaW5EaWZmKSB7CiAgICAgICAgICAgICAgICBjbG9zZXN0U25hcFRpbWUgPSBlbmQ7CiAgICAgICAgICAgICAgICBtaW5EaWZmID0gZGlmZkVuZDsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGlmIChjbG9zZXN0U25hcFRpbWUgIT09IC0xKSB7CiAgICAgICAgICAgIGlmIChNYXRoLmFicyhuZXdUaW1lIC0gY2xvc2VzdFNuYXBUaW1lKSA+IDAuMDAxICYmIG5hdmlnYXRvci52aWJyYXRlKQogICAgICAgICAgICAgICAgbmF2aWdhdG9yLnZpYnJhdGUoNSk7CiAgICAgICAgICAgIG5ld1RpbWUgPSBjbG9zZXN0U25hcFRpbWU7CiAgICAgICAgfQogICAgICAgIHNldEN1cnJlbnRUaW1lKG5ld1RpbWUpOwogICAgfTsKICAgIGNvbnN0IGhhbmRsZVBsYXloZWFkUG9pbnRlckRvd24gPSAoZSkgPT4geyBlLnByZXZlbnREZWZhdWx0KCk7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IHNldElzU2NydWJiaW5nKHRydWUpOyBzdG9wUGxheWJhY2soKTsgZS50YXJnZXQuc2V0UG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpOyB9OwogICAgY29uc3QgaGFuZGxlUGxheWhlYWRQb2ludGVyTW92ZSA9IChlKSA9PiB7IGlmICghaXNTY3J1YmJpbmcpCiAgICAgICAgcmV0dXJuOyBlLnByZXZlbnREZWZhdWx0KCk7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IHVwZGF0ZVBsYXloZWFkKGUuY2xpZW50WCk7IH07CiAgICBjb25zdCBoYW5kbGVQbGF5aGVhZFBvaW50ZXJVcCA9IChlKSA9PiB7IGlmIChpc1NjcnViYmluZykgewogICAgICAgIHNldElzU2NydWJiaW5nKGZhbHNlKTsKICAgICAgICBpZiAoZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBlLnRhcmdldC5oYXNQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCkpIHsKICAgICAgICAgICAgZS50YXJnZXQucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTsKICAgICAgICB9CiAgICB9IH07CiAgICBjb25zdCBoYW5kbGVUaW1lbGluZVBvaW50ZXJEb3duID0gKGUpID0+IHsKICAgICAgICBpZiAoZS50YXJnZXQuY2xvc2VzdCgnLnRyYWNrLWNsaXAnKSkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuZmFkZS1oYW5kbGUnKSkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIGlmIChhY3RpdmVQb2ludGVycy5jdXJyZW50LnNpemUgPiAxKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKGlzUGxheWluZykKICAgICAgICAgICAgc3RvcFBsYXliYWNrKCk7CiAgICAgICAgc2V0U2VsZWN0ZWRUcmFja0lkKG51bGwpOwogICAgICAgIHNldElzVHJpbU1vZGUoZmFsc2UpOwogICAgICAgIGRyYWdSZWYuY3VycmVudC5pc1RpbWVsaW5lVGFwID0gdHJ1ZTsKICAgICAgICBkcmFnUmVmLmN1cnJlbnQudGltZWxpbmVTdGFydFggPSBlLmNsaWVudFg7CiAgICB9OwogICAgLy8gLS0tIFRyYWNrIERyYWdnaW5nIExvZ2ljIC0tLQogICAgY29uc3QgaGFuZGxlVHJhY2tQb2ludGVyRG93biA9IChlLCB0cmFjaykgPT4gewogICAgICAgIGlmIChhY3RpdmVQb2ludGVycy5jdXJyZW50LnNpemUgPiAxKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAvLyBBdXRvbWF0aW9uIE1vZGUgTG9naWMKICAgICAgICBpZiAoaW50ZXJhY3RpdmVNb2RlPy50eXBlID09PSAnYXV0b21hdGlvbicgJiYgaW50ZXJhY3RpdmVNb2RlLnRyYWNrSWQgPT09IHRyYWNrLmlkKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgY29uc3QgcmVjdCA9IGUuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVYID0gZS5jbGllbnRYIC0gcmVjdC5sZWZ0OwogICAgICAgICAgICBjb25zdCB0aW1lID0gcmVsYXRpdmVYIC8gem9vbSArIHRyYWNrLnRyaW1TdGFydDsKICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVZID0gZS5jbGllbnRZIC0gcmVjdC50b3A7CiAgICAgICAgICAgIC8vIFJlbmRlciBoZWlnaHQgaXMgbGFuZUhlaWdodCAtIDIwIChwYWRkaW5nKQogICAgICAgICAgICBjb25zdCB0cmFja0ggPSBsYW5lSGVpZ2h0IC0gMjA7CiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gMSAtIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHJlbGF0aXZlWSAvIHRyYWNrSCkpOwogICAgICAgICAgICAvLyBDaGVjayBpZiBjbGlja2luZyBleGlzdGluZyBwb2ludCAocmFkaXVzIGNoZWNrKQogICAgICAgICAgICBjb25zdCBleGlzdGluZ1BvaW50SW5kZXggPSB0cmFjay52b2x1bWVBdXRvbWF0aW9uPy5maW5kSW5kZXgocCA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBweCA9IChwLnRpbWUgLSB0cmFjay50cmltU3RhcnQpICogem9vbTsKICAgICAgICAgICAgICAgIGNvbnN0IHB5ID0gKDEgLSBwLnZhbHVlKSAqIHRyYWNrSDsKICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmh5cG90KHB4IC0gcmVsYXRpdmVYLCBweSAtIHJlbGF0aXZlWSkgPCAxMDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmIChleGlzdGluZ1BvaW50SW5kZXggIT09IHVuZGVmaW5lZCAmJiBleGlzdGluZ1BvaW50SW5kZXggIT09IC0xKSB7CiAgICAgICAgICAgICAgICAvLyBEb3VibGUgdGFwIGNoZWNrIGhhbmRsZWQgaW4gbG9naWM/IFNpbXBsZXI6IHNlcGFyYXRlIGRlbGV0ZSB2aWEgVUkgb3IgY29udGV4dAogICAgICAgICAgICAgICAgLy8gRm9yIG5vdywgZHJhZ2dpbmcKICAgICAgICAgICAgICAgIHNldEludGVyYWN0aXZlTW9kZShwcmV2ID0+IHByZXYgPyAoeyAuLi5wcmV2LCBpc0RyYWdnaW5nOiB0cnVlIH0pIDogbnVsbCk7CiAgICAgICAgICAgICAgICBkcmFnUmVmLmN1cnJlbnQuYXV0b21hdGlvbkluZGV4ID0gZXhpc3RpbmdQb2ludEluZGV4OwogICAgICAgICAgICAgICAgZS50YXJnZXQuc2V0UG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgLy8gQWRkIG5ldyBwb2ludAogICAgICAgICAgICAgICAgY29uc3QgbmV3UG9pbnQgPSB7IHRpbWUsIHZhbHVlIH07CiAgICAgICAgICAgICAgICBjb25zdCBuZXdQb2ludHMgPSB0cmFjay52b2x1bWVBdXRvbWF0aW9uID8gWy4uLnRyYWNrLnZvbHVtZUF1dG9tYXRpb24sIG5ld1BvaW50XSA6IFtuZXdQb2ludF07CiAgICAgICAgICAgICAgICB1cGRhdGVUcmFjayh0cmFjay5pZCwgeyB2b2x1bWVBdXRvbWF0aW9uOiBuZXdQb2ludHMgfSk7CiAgICAgICAgICAgICAgICAvLyBJbW1lZGlhdGVseSBzdGFydCBkcmFnZ2luZyB0aGlzIG5ldyBwb2ludAogICAgICAgICAgICAgICAgc2V0SW50ZXJhY3RpdmVNb2RlKHByZXYgPT4gcHJldiA/ICh7IC4uLnByZXYsIGlzRHJhZ2dpbmc6IHRydWUgfSkgOiBudWxsKTsKICAgICAgICAgICAgICAgIGRyYWdSZWYuY3VycmVudC5hdXRvbWF0aW9uSW5kZXggPSBuZXdQb2ludHMubGVuZ3RoIC0gMTsKICAgICAgICAgICAgICAgIGUudGFyZ2V0LnNldFBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChpc1RyaW1Nb2RlKSB7CiAgICAgICAgICAgIGlmIChlZmZlY3RpdmVTZWxlY3RlZFRyYWNrSWQgIT09IHRyYWNrLmlkKQogICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRUcmFja0lkKHRyYWNrLmlkKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoaW50ZXJhY3RpdmVNb2RlKSB7CiAgICAgICAgICAgIGlmIChlZmZlY3RpdmVTZWxlY3RlZFRyYWNrSWQgIT09IHRyYWNrLmlkKSB7CiAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFRyYWNrSWQodHJhY2suaWQpOwogICAgICAgICAgICAgICAgc2V0SW50ZXJhY3RpdmVNb2RlKG51bGwpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGlzUGxheWluZykKICAgICAgICAgICAgc3RvcFBsYXliYWNrKCk7CiAgICAgICAgY29uc3QgcmVjdCA9IHRpbWVsaW5lUmVmLmN1cnJlbnQ/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIGlmICghcmVjdCkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIGNvbnN0IG1vdXNlVGltZSA9ICgoZS5jbGllbnRYIC0gcmVjdC5sZWZ0KSArICh0aW1lbGluZVJlZi5jdXJyZW50Py5zY3JvbGxMZWZ0IHx8IDApKSAvIHpvb207CiAgICAgICAgY29uc3QgdGltZU9mZnNldCA9IG1vdXNlVGltZSAtIHRyYWNrLnN0YXJ0VGltZTsKICAgICAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gZS5jdXJyZW50VGFyZ2V0OwogICAgICAgIGRyYWdSZWYuY3VycmVudCA9IHsKICAgICAgICAgICAgc3RhcnRYOiBlLmNsaWVudFgsCiAgICAgICAgICAgIHN0YXJ0WTogZS5jbGllbnRZLAogICAgICAgICAgICBvZmZzZXRUaW1lOiB0aW1lT2Zmc2V0LAogICAgICAgICAgICB0cmFja0lkOiB0cmFjay5pZCwKICAgICAgICAgICAgbGFzdFBvaW50ZXJYOiBlLmNsaWVudFgsCiAgICAgICAgICAgIGxhc3RQb2ludGVyWTogZS5jbGllbnRZLAogICAgICAgICAgICBpc1RpbWVsaW5lVGFwOiBmYWxzZSwKICAgICAgICAgICAgdGltZWxpbmVTdGFydFg6IDAsCiAgICAgICAgICAgIHRhcmdldEVsZW1lbnQ6IHRhcmdldEVsZW1lbnQsCiAgICAgICAgICAgIHBvaW50ZXJJZDogZS5wb2ludGVySWQsCiAgICAgICAgICAgIGF1dG9tYXRpb25JbmRleDogLTEKICAgICAgICB9OwogICAgICAgIC8vIERlbGF5IHNldHRpbmcgZHJhZ2dpbmdUcmFja0lkIHRvIGRldGVjdCBpbnRlbnQgKERyYWcgdnMgU2Nyb2xsKQogICAgICAgIGxvbmdQcmVzc1RpbWVyUmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgLy8gQ1JJVElDQUw6IENhcHR1cmUgcG9pbnRlciBOT1cgdG8gbG9jayBkcmFnIGFuZCBkaXNhYmxlIHNjcm9sbAogICAgICAgICAgICBpZiAodGFyZ2V0RWxlbWVudCkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICB0YXJnZXRFbGVtZW50LnNldFBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oIkNvdWxkIG5vdCBjYXB0dXJlIHBvaW50ZXIiLCBlcnIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHNldERyYWdnaW5nVHJhY2tJZCh0cmFjay5pZCk7CiAgICAgICAgICAgIHNldFNlbGVjdGVkVHJhY2tJZCh0cmFjay5pZCk7CiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IudmlicmF0ZSkKICAgICAgICAgICAgICAgIG5hdmlnYXRvci52aWJyYXRlKDEwKTsKICAgICAgICB9LCBMT05HX1BSRVNTX0RVUkFUSU9OKTsKICAgIH07CiAgICBjb25zdCBwcm9jZXNzVHJhY2tEcmFnID0gKGNsaWVudFgsIGNsaWVudFksIGFjdGl2ZVRyYWNrSWQpID0+IHsKICAgICAgICBpZiAoIXRpbWVsaW5lUmVmLmN1cnJlbnQpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBjb25zdCB0cmFjayA9IHRyYWNrc1JlZi5jdXJyZW50LmZpbmQodCA9PiB0LmlkID09PSBhY3RpdmVUcmFja0lkKTsKICAgICAgICBpZiAoIXRyYWNrKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgY29uc3QgcmVjdCA9IHRpbWVsaW5lUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgY29uc3Qgc2Nyb2xsTCA9IHRpbWVsaW5lUmVmLmN1cnJlbnQuc2Nyb2xsTGVmdDsKICAgICAgICBjb25zdCBtb3VzZVggPSBjbGllbnRYIC0gcmVjdC5sZWZ0ICsgc2Nyb2xsTDsKICAgICAgICBjb25zdCBtb3VzZVkgPSBjbGllbnRZIC0gcmVjdC50b3AgKyB0aW1lbGluZVJlZi5jdXJyZW50LnNjcm9sbFRvcDsKICAgICAgICBsZXQgdGFyZ2V0TGFuZSA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoKG1vdXNlWSAtIDEwKSAvIGxhbmVIZWlnaHQpKTsKICAgICAgICBjb25zdCBjdXJyZW50TW91c2VUaW1lID0gTWF0aC5tYXgoMCwgbW91c2VYIC8gem9vbSk7CiAgICAgICAgbGV0IHByb3Bvc2VkU3RhcnRUaW1lID0gY3VycmVudE1vdXNlVGltZSAtIGRyYWdSZWYuY3VycmVudC5vZmZzZXRUaW1lOwogICAgICAgIGNvbnN0IGxhbmVUcmFja3MgPSB0cmFja3NSZWYuY3VycmVudC5maWx0ZXIodCA9PiB0LmxhbmUgPT09IHRhcmdldExhbmUgJiYgdC5pZCAhPT0gYWN0aXZlVHJhY2tJZCk7CiAgICAgICAgbGFuZVRyYWNrcy5zb3J0KChhLCBiKSA9PiBhLnN0YXJ0VGltZSAtIGIuc3RhcnRUaW1lKTsKICAgICAgICBjb25zdCBnYXBzID0gW107CiAgICAgICAgbGV0IGxhc3RFbmQgPSAwOwogICAgICAgIGxhbmVUcmFja3MuZm9yRWFjaCh0ID0+IHsKICAgICAgICAgICAgaWYgKHQuc3RhcnRUaW1lID4gbGFzdEVuZCkgewogICAgICAgICAgICAgICAgZ2Fwcy5wdXNoKHsgc3RhcnQ6IGxhc3RFbmQsIGVuZDogdC5zdGFydFRpbWUgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGFzdEVuZCA9IHQuc3RhcnRUaW1lICsgdC5kdXJhdGlvbjsKICAgICAgICB9KTsKICAgICAgICBnYXBzLnB1c2goeyBzdGFydDogbGFzdEVuZCwgZW5kOiBJbmZpbml0eSB9KTsKICAgICAgICBsZXQgYmVzdFN0YXJ0VGltZSA9IC0xOwogICAgICAgIGxldCBtaW5EaXNwbGFjZW1lbnQgPSBJbmZpbml0eTsKICAgICAgICBnYXBzLmZvckVhY2goZ2FwID0+IHsKICAgICAgICAgICAgY29uc3QgZ2FwU2l6ZSA9IGdhcC5lbmQgLSBnYXAuc3RhcnQ7CiAgICAgICAgICAgIGlmIChnYXBTaXplIDwgdHJhY2suZHVyYXRpb24gLSAwLjAxKQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBjb25zdCB2YWxpZFN0YXJ0ID0gZ2FwLnN0YXJ0OwogICAgICAgICAgICBjb25zdCB2YWxpZEVuZCA9IGdhcC5lbmQgLSB0cmFjay5kdXJhdGlvbjsKICAgICAgICAgICAgY29uc3QgY2xhbXBlZFN0YXJ0ID0gTWF0aC5tYXgodmFsaWRTdGFydCwgTWF0aC5taW4ocHJvcG9zZWRTdGFydFRpbWUsIHZhbGlkRW5kKSk7CiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBNYXRoLmFicyhjbGFtcGVkU3RhcnQgLSBwcm9wb3NlZFN0YXJ0VGltZSk7CiAgICAgICAgICAgIGlmIChkaWZmIDwgbWluRGlzcGxhY2VtZW50KSB7CiAgICAgICAgICAgICAgICBtaW5EaXNwbGFjZW1lbnQgPSBkaWZmOwogICAgICAgICAgICAgICAgYmVzdFN0YXJ0VGltZSA9IGNsYW1wZWRTdGFydDsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGlmIChiZXN0U3RhcnRUaW1lID09PSAtMSkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIHByb3Bvc2VkU3RhcnRUaW1lID0gYmVzdFN0YXJ0VGltZTsKICAgICAgICAvLyBTbmFwcGluZwogICAgICAgIGNvbnN0IHNuYXBTZWNvbmRzID0gU05BUF9USFJFU0hPTERfUFggLyB6b29tOwogICAgICAgIGxldCBiZXN0U25hcCA9IC0xOwogICAgICAgIGxldCBtaW5EaWZmID0gSW5maW5pdHk7CiAgICAgICAgY29uc3QgY2FuZGlkYXRlcyA9IFswLCBjdXJyZW50VGltZV07CiAgICAgICAgZ2Fwcy5mb3JFYWNoKGdhcCA9PiB7CiAgICAgICAgICAgIGNhbmRpZGF0ZXMucHVzaChnYXAuc3RhcnQpOwogICAgICAgICAgICBpZiAoZ2FwLmVuZCAhPT0gSW5maW5pdHkpCiAgICAgICAgICAgICAgICBjYW5kaWRhdGVzLnB1c2goZ2FwLmVuZCAtIHRyYWNrLmR1cmF0aW9uKTsKICAgICAgICB9KTsKICAgICAgICB0cmFja3NSZWYuY3VycmVudC5mb3JFYWNoKG90aGVyID0+IHsKICAgICAgICAgICAgaWYgKG90aGVyLmlkID09PSBhY3RpdmVUcmFja0lkKQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBpZiAoTWF0aC5hYnMob3RoZXIubGFuZSAtIHRhcmdldExhbmUpID09PSAxKSB7CiAgICAgICAgICAgICAgICBjYW5kaWRhdGVzLnB1c2gob3RoZXIuc3RhcnRUaW1lKTsKICAgICAgICAgICAgICAgIGNhbmRpZGF0ZXMucHVzaChvdGhlci5zdGFydFRpbWUgKyBvdGhlci5kdXJhdGlvbik7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBjb25zdCBTTkFQX1pPT01fVEhSRVNIT0xEID0gTUlOX1pPT00gKyAoTUFYX1pPT00gLSBNSU5fWk9PTSkgKiAwLjI1OwogICAgICAgIGlmICh6b29tID4gU05BUF9aT09NX1RIUkVTSE9MRCkgewogICAgICAgICAgICBjb25zdCBjbG9zZXN0QmVhdCA9IE1hdGgucm91bmQocHJvcG9zZWRTdGFydFRpbWUgLyBiZWF0RHVyYXRpb24pICogYmVhdER1cmF0aW9uOwogICAgICAgICAgICBjYW5kaWRhdGVzLnB1c2goY2xvc2VzdEJlYXQpOwogICAgICAgIH0KICAgICAgICBjYW5kaWRhdGVzLmZvckVhY2goY2FuZCA9PiB7CiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBNYXRoLmFicyhwcm9wb3NlZFN0YXJ0VGltZSAtIGNhbmQpOwogICAgICAgICAgICBpZiAoZGlmZiA8IHNuYXBTZWNvbmRzICYmIGRpZmYgPCBtaW5EaWZmKSB7CiAgICAgICAgICAgICAgICBjb25zdCBmaXRzID0gZ2Fwcy5zb21lKGcgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkU3RhcnQgPSBnLnN0YXJ0OwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkRW5kID0gZy5lbmQgLSB0cmFjay5kdXJhdGlvbjsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FuZCA+PSB2YWxpZFN0YXJ0IC0gMC4wMDEgJiYgY2FuZCA8PSB2YWxpZEVuZCArIDAuMDAxICYmIChnLmVuZCAtIGcuc3RhcnQgPj0gdHJhY2suZHVyYXRpb24gLSAwLjAxKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKGZpdHMpIHsKICAgICAgICAgICAgICAgICAgICBiZXN0U25hcCA9IGNhbmQ7CiAgICAgICAgICAgICAgICAgICAgbWluRGlmZiA9IGRpZmY7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBpZiAoYmVzdFNuYXAgIT09IC0xKSB7CiAgICAgICAgICAgIHByb3Bvc2VkU3RhcnRUaW1lID0gYmVzdFNuYXA7CiAgICAgICAgfQogICAgICAgIHVwZGF0ZVRyYWNrKGFjdGl2ZVRyYWNrSWQsIHsgc3RhcnRUaW1lOiBwcm9wb3NlZFN0YXJ0VGltZSwgbGFuZTogdGFyZ2V0TGFuZSB9KTsKICAgIH07CiAgICBjb25zdCBoYW5kbGVUcmFja0RyYWdNb3ZlID0gKGUpID0+IHsKICAgICAgICAvLyBBdXRvbWF0aW9uIERyYWdnaW5nCiAgICAgICAgaWYgKGludGVyYWN0aXZlTW9kZT8udHlwZSA9PT0gJ2F1dG9tYXRpb24nICYmIGludGVyYWN0aXZlTW9kZS5pc0RyYWdnaW5nICYmIHNlbGVjdGVkVHJhY2spIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBjb25zdCByZWN0ID0gZS5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICBjb25zdCByZWxhdGl2ZVggPSBlLmNsaWVudFggLSByZWN0LmxlZnQ7CiAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlWSA9IGUuY2xpZW50WSAtIHJlY3QudG9wOwogICAgICAgICAgICBjb25zdCB0aW1lID0gTWF0aC5tYXgoc2VsZWN0ZWRUcmFjay50cmltU3RhcnQsIE1hdGgubWluKHNlbGVjdGVkVHJhY2sudHJpbVN0YXJ0ICsgc2VsZWN0ZWRUcmFjay5kdXJhdGlvbiwgcmVsYXRpdmVYIC8gem9vbSArIHNlbGVjdGVkVHJhY2sudHJpbVN0YXJ0KSk7CiAgICAgICAgICAgIGNvbnN0IHRyYWNrSCA9IGxhbmVIZWlnaHQgLSAyMDsKICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCAxIC0gKHJlbGF0aXZlWSAvIHRyYWNrSCkpKTsKICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gWy4uLihzZWxlY3RlZFRyYWNrLnZvbHVtZUF1dG9tYXRpb24gfHwgW10pXTsKICAgICAgICAgICAgaWYgKGRyYWdSZWYuY3VycmVudC5hdXRvbWF0aW9uSW5kZXggIT09IC0xICYmIHBvaW50c1tkcmFnUmVmLmN1cnJlbnQuYXV0b21hdGlvbkluZGV4XSkgewogICAgICAgICAgICAgICAgcG9pbnRzW2RyYWdSZWYuY3VycmVudC5hdXRvbWF0aW9uSW5kZXhdID0geyB0aW1lLCB2YWx1ZSB9OwogICAgICAgICAgICAgICAgdXBkYXRlVHJhY2soc2VsZWN0ZWRUcmFjay5pZCwgeyB2b2x1bWVBdXRvbWF0aW9uOiBwb2ludHMgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAvLyBHdWFyZDogTXVsdGl0b3VjaAogICAgICAgIGlmIChhY3RpdmVQb2ludGVycy5jdXJyZW50LnNpemUgPiAxKSB7CiAgICAgICAgICAgIGlmIChkcmFnZ2luZ1RyYWNrSWQpCiAgICAgICAgICAgICAgICBzZXREcmFnZ2luZ1RyYWNrSWQobnVsbCk7CiAgICAgICAgICAgIGlmIChsb25nUHJlc3NUaW1lclJlZi5jdXJyZW50KSB7CiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQobG9uZ1ByZXNzVGltZXJSZWYuY3VycmVudCk7CiAgICAgICAgICAgICAgICBsb25nUHJlc3NUaW1lclJlZi5jdXJyZW50ID0gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8vIERldGVjdCBpZiB1c2VyIG1vdmVkIGVub3VnaCB0byBjb25zaWRlciBpdCBhIHNjcm9sbCBiZWZvcmUgbG9uZyBwcmVzcyB0cmlnZ2VyZWQKICAgICAgICBpZiAoIWRyYWdnaW5nVHJhY2tJZCAmJiBsb25nUHJlc3NUaW1lclJlZi5jdXJyZW50KSB7CiAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBNYXRoLmh5cG90KGUuY2xpZW50WCAtIGRyYWdSZWYuY3VycmVudC5zdGFydFgsIGUuY2xpZW50WSAtIGRyYWdSZWYuY3VycmVudC5zdGFydFkpOwogICAgICAgICAgICBpZiAoZGlzdCA+IERSQUdfVEhSRVNIT0xEX1BYKSB7CiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQobG9uZ1ByZXNzVGltZXJSZWYuY3VycmVudCk7CiAgICAgICAgICAgICAgICBsb25nUHJlc3NUaW1lclJlZi5jdXJyZW50ID0gbnVsbDsKICAgICAgICAgICAgICAgIHJldHVybjsgLy8gQWxsb3cgbmF0aXZlIHNjcm9sbAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICghZHJhZ2dpbmdUcmFja0lkIHx8ICF0aW1lbGluZVJlZi5jdXJyZW50KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgLy8gQ1JJVElDQUw6IFByZXZlbnQgZGVmYXVsdCB0byBzdG9wIHNjcm9sbGluZyB3aGlsZSBkcmFnZ2luZwogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICBsYXN0RHJhZ1Bvcy5jdXJyZW50ID0geyB4OiBlLmNsaWVudFgsIHk6IGUuY2xpZW50WSB9OwogICAgICAgIGNvbnN0IGVkZ2VUaHJlc2hvbGQgPSA3NTsKICAgICAgICBjb25zdCByZWN0ID0gdGltZWxpbmVSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICBsZXQgdnggPSAwOwogICAgICAgIGxldCB2eSA9IDA7CiAgICAgICAgaWYgKGUuY2xpZW50WCA8IHJlY3QubGVmdCArIGVkZ2VUaHJlc2hvbGQpCiAgICAgICAgICAgIHZ4ID0gLTE1OwogICAgICAgIGVsc2UgaWYgKGUuY2xpZW50WCA+IHJlY3QucmlnaHQgLSBlZGdlVGhyZXNob2xkKQogICAgICAgICAgICB2eCA9IDE1OwogICAgICAgIGlmIChlLmNsaWVudFkgPCByZWN0LnRvcCArIGVkZ2VUaHJlc2hvbGQpCiAgICAgICAgICAgIHZ5ID0gLTEwOwogICAgICAgIGVsc2UgaWYgKGUuY2xpZW50WSA+IHJlY3QuYm90dG9tIC0gZWRnZVRocmVzaG9sZCkKICAgICAgICAgICAgdnkgPSAxMDsKICAgICAgICBhdXRvU2Nyb2xsUmVmLmN1cnJlbnQgPSB7IHZ4LCB2eSB9OwogICAgICAgIHByb2Nlc3NUcmFja0RyYWcoZS5jbGllbnRYLCBlLmNsaWVudFksIGRyYWdnaW5nVHJhY2tJZCk7CiAgICB9OwogICAgY29uc3QgaGFuZGxlVHJhY2tQb2ludGVyVXAgPSAoZSwgdHJhY2spID0+IHsKICAgICAgICAvLyBBdXRvbWF0aW9uIEVuZCBEcmFnCiAgICAgICAgaWYgKGludGVyYWN0aXZlTW9kZT8udHlwZSA9PT0gJ2F1dG9tYXRpb24nICYmIGludGVyYWN0aXZlTW9kZS5pc0RyYWdnaW5nKSB7CiAgICAgICAgICAgIHNldEludGVyYWN0aXZlTW9kZShwcmV2ID0+IHByZXYgPyAoeyAuLi5wcmV2LCBpc0RyYWdnaW5nOiBmYWxzZSB9KSA6IG51bGwpOwogICAgICAgICAgICBwdXNoSGlzdG9yeSgpOwogICAgICAgICAgICBpZiAoZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBlLnRhcmdldC5oYXNQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCkpIHsKICAgICAgICAgICAgICAgIGUudGFyZ2V0LnJlbGVhc2VQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBhdXRvU2Nyb2xsUmVmLmN1cnJlbnQgPSB7IHZ4OiAwLCB2eTogMCB9OwogICAgICAgIGlmIChsb25nUHJlc3NUaW1lclJlZi5jdXJyZW50KSB7CiAgICAgICAgICAgIGNsZWFyVGltZW91dChsb25nUHJlc3NUaW1lclJlZi5jdXJyZW50KTsKICAgICAgICAgICAgbG9uZ1ByZXNzVGltZXJSZWYuY3VycmVudCA9IG51bGw7CiAgICAgICAgICAgIHNldFNlbGVjdGVkVHJhY2tJZCh0cmFjay5pZCk7CiAgICAgICAgfQogICAgICAgIGlmIChkcmFnZ2luZ1RyYWNrSWQpIHsKICAgICAgICAgICAgc2V0RHJhZ2dpbmdUcmFja0lkKG51bGwpOwogICAgICAgICAgICBwdXNoSGlzdG9yeSgpOwogICAgICAgICAgICBpZiAoZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBlLnRhcmdldC5oYXNQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCkpIHsKICAgICAgICAgICAgICAgIGUudGFyZ2V0LnJlbGVhc2VQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgY29uc3QgaGFuZGxlVHJhY2tQb2ludGVyQ2FuY2VsID0gKGUpID0+IHsKICAgICAgICBhdXRvU2Nyb2xsUmVmLmN1cnJlbnQgPSB7IHZ4OiAwLCB2eTogMCB9OwogICAgICAgIGlmIChsb25nUHJlc3NUaW1lclJlZi5jdXJyZW50KSB7CiAgICAgICAgICAgIGNsZWFyVGltZW91dChsb25nUHJlc3NUaW1lclJlZi5jdXJyZW50KTsKICAgICAgICAgICAgbG9uZ1ByZXNzVGltZXJSZWYuY3VycmVudCA9IG51bGw7CiAgICAgICAgfQogICAgICAgIGlmIChkcmFnZ2luZ1RyYWNrSWQpIHsKICAgICAgICAgICAgc2V0RHJhZ2dpbmdUcmFja0lkKG51bGwpOwogICAgICAgIH0KICAgIH07CiAgICAvLyAtLS0gVHJpbSBMb2dpYyAtLS0KICAgIGNvbnN0IGhhbmRsZVRyaW1Qb2ludGVyRG93biA9IChlLCB0cmFjaywgc2lkZSkgPT4gewogICAgICAgIGlmIChhY3RpdmVQb2ludGVycy5jdXJyZW50LnNpemUgPiAxKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgc2V0VHJpbVN0YXRlKHsKICAgICAgICAgICAgaXNEcmFnZ2luZzogdHJ1ZSwgc2lkZSwKICAgICAgICAgICAgaW5pdGlhbE1vdXNlWDogZS5jbGllbnRYLAogICAgICAgICAgICBpbml0aWFsU3RhcnRUaW1lOiB0cmFjay5zdGFydFRpbWUsCiAgICAgICAgICAgIGluaXRpYWxUcmltU3RhcnQ6IHRyYWNrLnRyaW1TdGFydCwKICAgICAgICAgICAgaW5pdGlhbER1cmF0aW9uOiB0cmFjay5kdXJhdGlvbiwKICAgICAgICAgICAgY3VycmVudERlbHRhOiAwCiAgICAgICAgfSk7CiAgICAgICAgZS50YXJnZXQuc2V0UG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpOwogICAgfTsKICAgIGNvbnN0IGhhbmRsZVRyaW1Qb2ludGVyTW92ZSA9IChlKSA9PiB7CiAgICAgICAgaWYgKGFjdGl2ZVBvaW50ZXJzLmN1cnJlbnQuc2l6ZSA+IDEpIHsKICAgICAgICAgICAgc2V0VHJpbVN0YXRlKG51bGwpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmICghdHJpbVN0YXRlPy5pc0RyYWdnaW5nKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGNvbnN0IGRlbHRhUHggPSBlLmNsaWVudFggLSB0cmltU3RhdGUuaW5pdGlhbE1vdXNlWDsKICAgICAgICBsZXQgZGVsdGFTZWMgPSBkZWx0YVB4IC8gem9vbTsKICAgICAgICBjb25zdCB0cmFjayA9IHRyYWNrcy5maW5kKHQgPT4gdC5pZCA9PT0gZWZmZWN0aXZlU2VsZWN0ZWRUcmFja0lkKTsKICAgICAgICBpZiAodHJhY2spIHsKICAgICAgICAgICAgY29uc3Qgc25hcFNlY29uZHMgPSBTTkFQX1RIUkVTSE9MRF9QWCAvIHpvb207CiAgICAgICAgICAgIGxldCB0YXJnZXRUaW1lID0gMDsKICAgICAgICAgICAgaWYgKHRyaW1TdGF0ZS5zaWRlID09PSAnc3RhcnQnKSB7CiAgICAgICAgICAgICAgICB0YXJnZXRUaW1lID0gdHJpbVN0YXRlLmluaXRpYWxTdGFydFRpbWUgKyBkZWx0YVNlYzsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHRhcmdldFRpbWUgPSB0cmltU3RhdGUuaW5pdGlhbFN0YXJ0VGltZSArIHRyaW1TdGF0ZS5pbml0aWFsRHVyYXRpb24gKyBkZWx0YVNlYzsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBjYW5kaWRhdGVzID0gW2N1cnJlbnRUaW1lLCAwXTsKICAgICAgICAgICAgY29uc3QgYWRqYWNlbnRMYW5lcyA9IFt0cmFjay5sYW5lIC0gMSwgdHJhY2subGFuZSArIDFdOwogICAgICAgICAgICB0cmFja3MuZm9yRWFjaChvdGhlciA9PiB7CiAgICAgICAgICAgICAgICBpZiAob3RoZXIuaWQgPT09IHRyYWNrLmlkKQogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIGlmIChhZGphY2VudExhbmVzLmluY2x1ZGVzKG90aGVyLmxhbmUpKSB7CiAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlcy5wdXNoKG90aGVyLnN0YXJ0VGltZSk7CiAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlcy5wdXNoKG90aGVyLnN0YXJ0VGltZSArIG90aGVyLmR1cmF0aW9uKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGxldCBiZXN0U25hcCA9IC0xOwogICAgICAgICAgICBsZXQgbWluRGlmZiA9IEluZmluaXR5OwogICAgICAgICAgICBjYW5kaWRhdGVzLmZvckVhY2goY2FuZCA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gTWF0aC5hYnModGFyZ2V0VGltZSAtIGNhbmQpOwogICAgICAgICAgICAgICAgaWYgKGRpZmYgPCBzbmFwU2Vjb25kcyAmJiBkaWZmIDwgbWluRGlmZikgewogICAgICAgICAgICAgICAgICAgIGJlc3RTbmFwID0gY2FuZDsKICAgICAgICAgICAgICAgICAgICBtaW5EaWZmID0gZGlmZjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmIChiZXN0U25hcCAhPT0gLTEpIHsKICAgICAgICAgICAgICAgIGlmICh0cmltU3RhdGUuc2lkZSA9PT0gJ3N0YXJ0JykgewogICAgICAgICAgICAgICAgICAgIGRlbHRhU2VjID0gYmVzdFNuYXAgLSB0cmltU3RhdGUuaW5pdGlhbFN0YXJ0VGltZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIGRlbHRhU2VjID0gYmVzdFNuYXAgLSAodHJpbVN0YXRlLmluaXRpYWxTdGFydFRpbWUgKyB0cmltU3RhdGUuaW5pdGlhbER1cmF0aW9uKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChtaW5EaWZmID4gMC4wMDEgJiYgbmF2aWdhdG9yLnZpYnJhdGUpCiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnZpYnJhdGUoNSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc2V0VHJpbVN0YXRlKHByZXYgPT4gcHJldiA/ICh7IC4uLnByZXYsIGN1cnJlbnREZWx0YTogZGVsdGFTZWMgfSkgOiBudWxsKTsKICAgIH07CiAgICBjb25zdCBoYW5kbGVUcmltUG9pbnRlclVwID0gKGUsIHRyYWNrKSA9PiB7CiAgICAgICAgaWYgKCF0cmltU3RhdGU/LmlzRHJhZ2dpbmcpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgY29uc3QgdCA9IHRyYWNrIHx8IHRyYWNrcy5maW5kKHRyID0+IHRyLmlkID09PSBlZmZlY3RpdmVTZWxlY3RlZFRyYWNrSWQpOwogICAgICAgIGlmICh0KSB7CiAgICAgICAgICAgIGxldCBjaGFuZ2UgPSB0cmltU3RhdGUuY3VycmVudERlbHRhOwogICAgICAgICAgICBsZXQgeyBzdGFydFRpbWU6IG5ld1N0YXJ0VGltZSwgdHJpbVN0YXJ0OiBuZXdUcmltU3RhcnQsIGR1cmF0aW9uOiBuZXdEdXJhdGlvbiB9ID0gdDsKICAgICAgICAgICAgaWYgKHRyaW1TdGF0ZS5zaWRlID09PSAnc3RhcnQnKSB7CiAgICAgICAgICAgICAgICBpZiAobmV3VHJpbVN0YXJ0ICsgY2hhbmdlIDwgMCkKICAgICAgICAgICAgICAgICAgICBjaGFuZ2UgPSAtbmV3VHJpbVN0YXJ0OwogICAgICAgICAgICAgICAgaWYgKG5ld0R1cmF0aW9uIC0gY2hhbmdlIDwgMC4xKQogICAgICAgICAgICAgICAgICAgIGNoYW5nZSA9IG5ld0R1cmF0aW9uIC0gMC4xOwogICAgICAgICAgICAgICAgbmV3U3RhcnRUaW1lICs9IGNoYW5nZTsKICAgICAgICAgICAgICAgIG5ld0R1cmF0aW9uIC09IGNoYW5nZTsKICAgICAgICAgICAgICAgIG5ld1RyaW1TdGFydCArPSBjaGFuZ2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAobmV3RHVyYXRpb24gKyBjaGFuZ2UgPCAwLjEpCiAgICAgICAgICAgICAgICAgICAgY2hhbmdlID0gMC4xIC0gbmV3RHVyYXRpb247CiAgICAgICAgICAgICAgICBpZiAobmV3VHJpbVN0YXJ0ICsgbmV3RHVyYXRpb24gKyBjaGFuZ2UgPiB0LmJ1ZmZlci5kdXJhdGlvbikKICAgICAgICAgICAgICAgICAgICBjaGFuZ2UgPSB0LmJ1ZmZlci5kdXJhdGlvbiAtIChuZXdUcmltU3RhcnQgKyBuZXdEdXJhdGlvbik7CiAgICAgICAgICAgICAgICBuZXdEdXJhdGlvbiArPSBjaGFuZ2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdXBkYXRlVHJhY2sodC5pZCwgeyBzdGFydFRpbWU6IG5ld1N0YXJ0VGltZSwgdHJpbVN0YXJ0OiBuZXdUcmltU3RhcnQsIGR1cmF0aW9uOiBuZXdEdXJhdGlvbiB9KTsKICAgICAgICAgICAgcHVzaEhpc3RvcnkoKTsKICAgICAgICB9CiAgICAgICAgc2V0VHJpbVN0YXRlKG51bGwpOwogICAgICAgIGlmIChlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIGUudGFyZ2V0Lmhhc1BvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKSkKICAgICAgICAgICAgZS50YXJnZXQucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTsKICAgIH07CiAgICAvLyAtLS0gRmFkZSBIYW5kbGVzIExvZ2ljIC0tLQogICAgY29uc3QgaGFuZGxlRmFkZUhhbmRsZVBvaW50ZXJEb3duID0gKGUpID0+IHsKICAgICAgICBpZiAoYWN0aXZlUG9pbnRlcnMuY3VycmVudC5zaXplID4gMSkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgIGlmIChpbnRlcmFjdGl2ZU1vZGUpIHsKICAgICAgICAgICAgc2V0SW50ZXJhY3RpdmVNb2RlKHByZXYgPT4gcHJldiA/ICh7IC4uLnByZXYsIGlzRHJhZ2dpbmc6IHRydWUgfSkgOiBudWxsKTsKICAgICAgICAgICAgZS50YXJnZXQuc2V0UG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpOwogICAgICAgIH0KICAgIH07CiAgICBjb25zdCBoYW5kbGVGYWRlSGFuZGxlRHJhZyA9IChlLCB0cmFjaykgPT4gewogICAgICAgIGlmIChhY3RpdmVQb2ludGVycy5jdXJyZW50LnNpemUgPiAxKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKCFpbnRlcmFjdGl2ZU1vZGU/LmlzRHJhZ2dpbmcgfHwgaW50ZXJhY3RpdmVNb2RlLnRyYWNrSWQgIT09IHRyYWNrLmlkKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgY29uc3QgcmVjdCA9IHRpbWVsaW5lUmVmLmN1cnJlbnQ/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIGlmICghcmVjdCkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIGNvbnN0IG1vdXNlUmVsID0gKGUuY2xpZW50WCAtIHJlY3QubGVmdCArICh0aW1lbGluZVJlZi5jdXJyZW50Py5zY3JvbGxMZWZ0IHx8IDApKSAtICh0cmFjay5zdGFydFRpbWUgKiB6b29tKTsKICAgICAgICBsZXQgbmV3RHVyID0gbW91c2VSZWwgLyB6b29tOwogICAgICAgIGlmIChpbnRlcmFjdGl2ZU1vZGUudHlwZSA9PT0gJ2ZhZGVJbicpIHsKICAgICAgICAgICAgbmV3RHVyID0gTWF0aC5tYXgoMCwgTWF0aC5taW4obmV3RHVyLCB0cmFjay5kdXJhdGlvbikpOwogICAgICAgICAgICB1cGRhdGVUcmFjayh0cmFjay5pZCwgeyBhY3RpdmVFZmZlY3RzOiB7IC4uLnRyYWNrLmFjdGl2ZUVmZmVjdHMsIGZhZGVJbjogbmV3RHVyIH0gfSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBjb25zdCBmcm9tRW5kID0gdHJhY2suZHVyYXRpb24gLSBuZXdEdXI7CiAgICAgICAgICAgIG5ld0R1ciA9IE1hdGgubWF4KDAsIE1hdGgubWluKGZyb21FbmQsIHRyYWNrLmR1cmF0aW9uKSk7CiAgICAgICAgICAgIHVwZGF0ZVRyYWNrKHRyYWNrLmlkLCB7IGFjdGl2ZUVmZmVjdHM6IHsgLi4udHJhY2suYWN0aXZlRWZmZWN0cywgZmFkZU91dDogbmV3RHVyIH0gfSk7CiAgICAgICAgfQogICAgfTsKICAgIGNvbnN0IGhhbmRsZUZhZGVIYW5kbGVQb2ludGVyVXAgPSAoZSwgdHJhY2spID0+IHsKICAgICAgICBpZiAoaW50ZXJhY3RpdmVNb2RlPy5pc0RyYWdnaW5nKSB7CiAgICAgICAgICAgIHNldEludGVyYWN0aXZlTW9kZShwcmV2ID0+IHByZXYgPyAoeyAuLi5wcmV2LCBpc0RyYWdnaW5nOiBmYWxzZSB9KSA6IG51bGwpOwogICAgICAgICAgICBwdXNoSGlzdG9yeSgpOwogICAgICAgICAgICBpZiAoZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBlLnRhcmdldC5oYXNQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCkpCiAgICAgICAgICAgICAgICBlLnRhcmdldC5yZWxlYXNlUG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpOwogICAgICAgIH0KICAgIH07CiAgICBjb25zdCBkZWxldGVTZWxlY3RlZFRyYWNrID0gKCkgPT4geyBpZiAoc2VsZWN0ZWRUcmFja0lkKSB7CiAgICAgICAgc2V0VHJhY2tzKHByZXYgPT4gcHJldi5maWx0ZXIodCA9PiB0LmlkICE9PSBzZWxlY3RlZFRyYWNrSWQpKTsKICAgICAgICBzZXRTZWxlY3RlZFRyYWNrSWQobnVsbCk7CiAgICB9IH07CiAgICBjb25zdCBoYW5kbGVUb2dnbGVSZWNvcmQgPSBhc3luYyAoKSA9PiB7CiAgICAgICAgaWYgKGlzUmVjb3JkaW5nKSB7CiAgICAgICAgICAgIG1lZGlhUmVjb3JkZXJSZWYuY3VycmVudD8uc3RvcCgpOwogICAgICAgICAgICBzZXRJc1JlY29yZGluZyhmYWxzZSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyBhdWRpbzogdHJ1ZSB9KTsKICAgICAgICAgICAgICAgIGNvbnN0IG1lZGlhUmVjb3JkZXIgPSBuZXcgTWVkaWFSZWNvcmRlcihzdHJlYW0pOwogICAgICAgICAgICAgICAgY29uc3QgY2h1bmtzID0gW107CiAgICAgICAgICAgICAgICBtZWRpYVJlY29yZGVyLm9uZGF0YWF2YWlsYWJsZSA9IGUgPT4gY2h1bmtzLnB1c2goZS5kYXRhKTsKICAgICAgICAgICAgICAgIG1lZGlhUmVjb3JkZXIub25zdG9wID0gYXN5bmMgKCkgPT4geyBjb25zdCBibG9iID0gbmV3IEJsb2IoY2h1bmtzLCB7IHR5cGU6ICdhdWRpby93ZWJtJyB9KTsgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7IGNvbnN0IGF1ZGlvQnVmZmVyID0gYXdhaXQgZGVjb2RlQXVkaW9EYXRhKGFycmF5QnVmZmVyKTsgcHVzaEhpc3RvcnkoKTsgY29uc3Qgc3RhcnRMYW5lID0gdHJhY2tzLmxlbmd0aCA+IDAgPyBNYXRoLm1heCguLi50cmFja3MubWFwKHQgPT4gdC5sYW5lKSkgKyAxIDogMDsgY29uc3QgbmV3VHJhY2sgPSB7IGlkOiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSksIG5hbWU6IGBSZWNvcmRpbmdgLCBidWZmZXI6IGF1ZGlvQnVmZmVyLCBzdGFydFRpbWU6IGN1cnJlbnRUaW1lLCB0cmltU3RhcnQ6IDAsIGR1cmF0aW9uOiBhdWRpb0J1ZmZlci5kdXJhdGlvbiwgbGFuZTogc3RhcnRMYW5lLCB2b2x1bWU6IDEuMCwgaXNNdXRlZDogZmFsc2UsIGlzU29sbzogZmFsc2UsIGNvbG9yOiBUUkFDS19DT0xPUlNbc3RhcnRMYW5lICUgVFJBQ0tfQ09MT1JTLmxlbmd0aF0gfTsgc2V0VHJhY2tzKHByZXYgPT4gWy4uLnByZXYsIG5ld1RyYWNrXSk7IHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHRyYWNrLnN0b3AoKSk7IH07CiAgICAgICAgICAgICAgICBtZWRpYVJlY29yZGVyLnN0YXJ0KCk7CiAgICAgICAgICAgICAgICBzZXRJc1JlY29yZGluZyh0cnVlKTsKICAgICAgICAgICAgICAgIGlmICghaXNQbGF5aW5nKQogICAgICAgICAgICAgICAgICAgIGhhbmRsZVBsYXlQYXVzZSgpOwogICAgICAgICAgICAgICAgbWVkaWFSZWNvcmRlclJlZi5jdXJyZW50ID0gbWVkaWFSZWNvcmRlcjsKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgYWxlcnQoIk1pY3JvcGhvbmUgYWNjZXNzIGRlbmllZCBvciBlcnJvcjogIiArIGUpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKICAgIGNvbnN0IHVwZGF0ZVRyYWNrID0gKGlkLCB1cGRhdGVzKSA9PiBzZXRUcmFja3MocHJldiA9PiBwcmV2Lm1hcCh0ID0+IHQuaWQgPT09IGlkID8geyAuLi50LCAuLi51cGRhdGVzIH0gOiB0KSk7CiAgICBjb25zdCBkZWxldGVUcmFjayA9IChpZCkgPT4geyBwdXNoSGlzdG9yeSgpOyBzZXRUcmFja3MocHJldiA9PiBwcmV2LmZpbHRlcih0ID0+IHQuaWQgIT09IGlkKSk7IGlmIChlZmZlY3RpdmVTZWxlY3RlZFRyYWNrSWQgPT09IGlkKSB7CiAgICAgICAgc2V0U2VsZWN0ZWRUcmFja0lkKG51bGwpOwogICAgICAgIHNldElzVHJpbU1vZGUoZmFsc2UpOwogICAgfSBzZXRTZWxlY3Rpb24obnVsbCk7IH07CiAgICAvLyAuLi4gKEtlZXAgY29tcGxleCBsb2dpYyBmb3IgQ3JvcC9DdXQvRWZmZWN0cy9FeHBvcnQgLSBtaW5pbWFsIGNoYW5nZXMgbmVlZGVkIHRoZXJlKSAuLi4KICAgIGNvbnN0IGhhbmRsZUNyb3AgPSAoKSA9PiB7IGlmICghZWZmZWN0aXZlU2VsZWN0ZWRUcmFja0lkKQogICAgICAgIHJldHVybjsgaWYgKHNlbGVjdGlvbikgewogICAgICAgIGNvbnN0IHRyYWNrID0gdHJhY2tzLmZpbmQodCA9PiB0LmlkID09PSBlZmZlY3RpdmVTZWxlY3RlZFRyYWNrSWQpOwogICAgICAgIGlmICghdHJhY2spCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBwdXNoSGlzdG9yeSgpOwogICAgICAgIGNvbnN0IHJlbFN0YXJ0ID0gTWF0aC5tYXgoMCwgc2VsZWN0aW9uLnN0YXJ0IC0gdHJhY2suc3RhcnRUaW1lKTsKICAgICAgICBjb25zdCByZWxFbmQgPSBNYXRoLm1pbih0cmFjay5kdXJhdGlvbiwgc2VsZWN0aW9uLmVuZCAtIHRyYWNrLnN0YXJ0VGltZSk7CiAgICAgICAgaWYgKHJlbEVuZCA+IHJlbFN0YXJ0KSB7CiAgICAgICAgICAgIGNvbnN0IG5ld1RyaW1TdGFydCA9IHRyYWNrLnRyaW1TdGFydCArIHJlbFN0YXJ0OwogICAgICAgICAgICBjb25zdCBuZXdEdXJhdGlvbiA9IHJlbEVuZCAtIHJlbFN0YXJ0OwogICAgICAgICAgICB1cGRhdGVUcmFjayhlZmZlY3RpdmVTZWxlY3RlZFRyYWNrSWQsIHsgdHJpbVN0YXJ0OiBuZXdUcmltU3RhcnQsIGR1cmF0aW9uOiBuZXdEdXJhdGlvbiwgc3RhcnRUaW1lOiBzZWxlY3Rpb24uc3RhcnQgfSk7CiAgICAgICAgfQogICAgICAgIHNldFNlbGVjdGlvbihudWxsKTsKICAgICAgICBzZXRJc1RyaW1Nb2RlKGZhbHNlKTsKICAgICAgICBzdG9wUGxheWJhY2soKTsKICAgIH0KICAgIGVsc2UgewogICAgICAgIGNvbnN0IHdpbGxFbmFibGUgPSAhaXNUcmltTW9kZTsKICAgICAgICBpZiAod2lsbEVuYWJsZSAmJiAhc2VsZWN0ZWRUcmFja0lkKSB7CiAgICAgICAgICAgIHNldFNlbGVjdGVkVHJhY2tJZChlZmZlY3RpdmVTZWxlY3RlZFRyYWNrSWQpOwogICAgICAgIH0KICAgICAgICBzZXRJc1RyaW1Nb2RlKHdpbGxFbmFibGUpOwogICAgICAgIGlmICghd2lsbEVuYWJsZSkKICAgICAgICAgICAgc2V0VHJpbVN0YXRlKG51bGwpOwogICAgfSB9OwogICAgY29uc3QgaGFuZGxlQ3V0ID0gKCkgPT4geyBpZiAoIWVmZmVjdGl2ZVNlbGVjdGVkVHJhY2tJZCkgewogICAgICAgIGFsZXJ0KCJTZWxlY3QgYSB0cmFjayB0byBjdXQuIik7CiAgICAgICAgcmV0dXJuOwogICAgfSBjb25zdCB0cmFjayA9IHRyYWNrc1JlZi5jdXJyZW50LmZpbmQodCA9PiB0LmlkID09PSBlZmZlY3RpdmVTZWxlY3RlZFRyYWNrSWQpOyBpZiAoIXRyYWNrKQogICAgICAgIHJldHVybjsgY29uc3QgcmVsVGltZSA9IGN1cnJlbnRUaW1lIC0gdHJhY2suc3RhcnRUaW1lOyBpZiAocmVsVGltZSA8PSAwLjA1IHx8IHJlbFRpbWUgPj0gdHJhY2suZHVyYXRpb24gLSAwLjA1KSB7CiAgICAgICAgYWxlcnQoIlBsYWNlIHBsYXloZWFkIGluc2lkZSB0cmFjay4iKTsKICAgICAgICByZXR1cm47CiAgICB9IGNvbnN0IHNwbGl0UG9pbnRJbkZpbGUgPSB0cmFjay50cmltU3RhcnQgKyByZWxUaW1lOyBwdXNoSGlzdG9yeSgpOyBjb25zdCB0MSA9IHsgLi4udHJhY2ssIGlkOiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSksIG5hbWU6IGAke3RyYWNrLm5hbWV9IEFgLCBkdXJhdGlvbjogcmVsVGltZSwgYnBtOiB0cmFjay5icG0gfTsgY29uc3QgdDIgPSB7IC4uLnRyYWNrLCBpZDogTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpLCBuYW1lOiBgJHt0cmFjay5uYW1lfSBCYCwgc3RhcnRUaW1lOiB0cmFjay5zdGFydFRpbWUgKyByZWxUaW1lLCB0cmltU3RhcnQ6IHNwbGl0UG9pbnRJbkZpbGUsIGR1cmF0aW9uOiB0cmFjay5kdXJhdGlvbiAtIHJlbFRpbWUsIGJwbTogdHJhY2suYnBtIH07IHNldFRyYWNrcyhwcmV2ID0+IHsgY29uc3QgaWR4ID0gcHJldi5maW5kSW5kZXgodCA9PiB0LmlkID09PSB0cmFjay5pZCk7IGNvbnN0IG4gPSBbLi4ucHJldl07IG4uc3BsaWNlKGlkeCwgMSwgdDEsIHQyKTsgcmV0dXJuIG47IH0pOyBzZXRTZWxlY3RlZFRyYWNrSWQodDIuaWQpOyBzZXRJc1RyaW1Nb2RlKGZhbHNlKTsgc3RvcFBsYXliYWNrKCk7IH07CiAgICBjb25zdCBoYW5kbGVBcHBseUVmZmVjdCA9IGFzeW5jIChlZmZlY3RJZCwgcGFyYW1zKSA9PiB7CiAgICAgICAgaWYgKCFlZmZlY3RpdmVTZWxlY3RlZFRyYWNrSWQpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBjb25zdCB0cmFjayA9IHRyYWNrcy5maW5kKHQgPT4gdC5pZCA9PT0gZWZmZWN0aXZlU2VsZWN0ZWRUcmFja0lkKTsKICAgICAgICBpZiAoIXRyYWNrKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHBhcmFtcz8uaW50ZXJhY3RpdmUpIHsKICAgICAgICAgICAgaWYgKCFzZWxlY3RlZFRyYWNrSWQpCiAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFRyYWNrSWQoZWZmZWN0aXZlU2VsZWN0ZWRUcmFja0lkKTsKICAgICAgICAgICAgc2V0SW50ZXJhY3RpdmVNb2RlKHsgdHlwZTogZWZmZWN0SWQsIHRyYWNrSWQ6IHRyYWNrLmlkLCBpc0RyYWdnaW5nOiBmYWxzZSB9KTsKICAgICAgICAgICAgY29uc3QgZGVmYXVsdEZhZGUgPSBNYXRoLm1pbih0cmFjay5kdXJhdGlvbiwgMi4wKTsKICAgICAgICAgICAgY29uc3QgY3VycmVudEVmZmVjdHMgPSB0cmFjay5hY3RpdmVFZmZlY3RzIHx8IHt9OwogICAgICAgICAgICBpZiAoZWZmZWN0SWQgPT09ICdmYWRlSW4nICYmICFjdXJyZW50RWZmZWN0cy5mYWRlSW4pIHsKICAgICAgICAgICAgICAgIHVwZGF0ZVRyYWNrKHRyYWNrLmlkLCB7IGFjdGl2ZUVmZmVjdHM6IHsgLi4uY3VycmVudEVmZmVjdHMsIGZhZGVJbjogZGVmYXVsdEZhZGUgfSB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZWZmZWN0SWQgPT09ICdmYWRlT3V0JyAmJiAhY3VycmVudEVmZmVjdHMuZmFkZU91dCkgewogICAgICAgICAgICAgICAgdXBkYXRlVHJhY2sodHJhY2suaWQsIHsgYWN0aXZlRWZmZWN0czogeyAuLi5jdXJyZW50RWZmZWN0cywgZmFkZU91dDogZGVmYXVsdEZhZGUgfSB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChwYXJhbXM/LmF1dG9tYXRpb24pIHsKICAgICAgICAgICAgaWYgKCFzZWxlY3RlZFRyYWNrSWQpCiAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFRyYWNrSWQoZWZmZWN0aXZlU2VsZWN0ZWRUcmFja0lkKTsKICAgICAgICAgICAgc2V0SW50ZXJhY3RpdmVNb2RlKHsgdHlwZTogJ2F1dG9tYXRpb24nLCB0cmFja0lkOiB0cmFjay5pZCwgaXNEcmFnZ2luZzogZmFsc2UgfSk7CiAgICAgICAgICAgIGlmICghdHJhY2sudm9sdW1lQXV0b21hdGlvbikgewogICAgICAgICAgICAgICAgdXBkYXRlVHJhY2sodHJhY2suaWQsIHsgdm9sdW1lQXV0b21hdGlvbjogW3sgdGltZTogdHJhY2sudHJpbVN0YXJ0LCB2YWx1ZTogMS4wIH0sIHsgdGltZTogdHJhY2sudHJpbVN0YXJ0ICsgdHJhY2suZHVyYXRpb24sIHZhbHVlOiAxLjAgfV0gfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBwdXNoSGlzdG9yeSgpOwogICAgICAgIGlmIChlZmZlY3RJZCA9PT0gJ3ZvbHVtZScpIHsKICAgICAgICAgICAgdXBkYXRlVHJhY2sodHJhY2suaWQsIHsgdm9sdW1lOiBwYXJhbXM/LmxldmVsID8/IDEuMCB9KTsKICAgICAgICAgICAgc2V0QXBwU3RhdGUoQXBwU3RhdGUuRURJVElORyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgc2V0QXBwU3RhdGUoQXBwU3RhdGUuUFJPQ0VTU0lORyk7CiAgICAgICAgc3RvcFBsYXliYWNrKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKGVmZmVjdElkID09PSAnY3Jvc3NmYWRlJykgewogICAgICAgICAgICAgICAgaWYgKHBhcmFtcz8ucmVzdG9yZSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0cmFjay5jcm9zc2ZhZGVNZXRhZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGxlZnQsIHJpZ2h0IH0gPSB0cmFjay5jcm9zc2ZhZGVNZXRhZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VHJhY2tzKHByZXYgPT4geyBjb25zdCBmaWx0ZXJlZCA9IHByZXYuZmlsdGVyKHQgPT4gdC5pZCAhPT0gdHJhY2suaWQpOyByZXR1cm4gWy4uLmZpbHRlcmVkLCBsZWZ0LCByaWdodF07IH0pOwogICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFRyYWNrSWQobGVmdC5pZCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHNldEFwcFN0YXRlKEFwcFN0YXRlLkVESVRJTkcpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gcGFyYW1zPy5kdXJhdGlvbiB8fCAxLjA7CiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRMYW5lID0gdHJhY2subGFuZTsKICAgICAgICAgICAgICAgIGNvbnN0IHNwbGl0VGltZSA9IGN1cnJlbnRUaW1lOwogICAgICAgICAgICAgICAgY29uc3QgdGhyZXNob2xkID0gMC4xOwogICAgICAgICAgICAgICAgY29uc3QgbGVmdFRyYWNrID0gdHJhY2tzLmZpbmQodCA9PiB0LmxhbmUgPT09IHRhcmdldExhbmUgJiYgTWF0aC5hYnMoKHQuc3RhcnRUaW1lICsgdC5kdXJhdGlvbikgLSBzcGxpdFRpbWUpIDwgdGhyZXNob2xkKTsKICAgICAgICAgICAgICAgIGNvbnN0IHJpZ2h0VHJhY2sgPSB0cmFja3MuZmluZCh0ID0+IHQubGFuZSA9PT0gdGFyZ2V0TGFuZSAmJiBNYXRoLmFicyh0LnN0YXJ0VGltZSAtIHNwbGl0VGltZSkgPCB0aHJlc2hvbGQpOwogICAgICAgICAgICAgICAgaWYgKGxlZnRUcmFjayAmJiByaWdodFRyYWNrKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVyZ2VkQnVmZmVyID0gYXdhaXQgbWVyZ2VCdWZmZXJzKGxlZnRUcmFjay5idWZmZXIsIHJpZ2h0VHJhY2suYnVmZmVyLCBkdXJhdGlvbik7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VHJhY2sgPSB7IGlkOiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSksIG5hbWU6IGBNZXJnZWQgKCR7bGVmdFRyYWNrLm5hbWV9ICsgJHtyaWdodFRyYWNrLm5hbWV9KWAsIGJ1ZmZlcjogbWVyZ2VkQnVmZmVyLCBzdGFydFRpbWU6IGxlZnRUcmFjay5zdGFydFRpbWUsIHRyaW1TdGFydDogMCwgZHVyYXRpb246IG1lcmdlZEJ1ZmZlci5kdXJhdGlvbiwgbGFuZTogdGFyZ2V0TGFuZSwgdm9sdW1lOiAxLjAsIGlzTXV0ZWQ6IGZhbHNlLCBpc1NvbG86IGZhbHNlLCBjb2xvcjogbGVmdFRyYWNrLmNvbG9yLCBicG06IGxlZnRUcmFjay5icG0gPT09IHJpZ2h0VHJhY2suYnBtID8gbGVmdFRyYWNrLmJwbSA6IHVuZGVmaW5lZCwgY3Jvc3NmYWRlTWV0YWRhdGE6IHsgbGVmdDogbGVmdFRyYWNrLCByaWdodDogcmlnaHRUcmFjaywgZHVyYXRpb24gfSB9OwogICAgICAgICAgICAgICAgICAgIHNldFRyYWNrcyhwcmV2ID0+IHsgY29uc3QgZmlsdGVyZWQgPSBwcmV2LmZpbHRlcih0ID0+IHQuaWQgIT09IGxlZnRUcmFjay5pZCAmJiB0LmlkICE9PSByaWdodFRyYWNrLmlkKTsgcmV0dXJuIFsuLi5maWx0ZXJlZCwgbmV3VHJhY2tdOyB9KTsKICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFRyYWNrSWQobmV3VHJhY2suaWQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIlRvIGNyb3NzZmFkZSwgcGxhY2UgdHdvIGNsaXBzIHNpZGUtYnktc2lkZSBvbiB0aGUgc2FtZSBsYW5lIGFuZCBtb3ZlIHRoZSBwbGF5aGVhZCB0byB0aGVpciBtZWV0aW5nIHBvaW50LiIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2V0QXBwU3RhdGUoQXBwU3RhdGUuRURJVElORyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGV0IG5ld0VmZmVjdHMgPSB7IC4uLih0cmFjay5hY3RpdmVFZmZlY3RzIHx8IHt9KSB9OwogICAgICAgICAgICBpZiAocGFyYW1zPy5yZXN0b3JlKSB7CiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0SWQgPT09ICdmYWRlSW4nKQogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBuZXdFZmZlY3RzLmZhZGVJbjsKICAgICAgICAgICAgICAgIGlmIChlZmZlY3RJZCA9PT0gJ2ZhZGVPdXQnKQogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBuZXdFZmZlY3RzLmZhZGVPdXQ7CiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0SWQgPT09ICdlcScpCiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG5ld0VmZmVjdHMuZXFQcmVzZXQ7CiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0SWQgPT09ICdub3JtYWxpemUnKQogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBuZXdFZmZlY3RzLm5vcm1hbGl6ZTsKICAgICAgICAgICAgICAgIGlmIChlZmZlY3RJZCA9PT0gJ3JldmVyc2UnKQogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBuZXdFZmZlY3RzLnJldmVyc2U7CiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0SWQgPT09ICdzcGVlZCcpIHsKICAgICAgICAgICAgICAgICAgICBkZWxldGUgbmV3RWZmZWN0cy5wbGF5YmFja1JhdGU7CiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG5ld0VmZmVjdHMucHJlc2VydmVQaXRjaDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChlZmZlY3RJZCAhPT0gJ2FwcGx5QWN0aXZlRmFkZXMnKSB7CiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0SWQgPT09ICdmYWRlSW4nKQogICAgICAgICAgICAgICAgICAgIG5ld0VmZmVjdHMuZmFkZUluID0gcGFyYW1zPy5kdXJhdGlvbjsKICAgICAgICAgICAgICAgIGlmIChlZmZlY3RJZCA9PT0gJ2ZhZGVPdXQnKQogICAgICAgICAgICAgICAgICAgIG5ld0VmZmVjdHMuZmFkZU91dCA9IHBhcmFtcz8uZHVyYXRpb247CiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0SWQgPT09ICdlcScpCiAgICAgICAgICAgICAgICAgICAgbmV3RWZmZWN0cy5lcVByZXNldCA9IHBhcmFtcz8ucHJlc2V0OwogICAgICAgICAgICAgICAgaWYgKGVmZmVjdElkID09PSAnbm9ybWFsaXplJykKICAgICAgICAgICAgICAgICAgICBuZXdFZmZlY3RzLm5vcm1hbGl6ZSA9IHRydWU7CiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0SWQgPT09ICdyZXZlcnNlJykKICAgICAgICAgICAgICAgICAgICBuZXdFZmZlY3RzLnJldmVyc2UgPSB0cnVlOwogICAgICAgICAgICAgICAgaWYgKGVmZmVjdElkID09PSAnc3BlZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgbmV3RWZmZWN0cy5wbGF5YmFja1JhdGUgPSBwYXJhbXM/LnBsYXliYWNrUmF0ZTsKICAgICAgICAgICAgICAgICAgICBuZXdFZmZlY3RzLnByZXNlcnZlUGl0Y2ggPSBwYXJhbXM/LnByZXNlcnZlUGl0Y2g7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAocGFyYW1zPy50b2dnbGUpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZWZmZWN0SWQgPT09ICdub3JtYWxpemUnKQogICAgICAgICAgICAgICAgICAgICAgICBuZXdFZmZlY3RzLm5vcm1hbGl6ZSA9ICF0cmFjay5hY3RpdmVFZmZlY3RzPy5ub3JtYWxpemU7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVmZmVjdElkID09PSAncmV2ZXJzZScpCiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0VmZmVjdHMucmV2ZXJzZSA9ICF0cmFjay5hY3RpdmVFZmZlY3RzPy5yZXZlcnNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBwaXBlbGluZUJ1ZmZlciA9IHRyYWNrLm9yaWdpbmFsQnVmZmVyIHx8IHRyYWNrLmJ1ZmZlcjsKICAgICAgICAgICAgaWYgKG5ld0VmZmVjdHMucmV2ZXJzZSkgewogICAgICAgICAgICAgICAgcGlwZWxpbmVCdWZmZXIgPSByZXZlcnNlQnVmZmVyKHBpcGVsaW5lQnVmZmVyKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobmV3RWZmZWN0cy5wbGF5YmFja1JhdGUgJiYgbmV3RWZmZWN0cy5wbGF5YmFja1JhdGUgIT09IDEuMCkgewogICAgICAgICAgICAgICAgcGlwZWxpbmVCdWZmZXIgPSBhd2FpdCBjaGFuZ2VTcGVlZChwaXBlbGluZUJ1ZmZlciwgbmV3RWZmZWN0cy5wbGF5YmFja1JhdGUsIG5ld0VmZmVjdHMucHJlc2VydmVQaXRjaCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG5ld0VmZmVjdHMuZXFQcmVzZXQpIHsKICAgICAgICAgICAgICAgIHBpcGVsaW5lQnVmZmVyID0gYXdhaXQgYXBwbHlFUShwaXBlbGluZUJ1ZmZlciwgbmV3RWZmZWN0cy5lcVByZXNldCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG5ld0VmZmVjdHMubm9ybWFsaXplKSB7CiAgICAgICAgICAgICAgICBwaXBlbGluZUJ1ZmZlciA9IG5vcm1hbGl6ZUJ1ZmZlcihwaXBlbGluZUJ1ZmZlcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG5ld0VmZmVjdHMuZmFkZUluKSB7CiAgICAgICAgICAgICAgICBwaXBlbGluZUJ1ZmZlciA9IGF3YWl0IGFwcGx5RmFkZShwaXBlbGluZUJ1ZmZlciwgJ2luJywgbmV3RWZmZWN0cy5mYWRlSW4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChuZXdFZmZlY3RzLmZhZGVPdXQpIHsKICAgICAgICAgICAgICAgIHBpcGVsaW5lQnVmZmVyID0gYXdhaXQgYXBwbHlGYWRlKHBpcGVsaW5lQnVmZmVyLCAnb3V0JywgbmV3RWZmZWN0cy5mYWRlT3V0KTsKICAgICAgICAgICAgfQogICAgICAgICAgICB1cGRhdGVUcmFjayh0cmFjay5pZCwgeyBidWZmZXI6IHBpcGVsaW5lQnVmZmVyLCBvcmlnaW5hbEJ1ZmZlcjogdHJhY2sub3JpZ2luYWxCdWZmZXIgfHwgdHJhY2suYnVmZmVyLCBhY3RpdmVFZmZlY3RzOiBuZXdFZmZlY3RzLCBkdXJhdGlvbjogcGlwZWxpbmVCdWZmZXIuZHVyYXRpb24gfSk7CiAgICAgICAgICAgIHNldEFwcFN0YXRlKEFwcFN0YXRlLkVESVRJTkcpOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoZSkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgICAgICAgICBzZXRBcHBTdGF0ZShBcHBTdGF0ZS5FUlJPUik7CiAgICAgICAgfQogICAgfTsKICAgIGNvbnN0IGhhbmRsZUFkZEJlYXQgPSAoZ2VuZXJhdGVkQnVmZmVyLCBuYW1lKSA9PiB7IHB1c2hIaXN0b3J5KCk7IGNvbnN0IHN0YXJ0TGFuZSA9IHRyYWNrcy5sZW5ndGggPiAwID8gTWF0aC5tYXgoLi4udHJhY2tzLm1hcCh0ID0+IHQubGFuZSkpICsgMSA6IDA7IGxldCBwYXJzZWRCcG07IGNvbnN0IGJwbU1hdGNoID0gbmFtZS5tYXRjaCgvXCgoXGQrKVxzKkJQTVwpLyk7IGlmIChicG1NYXRjaCAmJiBicG1NYXRjaFsxXSkKICAgICAgICBwYXJzZWRCcG0gPSBwYXJzZUludChicG1NYXRjaFsxXSk7IHNldFRyYWNrcyhwcmV2ID0+IFsuLi5wcmV2LCB7IGlkOiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSksIG5hbWUsIGJ1ZmZlcjogZ2VuZXJhdGVkQnVmZmVyLCBzdGFydFRpbWU6IGN1cnJlbnRUaW1lLCB0cmltU3RhcnQ6IDAsIGR1cmF0aW9uOiBnZW5lcmF0ZWRCdWZmZXIuZHVyYXRpb24sIGxhbmU6IHN0YXJ0TGFuZSwgdm9sdW1lOiAwLjgsIGlzTXV0ZWQ6IGZhbHNlLCBpc1NvbG86IGZhbHNlLCBjb2xvcjogVFJBQ0tfQ09MT1JTW3N0YXJ0TGFuZSAlIFRSQUNLX0NPTE9SUy5sZW5ndGhdLCBicG06IHBhcnNlZEJwbSB9XSk7IHNldElzVHJpbU1vZGUoZmFsc2UpOyB9OwogICAgLy8gVXBkYXRlZCBoYW5kbGVFeHBvcnQgdG8gaW5jbHVkZSBGTEFDIGxvZ2ljCiAgICBjb25zdCBoYW5kbGVFeHBvcnQgPSBhc3luYyAodGFyZ2V0UmF0ZSwgZm9ybWF0KSA9PiB7CiAgICAgICAgaWYgKHRyYWNrcy5sZW5ndGggPT09IDApCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBzZXRBcHBTdGF0ZShBcHBTdGF0ZS5QUk9DRVNTSU5HKTsKICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IG1peGVkID0gYXdhaXQgbWl4VHJhY2tzKHRyYWNrcywgbWF4RHVyYXRpb24pOwogICAgICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkID0gYXdhaXQgcmVzYW1wbGVCdWZmZXIobWl4ZWQsIHRhcmdldFJhdGUpOwogICAgICAgICAgICAgICAgbGV0IGJsb2I7CiAgICAgICAgICAgICAgICBsZXQgZXh0ZW5zaW9uOwogICAgICAgICAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ21wMycpIHsKICAgICAgICAgICAgICAgICAgICBibG9iID0gZW5jb2RlTVAzKHByb2Nlc3NlZCk7CiAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uID0gJ21wMyc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmIChmb3JtYXQgPT09ICdmbGFjJykgewogICAgICAgICAgICAgICAgICAgIC8vIFVzaW5nIFdBViBlbmNvZGVyIGJ1dCBuYW1pbmcgYXMgRkxBQyBhcyBhIGZhbGxiYWNrIHNpbmNlIG5vIEZMQUMgbGliIGlzIHByZXNlbnQKICAgICAgICAgICAgICAgICAgICBibG9iID0gZW5jb2RlRkxBQyhwcm9jZXNzZWQpOwogICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbiA9ICdmbGFjJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIGJsb2IgPSBlbmNvZGVXQVYocHJvY2Vzc2VkKTsKICAgICAgICAgICAgICAgICAgICBleHRlbnNpb24gPSAnd2F2JzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgICAgICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgICAgICAgICAgYS5ocmVmID0gdXJsOwogICAgICAgICAgICAgICAgYS5kb3dubG9hZCA9IGBzb25pY3BvY2tldF9taXhfJHtEYXRlLm5vdygpfS4ke2V4dGVuc2lvbn1gOwogICAgICAgICAgICAgICAgYS5jbGljaygpOwogICAgICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgICAgICAgICAgICAgYWxlcnQoIkV4cG9ydCBmYWlsZWQ6ICIgKyAoZSBpbnN0YW5jZW9mIEVycm9yID8gZS5tZXNzYWdlIDogU3RyaW5nKGUpKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZmluYWxseSB7CiAgICAgICAgICAgICAgICBzZXRBcHBTdGF0ZShBcHBTdGF0ZS5FRElUSU5HKTsKICAgICAgICAgICAgfQogICAgICAgIH0sIDEwMCk7CiAgICB9OwogICAgY29uc3QgaGFuZGxlV2hlZWwgPSAoZSkgPT4geyBpZiAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICBjb25zdCBuZXdab29tID0gem9vbSArICgtZS5kZWx0YVkgKiAwLjUpOwogICAgICAgIHBlcmZvcm1ab29tKG5ld1pvb20pOwogICAgfSB9OwogICAgY29uc3QgaGFuZGxlU2F2ZUFuZENsb3NlID0gYXN5bmMgKCkgPT4geyBpZiAoc2F2ZVRpbWVvdXRSZWYuY3VycmVudCkKICAgICAgICBjbGVhclRpbWVvdXQoc2F2ZVRpbWVvdXRSZWYuY3VycmVudCk7IHRyeSB7CiAgICAgICAgaWYgKCh0cmFja3MubGVuZ3RoID4gMCB8fCBjdXJyZW50UHJvamVjdElkKSAmJiAhaWdub3JlQ2hhbmdlc1JlZi5jdXJyZW50KSB7CiAgICAgICAgICAgIGxldCBwaWQgPSBjdXJyZW50UHJvamVjdElkOwogICAgICAgICAgICBsZXQgcG5hbWUgPSBjdXJyZW50UHJvamVjdE5hbWU7CiAgICAgICAgICAgIGlmICghcGlkICYmIHRyYWNrcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGF3YWl0IGxvYWRQcm9qZWN0cygpOwogICAgICAgICAgICAgICAgcGlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpOwogICAgICAgICAgICAgICAgcG5hbWUgPSBgUHJvamVjdCAke3Byb2plY3RzLmxlbmd0aCArIDF9YDsKICAgICAgICAgICAgICAgIHNldEN1cnJlbnRQcm9qZWN0SWQocGlkKTsKICAgICAgICAgICAgICAgIHNldEN1cnJlbnRQcm9qZWN0TmFtZShwbmFtZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHBpZCkgewogICAgICAgICAgICAgICAgc2V0U2F2ZVN0YXR1cygnc2F2aW5nJyk7CiAgICAgICAgICAgICAgICBjb25zdCB0aHVtYiA9IGdlbmVyYXRlUHJvamVjdFByZXZpZXcodHJhY2tzLCAxMDAsIDEwMCk7CiAgICAgICAgICAgICAgICBhd2FpdCBzYXZlUHJvamVjdChwaWQsIHBuYW1lLCB0cmFja3MsIHRodW1iKTsKICAgICAgICAgICAgICAgIHNldFJlY2VudFByb2plY3RQcmV2aWV3KHRodW1iKTsKICAgICAgICAgICAgICAgIHNldFNhdmVTdGF0dXMoJ3NhdmVkJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IGxvYWRQcm9qZWN0cygpOwogICAgICAgICAgICBzZXRTYXZlZFByb2plY3RzKHVwZGF0ZWQpOwogICAgICAgIH0KICAgIH0KICAgIGNhdGNoIChlKSB7CiAgICAgICAgYWxlcnQoIkNvdWxkIG5vdCBzYXZlIHByb2plY3QuIENoZWNrIHlvdXIgZGV2aWNlIHN0b3JhZ2UuIik7CiAgICAgICAgc2V0U2F2ZVN0YXR1cygndW5zYXZlZCcpOwogICAgfSBzZXRBcHBTdGF0ZShBcHBTdGF0ZS5MSUJSQVJZKTsgfTsKICAgIGNvbnN0IGhhbmRsZU5ld1Byb2plY3QgPSAoKSA9PiB7IHN0b3BQbGF5YmFjaygpOyBpZiAoc2F2ZVRpbWVvdXRSZWYuY3VycmVudCkKICAgICAgICBjbGVhclRpbWVvdXQoc2F2ZVRpbWVvdXRSZWYuY3VycmVudCk7IGlnbm9yZUNoYW5nZXNSZWYuY3VycmVudCA9IHRydWU7IHNldFRyYWNrcyhbXSk7IHNldEhpc3RvcnkoW10pOyBzZXRTZWxlY3Rpb24obnVsbCk7IHNldEN1cnJlbnRUaW1lKDApOyBzZXRDdXJyZW50UHJvamVjdElkKG51bGwpOyBzZXRDdXJyZW50UHJvamVjdE5hbWUoIiIpOyBzZXRSZWNlbnRQcm9qZWN0UHJldmlldyhudWxsKTsgc2V0U2F2ZVN0YXR1cygnc2F2ZWQnKTsgc2V0TG9hZEVycm9yKG51bGwpOyBzZXRJbnRlcmFjdGl2ZU1vZGUobnVsbCk7IHNldEFwcFN0YXRlKEFwcFN0YXRlLklETEUpOyBzZXRUaW1lb3V0KCgpID0+IHsgaWdub3JlQ2hhbmdlc1JlZi5jdXJyZW50ID0gZmFsc2U7IH0sIDEwMCk7IH07CiAgICB1c2VFZmZlY3QoKCkgPT4geyBpZiAoaWdub3JlQ2hhbmdlc1JlZi5jdXJyZW50KQogICAgICAgIHJldHVybjsgaWYgKHRyYWNrcy5sZW5ndGggPT09IDAgJiYgIWN1cnJlbnRQcm9qZWN0SWQpCiAgICAgICAgcmV0dXJuOyBpc0RpcnR5UmVmLmN1cnJlbnQgPSB0cnVlOyBzZXRTYXZlU3RhdHVzKCd1bnNhdmVkJyk7IGlmIChzYXZlVGltZW91dFJlZi5jdXJyZW50KQogICAgICAgIGNsZWFyVGltZW91dChzYXZlVGltZW91dFJlZi5jdXJyZW50KTsgc2F2ZVRpbWVvdXRSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4geyBpZiAoIWlzRGlydHlSZWYuY3VycmVudCkKICAgICAgICByZXR1cm47IGlmIChhcHBTdGF0ZSAhPT0gQXBwU3RhdGUuRURJVElORykKICAgICAgICByZXR1cm47IHNldFNhdmVTdGF0dXMoJ3NhdmluZycpOyB0cnkgewogICAgICAgIGxldCBwaWQgPSBjdXJyZW50UHJvamVjdElkOwogICAgICAgIGxldCBwbmFtZSA9IGN1cnJlbnRQcm9qZWN0TmFtZTsKICAgICAgICBpZiAoIXBpZCkgewogICAgICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGF3YWl0IGxvYWRQcm9qZWN0cygpOwogICAgICAgICAgICBwaWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7CiAgICAgICAgICAgIHBuYW1lID0gYFByb2plY3QgJHtwcm9qZWN0cy5sZW5ndGggKyAxfWA7CiAgICAgICAgICAgIHNldEN1cnJlbnRQcm9qZWN0SWQocGlkKTsKICAgICAgICAgICAgc2V0Q3VycmVudFByb2plY3ROYW1lKHBuYW1lKTsKICAgICAgICB9CiAgICAgICAgY29uc3QgdGh1bWIgPSBnZW5lcmF0ZVByb2plY3RQcmV2aWV3KHRyYWNrcywgMTAwLCAxMDApOwogICAgICAgIHNldFJlY2VudFByb2plY3RQcmV2aWV3KHRodW1iKTsKICAgICAgICBhd2FpdCBzYXZlUHJvamVjdChwaWQsIHBuYW1lLCB0cmFja3MsIHRodW1iKTsKICAgICAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgbG9hZFByb2plY3RzKCk7CiAgICAgICAgc2V0U2F2ZWRQcm9qZWN0cyh1cGRhdGVkKTsKICAgICAgICBpc0RpcnR5UmVmLmN1cnJlbnQgPSBmYWxzZTsKICAgICAgICBzZXRTYXZlU3RhdHVzKCdzYXZlZCcpOwogICAgfQogICAgY2F0Y2ggKGUpIHsKICAgICAgICBzZXRTYXZlU3RhdHVzKCd1bnNhdmVkJyk7CiAgICB9IH0sIDIwMDApOyByZXR1cm4gKCkgPT4geyBpZiAoc2F2ZVRpbWVvdXRSZWYuY3VycmVudCkKICAgICAgICBjbGVhclRpbWVvdXQoc2F2ZVRpbWVvdXRSZWYuY3VycmVudCk7IH07IH0sIFt0cmFja3MsIGN1cnJlbnRQcm9qZWN0SWQsIGN1cnJlbnRQcm9qZWN0TmFtZSwgYXBwU3RhdGVdKTsKICAgIGNvbnN0IGhhbmRsZVBvaW50ZXJEb3duQ2FwdHVyZSA9IChlKSA9PiB7IGFjdGl2ZVBvaW50ZXJzLmN1cnJlbnQuc2V0KGUucG9pbnRlcklkLCB7IHg6IGUuY2xpZW50WCwgeTogZS5jbGllbnRZIH0pOyBpZiAoYWN0aXZlUG9pbnRlcnMuY3VycmVudC5zaXplID4gMSkgewogICAgICAgIHNldElzWm9vbWluZyh0cnVlKTsKICAgICAgICBpZiAobG9uZ1ByZXNzVGltZXJSZWYuY3VycmVudCkgewogICAgICAgICAgICBjbGVhclRpbWVvdXQobG9uZ1ByZXNzVGltZXJSZWYuY3VycmVudCk7CiAgICAgICAgICAgIGxvbmdQcmVzc1RpbWVyUmVmLmN1cnJlbnQgPSBudWxsOwogICAgICAgIH0KICAgICAgICBpZiAoZHJhZ2dpbmdUcmFja0lkKQogICAgICAgICAgICBzZXREcmFnZ2luZ1RyYWNrSWQobnVsbCk7CiAgICAgICAgaWYgKHRyaW1TdGF0ZSkKICAgICAgICAgICAgc2V0VHJpbVN0YXRlKG51bGwpOwogICAgICAgIGlmIChpbnRlcmFjdGl2ZU1vZGUpCiAgICAgICAgICAgIHNldEludGVyYWN0aXZlTW9kZShudWxsKTsKICAgICAgICBjb25zdCBwb2ludHMgPSBBcnJheS5mcm9tKGFjdGl2ZVBvaW50ZXJzLmN1cnJlbnQudmFsdWVzKCkpOwogICAgICAgIGNvbnN0IGRpc3QgPSBNYXRoLmh5cG90KHBvaW50c1swXS54IC0gcG9pbnRzWzFdLngsIHBvaW50c1swXS55IC0gcG9pbnRzWzFdLnkpOwogICAgICAgIGNvbnN0IGRpc3RYID0gTWF0aC5hYnMocG9pbnRzWzBdLnggLSBwb2ludHNbMV0ueCk7CiAgICAgICAgY29uc3QgZGlzdFkgPSBNYXRoLmFicyhwb2ludHNbMF0ueSAtIHBvaW50c1sxXS55KTsKICAgICAgICBwaW5jaFN0YXRlLmN1cnJlbnQgPSB7IG1vZGU6IG51bGwsIHN0YXJ0RGlzdDogZGlzdCwgc3RhcnREaXN0WDogZGlzdFgsIHN0YXJ0RGlzdFk6IGRpc3RZLCBzdGFydFpvb206IHpvb20sIHN0YXJ0TGFuZUhlaWdodDogbGFuZUhlaWdodCwgaXNMb2NrZWQ6IGZhbHNlIH07CiAgICB9IH07CiAgICBjb25zdCBoYW5kbGVQb2ludGVyTW92ZUNhcHR1cmUgPSAoZSkgPT4geyBpZiAoYWN0aXZlUG9pbnRlcnMuY3VycmVudC5oYXMoZS5wb2ludGVySWQpKSB7CiAgICAgICAgYWN0aXZlUG9pbnRlcnMuY3VycmVudC5zZXQoZS5wb2ludGVySWQsIHsgeDogZS5jbGllbnRYLCB5OiBlLmNsaWVudFkgfSk7CiAgICB9IGlmIChhY3RpdmVQb2ludGVycy5jdXJyZW50LnNpemUgPiAxKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgfSBpZiAoYWN0aXZlUG9pbnRlcnMuY3VycmVudC5zaXplID09PSAyKSB7CiAgICAgICAgY29uc3QgcG9pbnRzID0gQXJyYXkuZnJvbShhY3RpdmVQb2ludGVycy5jdXJyZW50LnZhbHVlcygpKTsKICAgICAgICBjb25zdCBjdXJyRGlzdCA9IE1hdGguaHlwb3QocG9pbnRzWzBdLnggLSBwb2ludHNbMV0ueCwgcG9pbnRzWzBdLnkgLSBwb2ludHNbMV0ueSk7CiAgICAgICAgY29uc3QgY3VyckRpc3RYID0gTWF0aC5hYnMocG9pbnRzWzBdLnggLSBwb2ludHNbMV0ueCk7CiAgICAgICAgY29uc3QgY3VyckRpc3RZID0gTWF0aC5hYnMocG9pbnRzWzBdLnkgLSBwb2ludHNbMV0ueSk7CiAgICAgICAgY29uc3Qgc3RhdGUgPSBwaW5jaFN0YXRlLmN1cnJlbnQ7CiAgICAgICAgaWYgKCFzdGF0ZS5pc0xvY2tlZCkgewogICAgICAgICAgICBjb25zdCB0b3RhbE1vdmUgPSBNYXRoLmFicyhjdXJyRGlzdCAtIHN0YXRlLnN0YXJ0RGlzdCk7CiAgICAgICAgICAgIGlmICh0b3RhbE1vdmUgPiAxMCkgewogICAgICAgICAgICAgICAgY29uc3QgZGVsdGFYID0gTWF0aC5hYnMoY3VyckRpc3RYIC0gc3RhdGUuc3RhcnREaXN0WCk7CiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVkgPSBNYXRoLmFicyhjdXJyRGlzdFkgLSBzdGF0ZS5zdGFydERpc3RZKTsKICAgICAgICAgICAgICAgIGlmIChkZWx0YVkgPiBkZWx0YVggKiAxLjUpIHsKICAgICAgICAgICAgICAgICAgICBzdGF0ZS5tb2RlID0gJ3ZlcnRpY2FsJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHN0YXRlLm1vZGUgPSAnaG9yaXpvbnRhbCc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzdGF0ZS5pc0xvY2tlZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHN0YXRlLmlzTG9ja2VkKSB7CiAgICAgICAgICAgIGlmIChzdGF0ZS5tb2RlID09PSAnaG9yaXpvbnRhbCcpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gY3VyckRpc3QgLyBzdGF0ZS5zdGFydERpc3Q7CiAgICAgICAgICAgICAgICBjb25zdCBuZXdab29tID0gc3RhdGUuc3RhcnRab29tICogc2NhbGU7CiAgICAgICAgICAgICAgICBwZXJmb3JtWm9vbShuZXdab29tKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5tb2RlID09PSAndmVydGljYWwnKSB7CiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVkgPSBjdXJyRGlzdFkgLSBzdGF0ZS5zdGFydERpc3RZOwogICAgICAgICAgICAgICAgcGVyZm9ybVZlcnRpY2FsWm9vbShkZWx0YVksIHN0YXRlLnN0YXJ0TGFuZUhlaWdodCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9IGlmIChkcmFnUmVmLmN1cnJlbnQuaXNUaW1lbGluZVRhcCkgewogICAgICAgIGNvbnN0IGRpc3QgPSBNYXRoLmFicyhlLmNsaWVudFggLSBkcmFnUmVmLmN1cnJlbnQudGltZWxpbmVTdGFydFgpOwogICAgICAgIGlmIChkaXN0ID4gMTApIHsKICAgICAgICAgICAgZHJhZ1JlZi5jdXJyZW50LmlzVGltZWxpbmVUYXAgPSBmYWxzZTsKICAgICAgICB9CiAgICB9IH07CiAgICBjb25zdCBoYW5kbGVQb2ludGVyVXBDYXB0dXJlID0gKGUpID0+IHsgYWN0aXZlUG9pbnRlcnMuY3VycmVudC5kZWxldGUoZS5wb2ludGVySWQpOyBpZiAoYWN0aXZlUG9pbnRlcnMuY3VycmVudC5zaXplIDwgMikgewogICAgICAgIHNldElzWm9vbWluZyhmYWxzZSk7CiAgICAgICAgcGluY2hTdGF0ZS5jdXJyZW50LmlzTG9ja2VkID0gZmFsc2U7CiAgICAgICAgcGluY2hTdGF0ZS5jdXJyZW50Lm1vZGUgPSBudWxsOwogICAgfSBpZiAoZHJhZ1JlZi5jdXJyZW50LmlzVGltZWxpbmVUYXAgJiYgIWlzU2NydWJiaW5nICYmICFkcmFnZ2luZ1RyYWNrSWQpIHsKICAgICAgICB1cGRhdGVQbGF5aGVhZChlLmNsaWVudFgpOwogICAgICAgIGRyYWdSZWYuY3VycmVudC5pc1RpbWVsaW5lVGFwID0gZmFsc2U7CiAgICB9IH07CiAgICBpZiAoYXBwU3RhdGUgPT09IEFwcFN0YXRlLkxJQlJBUlkpIHsKICAgICAgICByZXR1cm4gKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggZmxleC1jb2wgaC1mdWxsIGJnLXppbmMtOTUwIHRleHQtd2hpdGUgZm9udC1zYW5zIHAtNiBvdmVyZmxvdy1oaWRkZW4iLCBjaGlsZHJlbjogW19qc3hzKCJoZWFkZXIiLCB7IGNsYXNzTmFtZTogImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi04IiwgY2hpbGRyZW46IFtfanN4KCJoMSIsIHsgY2xhc3NOYW1lOiAidGV4dC0zeGwgZm9udC1ib2xkIiwgY2hpbGRyZW46ICJQcm9qZWN0IExpYnJhcnkiIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGdhcC0yIiwgY2hpbGRyZW46IFtfanN4KEJ1dHRvbiwgeyB2YXJpYW50OiAicHJpbWFyeSIsIG9uQ2xpY2s6IGhhbmRsZU5ld1Byb2plY3QsIGxhYmVsOiAiTmV3IFByb2plY3QiLCBpY29uOiBfanN4KE5ld0RvY0ljb24sIHt9KSwgY2xhc3NOYW1lOiAidGV4dC1zbSBweC00IHB5LTIiIH0pLCBfanN4KEJ1dHRvbiwgeyB2YXJpYW50OiAic2Vjb25kYXJ5Iiwgb25DbGljazogKCkgPT4gc2V0QXBwU3RhdGUoQXBwU3RhdGUuSURMRSksIGxhYmVsOiAiQ2xvc2UiIH0pXSB9KV0gfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleC0xIG92ZXJmbG93LXktYXV0byBzcGFjZS15LTQiLCBjaGlsZHJlbjogc2F2ZWRQcm9qZWN0cy5sZW5ndGggPT09IDAgPyBfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogInRleHQtemluYy01MDAgdGV4dC1jZW50ZXIgcHktMjAiLCBjaGlsZHJlbjogIk5vIHNhdmVkIHByb2plY3RzIHlldC4iIH0pIDogc2F2ZWRQcm9qZWN0cy5tYXAocHJvamVjdCA9PiAoX2pzeHMoImRpdiIsIHsgb25DbGljazogKCkgPT4geyBpZiAoZWRpdGluZ1Byb2plY3RJZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgc3RvcFBsYXliYWNrKCk7IHNldEFwcFN0YXRlKEFwcFN0YXRlLkxPQURJTkcpOyBzZXRMb2FkRXJyb3IobnVsbCk7IGlnbm9yZUNoYW5nZXNSZWYuY3VycmVudCA9IHRydWU7IHNldFRyYWNrcyhbXSk7IHNldEhpc3RvcnkoW10pOyBzZXRTZWxlY3Rpb24obnVsbCk7IHNldFNlbGVjdGVkVHJhY2tJZChudWxsKTsgc2V0VHJpbVN0YXRlKG51bGwpOyBzZXRJc1RyaW1Nb2RlKGZhbHNlKTsgc2V0SW50ZXJhY3RpdmVNb2RlKG51bGwpOyBzZXRDdXJyZW50VGltZSgwKTsgc2V0U2F2ZVN0YXR1cygnc2F2ZWQnKTsgY29uc3QgY3R4ID0gZ2V0QXVkaW9Db250ZXh0KCk7IGlmIChjdHguc3RhdGUgPT09ICdzdXNwZW5kZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5yZXN1bWUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7IH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBzZXRDdXJyZW50UHJvamVjdElkKHByb2plY3QuaWQpOyBzZXRDdXJyZW50UHJvamVjdE5hbWUocHJvamVjdC5uYW1lKTsgc2V0UmVjZW50UHJvamVjdFByZXZpZXcocHJvamVjdC50aHVtYm5haWwgfHwgbnVsbCk7IGxvYWRQcm9qZWN0cygpLnRoZW4oZnJlc2hQcm9qZWN0cyA9PiB7IGNvbnN0IHRhcmdldFByb2plY3QgPSBmcmVzaFByb2plY3RzLmZpbmQocCA9PiBwLmlkID09PSBwcm9qZWN0LmlkKSB8fCBwcm9qZWN0OyBpZiAodGFyZ2V0UHJvamVjdC50cmFja3MgJiYgdGFyZ2V0UHJvamVjdC50cmFja3MubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZFByb2plY3RUcmFja3ModGFyZ2V0UHJvamVjdC50cmFja3MpLnRoZW4obG9hZGVkVHJhY2tzID0+IHsgaWYgKGxvYWRlZFRyYWNrcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRMb2FkRXJyb3IoIlByb2plY3QgY29ycnVwdGVkLiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gc2V0VHJhY2tzKGxvYWRlZFRyYWNrcyk7IHNldEFwcFN0YXRlKEFwcFN0YXRlLkVESVRJTkcpOyBzZXRUaW1lb3V0KCgpID0+IHsgaWdub3JlQ2hhbmdlc1JlZi5jdXJyZW50ID0gZmFsc2U7IGlzRGlydHlSZWYuY3VycmVudCA9IGZhbHNlOyB9LCAxMDApOyB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRyYWNrcyhbXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBcHBTdGF0ZShBcHBTdGF0ZS5FRElUSU5HKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBpZ25vcmVDaGFuZ2VzUmVmLmN1cnJlbnQgPSBmYWxzZTsgaXNEaXJ0eVJlZi5jdXJyZW50ID0gZmFsc2U7IH0sIDEwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSk7IH0sIGNsYXNzTmFtZTogImJnLXppbmMtOTAwIGJvcmRlciBib3JkZXItemluYy04MDAgcm91bmRlZC0yeGwgcC00IGZsZXggaXRlbXMtY2VudGVyIGdhcC00IGhvdmVyOmJvcmRlci1jeWFuLTUwMC81MCB0cmFuc2l0aW9uIGN1cnNvci1wb2ludGVyIGdyb3VwIiwgY2hpbGRyZW46IFtfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogInctMTYgaC0xNiBiZy16aW5jLTk1MCByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlbiBzaHJpbmstMCBib3JkZXIgYm9yZGVyLXppbmMtODAwIiwgY2hpbGRyZW46IHByb2plY3QudGh1bWJuYWlsID8gX2pzeCgiaW1nIiwgeyBzcmM6IHByb2plY3QudGh1bWJuYWlsLCBhbHQ6ICIiLCBjbGFzc05hbWU6ICJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlciBvcGFjaXR5LTgwIiB9KSA6IF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAidy1mdWxsIGgtZnVsbCBiZy16aW5jLTgwMCIgfSkgfSksIGVkaXRpbmdQcm9qZWN0SWQgPT09IHByb2plY3QuaWQgPyAoX2pzeHMoImZvcm0iLCB7IGNsYXNzTmFtZTogImZsZXgtMSBtaW4tdy0wIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIiwgb25DbGljazogZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpLCBvblN1Ym1pdDogKGUpID0+IHsgZS5wcmV2ZW50RGVmYXVsdCgpOyBlLnN0b3BQcm9wYWdhdGlvbigpOyBpZiAoZWRpdGluZ05hbWUudHJpbSgpLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUHJvamVjdE5hbWUocHJvamVjdC5pZCwgZWRpdGluZ05hbWUudHJpbSgpKS50aGVuKCgpID0+IHsgc2V0U2F2ZWRQcm9qZWN0cyhwcmV2ID0+IHByZXYubWFwKHAgPT4gcC5pZCA9PT0gcHJvamVjdC5pZCA/IHsgLi4ucCwgbmFtZTogZWRpdGluZ05hbWUudHJpbSgpIH0gOiBwKSk7IHNldEVkaXRpbmdQcm9qZWN0SWQobnVsbCk7IH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSwgY2hpbGRyZW46IFtfanN4KCJpbnB1dCIsIHsgdHlwZTogInRleHQiLCB2YWx1ZTogZWRpdGluZ05hbWUsIG9uQ2hhbmdlOiAoZSkgPT4gc2V0RWRpdGluZ05hbWUoZS50YXJnZXQudmFsdWUpLCBjbGFzc05hbWU6ICJiZy16aW5jLTk1MCBib3JkZXIgYm9yZGVyLXppbmMtNzAwIHJvdW5kZWQtbGcgcHgtMyBweS0yIHRleHQtd2hpdGUgZm9udC1ib2xkIHctZnVsbCIsIGF1dG9Gb2N1czogdHJ1ZSwgb25DbGljazogZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpIH0pLCBfanN4KCJidXR0b24iLCB7IHR5cGU6ICJzdWJtaXQiLCBjbGFzc05hbWU6ICJwLTMgcm91bmRlZC1mdWxsIGJnLXppbmMtODAwIGJvcmRlciBib3JkZXItemluYy03MDAgdGV4dC1ncmVlbi01MDAiLCBjaGlsZHJlbjogX2pzeChDaGVja0ljb24sIHt9KSB9KV0gfSkpIDogKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXgtMSBtaW4tdy0wIiwgY2hpbGRyZW46IFtfanN4KCJoMyIsIHsgY2xhc3NOYW1lOiAidGV4dC1sZyBmb250LWJvbGQgdGV4dC13aGl0ZSB0cnVuY2F0ZSIsIGNoaWxkcmVuOiBwcm9qZWN0Lm5hbWUgfSksIF9qc3goInAiLCB7IGNsYXNzTmFtZTogInRleHQteHMgdGV4dC16aW5jLTUwMCIsIGNoaWxkcmVuOiBuZXcgRGF0ZShwcm9qZWN0Lmxhc3RNb2RpZmllZCkudG9Mb2NhbGVTdHJpbmcoKSB9KV0gfSkpLCBlZGl0aW5nUHJvamVjdElkICE9PSBwcm9qZWN0LmlkICYmIChfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGdhcC0yIiwgY2hpbGRyZW46IFtfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6IChlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IGUucHJldmVudERlZmF1bHQoKTsgc2V0RWRpdGluZ1Byb2plY3RJZChwcm9qZWN0LmlkKTsgc2V0RWRpdGluZ05hbWUocHJvamVjdC5uYW1lKTsgfSwgY2xhc3NOYW1lOiAicC0zIHJvdW5kZWQtZnVsbCBob3ZlcjpiZy16aW5jLTgwMCB0ZXh0LXppbmMtNDAwIGhvdmVyOnRleHQtd2hpdGUgdHJhbnNpdGlvbiIsIGNoaWxkcmVuOiBfanN4KFBlbmNpbEljb24sIHt9KSB9KSwgX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiAoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBlLnByZXZlbnREZWZhdWx0KCk7IHNldFByb2plY3RUb0RlbGV0ZShwcm9qZWN0LmlkKTsgfSwgY2xhc3NOYW1lOiAicC0zIHJvdW5kZWQtZnVsbCBob3ZlcjpiZy1yZWQtOTAwLzMwIHRleHQtemluYy00MDAgaG92ZXI6dGV4dC1yZWQtNDAwIHRyYW5zaXRpb24iLCBjaGlsZHJlbjogX2pzeChUcmFzaEljb24sIHt9KSB9KV0gfSkpXSB9LCBwcm9qZWN0LmlkKSkpIH0pLCBwcm9qZWN0VG9EZWxldGUgJiYgKF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiZml4ZWQgaW5zZXQtMCB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNCBiZy1ibGFjay84MCBiYWNrZHJvcC1ibHVyLXNtIiwgb25DbGljazogKCkgPT4gc2V0UHJvamVjdFRvRGVsZXRlKG51bGwpLCBjaGlsZHJlbjogX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiYmctemluYy05MDAgYm9yZGVyIGJvcmRlci16aW5jLTgwMCByb3VuZGVkLTJ4bCB3LWZ1bGwgbWF4LXcteHMgcC02IHNoYWRvdy0yeGwgc3BhY2UteS02IHRleHQtY2VudGVyIiwgb25DbGljazogZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpLCBjaGlsZHJlbjogW19qc3goImRpdiIsIHsgY2hpbGRyZW46IF9qc3goImgyIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIiwgY2hpbGRyZW46ICJEZWxldGUgUHJvamVjdD8iIH0pIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJncmlkIGdyaWQtY29scy0yIGdhcC0zIiwgY2hpbGRyZW46IFtfanN4KEJ1dHRvbiwgeyB2YXJpYW50OiAic2Vjb25kYXJ5Iiwgb25DbGljazogKCkgPT4gc2V0UHJvamVjdFRvRGVsZXRlKG51bGwpLCBsYWJlbDogIkNhbmNlbCIgfSksIF9qc3goQnV0dG9uLCB7IHZhcmlhbnQ6ICJkYW5nZXIiLCBvbkNsaWNrOiAoKSA9PiB7IGlmIChwcm9qZWN0VG9EZWxldGUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlUHJvamVjdChwcm9qZWN0VG9EZWxldGUpLnRoZW4oKCkgPT4gbG9hZFByb2plY3RzKCkudGhlbihzZXRTYXZlZFByb2plY3RzKSk7IHNldFByb2plY3RUb0RlbGV0ZShudWxsKTsgfSwgbGFiZWw6ICJEZWxldGUiIH0pXSB9KV0gfSkgfSkpXSB9KSk7CiAgICB9CiAgICByZXR1cm4gKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggZmxleC1jb2wgbGFuZHNjYXBlOmZsZXgtcm93IGxhbmRzY2FwZTpsZzpmbGV4LWNvbCBoLWZ1bGwgYmctemluYy05NTAgdGV4dC13aGl0ZSBmb250LXNhbnMgc2VsZWN0aW9uOmJnLWN5YW4tNTAwLzMwIG92ZXJmbG93LWhpZGRlbiByZWxhdGl2ZSIsIGNoaWxkcmVuOiBbYXBwU3RhdGUgPT09IEFwcFN0YXRlLkxPQURJTkcgJiYgKF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiYWJzb2x1dGUgaW5zZXQtMCB6LVsxMDBdIGJnLXppbmMtOTUwLzkwIGJhY2tkcm9wLWJsdXItbWQgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc3BhY2UteS02IHAtOCB0ZXh0LWNlbnRlciIsIGNoaWxkcmVuOiBsb2FkRXJyb3IgPyAoX2pzeHMoX0ZyYWdtZW50LCB7IGNoaWxkcmVuOiBbX2pzeCgiaDIiLCB7IGNsYXNzTmFtZTogInRleHQteGwgZm9udC1ib2xkIHRleHQtd2hpdGUiLCBjaGlsZHJlbjogIkVycm9yIiB9KSwgX2pzeCgicCIsIHsgY2xhc3NOYW1lOiAidGV4dC16aW5jLTQwMCIsIGNoaWxkcmVuOiBsb2FkRXJyb3IgfSksIF9qc3goQnV0dG9uLCB7IHZhcmlhbnQ6ICJzZWNvbmRhcnkiLCBvbkNsaWNrOiAoKSA9PiBzZXRBcHBTdGF0ZShBcHBTdGF0ZS5MSUJSQVJZKSwgbGFiZWw6ICJMaWJyYXJ5IiB9KV0gfSkpIDogX2pzeHMoX0ZyYWdtZW50LCB7IGNoaWxkcmVuOiBbX2pzeChMb2FkaW5nU3Bpbm5lciwge30pLCBfanN4KCJwIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXppbmMtNDAwIGFuaW1hdGUtcHVsc2UiLCBjaGlsZHJlbjogIkxvYWRpbmcuLi4iIH0pXSB9KSB9KSksIF9qc3goSGVhZGVyLCB7IGN1cnJlbnRQcm9qZWN0TmFtZTogY3VycmVudFByb2plY3ROYW1lLCBzYXZlU3RhdHVzOiBzYXZlU3RhdHVzLCBoYXNQcm9qZWN0SWQ6ICEhY3VycmVudFByb2plY3RJZCwgaGlzdG9yeUxlbmd0aDogaGlzdG9yeS5sZW5ndGgsIHRyYWNrc0NvdW50OiB0cmFja3MubGVuZ3RoLCB6b29tOiB6b29tLCBjdXJyZW50VGltZTogY3VycmVudFRpbWUsIG1heER1cmF0aW9uOiBtYXhEdXJhdGlvbiwgcmVjZW50UHJvamVjdFByZXZpZXc6IHJlY2VudFByb2plY3RQcmV2aWV3LCBvblpvb206IHBlcmZvcm1ab29tLCBvblVuZG86IGhhbmRsZVVuZG8sIG9uRXhwb3J0OiAoKSA9PiBzZXRFeHBvcnRNb2RhbE9wZW4odHJ1ZSksIG9uU2F2ZUFuZENsb3NlOiBoYW5kbGVTYXZlQW5kQ2xvc2UsIG1pblpvb206IG1pblpvb20gfSksIF9qc3hzKCJtYWluIiwgeyBjbGFzc05hbWU6ICJmbGV4LTEgZmxleCBmbGV4LWNvbCByZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW4gYmctemluYy05NTAgdG91Y2gtbm9uZSIsIG9uV2hlZWw6IGhhbmRsZVdoZWVsLCBvblBvaW50ZXJEb3duQ2FwdHVyZTogaGFuZGxlUG9pbnRlckRvd25DYXB0dXJlLCBvblBvaW50ZXJVcENhcHR1cmU6IGhhbmRsZVBvaW50ZXJVcENhcHR1cmUsIG9uUG9pbnRlckNhbmNlbENhcHR1cmU6IGhhbmRsZVBvaW50ZXJVcENhcHR1cmUsIG9uUG9pbnRlck1vdmVDYXB0dXJlOiBoYW5kbGVQb2ludGVyTW92ZUNhcHR1cmUsIG9uUG9pbnRlck1vdmU6IChlKSA9PiB7IGhhbmRsZVRyaW1Qb2ludGVyTW92ZShlKTsgaGFuZGxlVHJhY2tEcmFnTW92ZShlKTsgaWYgKHNlbGVjdGVkVHJhY2spCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRmFkZUhhbmRsZURyYWcoZSwgc2VsZWN0ZWRUcmFjayk7IGlmIChpc1NjcnViYmluZykKICAgICAgICAgICAgICAgICAgICBoYW5kbGVQbGF5aGVhZFBvaW50ZXJNb3ZlKGUpOyB9LCBvblBvaW50ZXJVcDogKGUpID0+IHsgaWYgKHRyaW1TdGF0ZSkKICAgICAgICAgICAgICAgICAgICBzZXRUcmltU3RhdGUobnVsbCk7IGlmIChkcmFnZ2luZ1RyYWNrSWQpCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlVHJhY2tQb2ludGVyVXAoZSwgdHJhY2tzLmZpbmQodCA9PiB0LmlkID09PSBkcmFnZ2luZ1RyYWNrSWQpKTsgaWYgKGludGVyYWN0aXZlTW9kZSAmJiBzZWxlY3RlZFRyYWNrKQogICAgICAgICAgICAgICAgICAgIGhhbmRsZUZhZGVIYW5kbGVQb2ludGVyVXAoZSwgc2VsZWN0ZWRUcmFjayk7IGlmIChpc1NjcnViYmluZykKICAgICAgICAgICAgICAgICAgICBoYW5kbGVQbGF5aGVhZFBvaW50ZXJVcChlKTsgfSwgY2hpbGRyZW46IFtfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImhpZGRlbiBsYW5kc2NhcGU6ZmxleCBsYW5kc2NhcGU6bGc6aGlkZGVuIHctZnVsbCBoLTcgYmctemluYy05NTAgYm9yZGVyLWIgYm9yZGVyLXppbmMtOTAwIGl0ZW1zLWNlbnRlciBweC00IHNocmluay0wIHotMjAiLCBjaGlsZHJlbjogX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTQgdGV4dC1bMTBweF0gZm9udC1ib2xkIHRleHQtemluYy01MDAiLCBjaGlsZHJlbjogW19qc3hzKCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ1cHBlcmNhc2UiLCBjaGlsZHJlbjogWyJUUkFDS1M6ICIsIHRyYWNrcy5sZW5ndGhdIH0pLCBfanN4cygic3BhbiIsIHsgY2xhc3NOYW1lOiAidGFidWxhci1udW1zIG5vcm1hbC1jYXNlIiwgY2hpbGRyZW46IFtfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LWN5YW4tNTAwIiwgY2hpbGRyZW46IGZvcm1hdFRpbWUoY3VycmVudFRpbWUpIH0pLCBfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXppbmMtNjAwIG14LTIiLCBjaGlsZHJlbjogIi8iIH0pLCBfanN4KCJzcGFuIiwgeyBjaGlsZHJlbjogZm9ybWF0VGltZShtYXhEdXJhdGlvbikgfSldIH0pXSB9KSB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4LTEgcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuIHctZnVsbCIsIGNoaWxkcmVuOiB0cmFja3MubGVuZ3RoID09PSAwID8gKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImFic29sdXRlIGluc2V0LTAgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC16aW5jLTUwMCBnYXAtNCIsIGNoaWxkcmVuOiBbX2pzeCgicCIsIHsgY2hpbGRyZW46ICJObyB0cmFja3MgYWRkZWQuIiB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBnYXAtNCIsIGNoaWxkcmVuOiBbX2pzeChCdXR0b24sIHsgbGFiZWw6ICJBZGQgQXVkaW8iLCBvbkNsaWNrOiAoKSA9PiBmaWxlSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKSB9KSwgX2pzeChCdXR0b24sIHsgbGFiZWw6ICJMaWJyYXJ5IiwgdmFyaWFudDogInNlY29uZGFyeSIsIGljb246IF9qc3goTGlicmFyeUljb24sIHt9KSwgb25DbGljazogaGFuZGxlU2F2ZUFuZENsb3NlIH0pXSB9KV0gfSkpIDogKF9qc3goVGltZWxpbmUsIHsgcmVmOiB0aW1lbGluZVJlZiwgcGxheWhlYWRSZWY6IHBsYXloZWFkUmVmLCB0cmFja3M6IHRyYWNrcywgY3VycmVudFRpbWU6IGN1cnJlbnRUaW1lLCB6b29tOiB6b29tLCBtYXhEdXJhdGlvbjogbWF4RHVyYXRpb24sIHRvdGFsTGFuZXM6IHRvdGFsTGFuZXMsIGJlYXREdXJhdGlvbjogYmVhdER1cmF0aW9uLCBzZWxlY3Rpb246IHNlbGVjdGlvbiwgc2VsZWN0ZWRUcmFja0lkOiBlZmZlY3RpdmVTZWxlY3RlZFRyYWNrSWQsIGRyYWdnaW5nVHJhY2tJZDogZHJhZ2dpbmdUcmFja0lkLCB0cmltU3RhdGU6IHRyaW1TdGF0ZSwgaW50ZXJhY3RpdmVNb2RlOiBpbnRlcmFjdGl2ZU1vZGUsIGlzVHJpbU1vZGU6IGlzVHJpbU1vZGUsIGlzU2NydWJiaW5nOiBpc1NjcnViYmluZywgbGFuZUhlaWdodDogbGFuZUhlaWdodCwgaXNab29taW5nOiBpc1pvb21pbmcsIG9uU2Nyb2xsOiBoYW5kbGVUaW1lbGluZVNjcm9sbCwgb25UaW1lbGluZVBvaW50ZXJEb3duOiBoYW5kbGVUaW1lbGluZVBvaW50ZXJEb3duLCBvblBsYXloZWFkUG9pbnRlckRvd246IGhhbmRsZVBsYXloZWFkUG9pbnRlckRvd24sIG9uUGxheWhlYWRQb2ludGVyTW92ZTogaGFuZGxlUGxheWhlYWRQb2ludGVyTW92ZSwgb25QbGF5aGVhZFBvaW50ZXJVcDogaGFuZGxlUGxheWhlYWRQb2ludGVyVXAsIG9uVHJhY2tQb2ludGVyRG93bjogaGFuZGxlVHJhY2tQb2ludGVyRG93biwgb25UcmFja1BvaW50ZXJVcDogaGFuZGxlVHJhY2tQb2ludGVyVXAsIG9uVHJhY2tQb2ludGVyQ2FuY2VsOiBoYW5kbGVUcmFja1BvaW50ZXJDYW5jZWwsIG9uVHJpbVBvaW50ZXJEb3duOiBoYW5kbGVUcmltUG9pbnRlckRvd24sIG9uVHJpbVBvaW50ZXJVcDogaGFuZGxlVHJpbVBvaW50ZXJVcCwgb25GYWRlSGFuZGxlUG9pbnRlckRvd246IGhhbmRsZUZhZGVIYW5kbGVQb2ludGVyRG93biwgb25NdXRlOiAoaWQsIG11dGVkKSA9PiB1cGRhdGVUcmFjayhpZCwgeyBpc011dGVkOiBtdXRlZCB9KSwgb25EZWxldGU6IGRlbGV0ZVRyYWNrLCBvblNlbGVjdGlvbkNoYW5nZTogc2V0U2VsZWN0aW9uIH0pKSB9KV0gfSksIF9qc3goVHJhbnNwb3J0Q29udHJvbHMsIHsgaXNQbGF5aW5nOiBpc1BsYXlpbmcsIGlzUmVjb3JkaW5nOiBpc1JlY29yZGluZywgc2VsZWN0ZWRUcmFja0lkOiBlZmZlY3RpdmVTZWxlY3RlZFRyYWNrSWQsIGlzVHJpbU1vZGU6IGlzVHJpbU1vZGUsIGludGVyYWN0aXZlTW9kZTogaW50ZXJhY3RpdmVNb2RlLCBzZWxlY3Rpb246IHNlbGVjdGlvbiwgaGFzVHJhY2tzOiB0cmFja3MubGVuZ3RoID4gMCwgcmVjZW50UHJvamVjdFByZXZpZXc6IHJlY2VudFByb2plY3RQcmV2aWV3LCBvblBsYXlQYXVzZTogaGFuZGxlUGxheVBhdXNlLCBvblRvZ2dsZVJlY29yZDogaGFuZGxlVG9nZ2xlUmVjb3JkLCBvbkN1dDogaGFuZGxlQ3V0LCBvbkNyb3A6IGhhbmRsZUNyb3AsIG9uRWZmZWN0czogKCkgPT4gaW50ZXJhY3RpdmVNb2RlID8gc2V0SW50ZXJhY3RpdmVNb2RlKG51bGwpIDogc2V0RWZmZWN0c01vZGFsT3Blbih0cnVlKSwgb25JbXBvcnRDbGljazogKCkgPT4gZmlsZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCksIG9uQmVhdENsaWNrOiAoKSA9PiBzZXRCZWF0TW9kYWxPcGVuKHRydWUpLCBvbkxpYnJhcnlDbGljazogaGFuZGxlU2F2ZUFuZENsb3NlIH0pLCBfanN4KCJpbnB1dCIsIHsgdHlwZTogImZpbGUiLCBtdWx0aXBsZTogdHJ1ZSwgcmVmOiBmaWxlSW5wdXRSZWYsIG9uQ2hhbmdlOiBoYW5kbGVGaWxlVXBsb2FkLCBhY2NlcHQ6ICJhdWRpby8qLC5tcDMsLndhdiwubTRhLC5mbGFjLC5vZ2csLmFhYyIsIGNsYXNzTmFtZTogImhpZGRlbiIgfSksIF9qc3goQmVhdE1ha2VyTW9kYWwsIHsgaXNPcGVuOiBpc0JlYXRNb2RhbE9wZW4sIG9uQ2xvc2U6ICgpID0+IHNldEJlYXRNb2RhbE9wZW4oZmFsc2UpLCBvbkdlbmVyYXRlOiBoYW5kbGVBZGRCZWF0IH0pLCBfanN4KEVmZmVjdHNNb2RhbCwgeyBpc09wZW46IGlzRWZmZWN0c01vZGFsT3Blbiwgb25DbG9zZTogKCkgPT4gc2V0RWZmZWN0c01vZGFsT3BlbihmYWxzZSksIG9uQXBwbHk6IGhhbmRsZUFwcGx5RWZmZWN0LCBhY3RpdmVFZmZlY3RzOiBzZWxlY3RlZFRyYWNrPy5hY3RpdmVFZmZlY3RzLCBpc0Nyb3NzZmFkZWQ6ICEhc2VsZWN0ZWRUcmFjaz8uY3Jvc3NmYWRlTWV0YWRhdGEsIGN1cnJlbnRWb2x1bWU6IHNlbGVjdGVkVHJhY2s/LnZvbHVtZSB9KSwgX2pzeChFeHBvcnRNb2RhbCwgeyBpc09wZW46IGlzRXhwb3J0TW9kYWxPcGVuLCBvbkNsb3NlOiAoKSA9PiBzZXRFeHBvcnRNb2RhbE9wZW4oZmFsc2UpLCBvbkV4cG9ydDogaGFuZGxlRXhwb3J0LCBvcmlnaW5hbFNhbXBsZVJhdGU6IDQ0MTAwIH0pXSB9KSk7Cn07CmV4cG9ydCBkZWZhdWx0IEFwcDsK","@/components/EffectsModal":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IEJ1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvQnV0dG9uJzsKLy8gSWNvbnMKY29uc3QgRXF1YWxpemVySWNvbiA9ICgpID0+IChfanN4KCJzdmciLCB7IGNsYXNzTmFtZTogInctNiBoLTYiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNMTIgNlY0bTAgMmEyIDIgMCAxMDAgNG0wLTRhMiAyIDAgMTEwIDRtLTYgOGEyIDIgMCAxMDAtNG0wIDRhMiAyIDAgMTEwLTRtMCA0djJtMC02VjRtNiA2djEwbTYtMmEyIDIgMCAxMDAtNG0wIDRhMiAyIDAgMTEwLTRtMCA0djJtMC02VjQiIH0pIH0pKTsKY29uc3QgTm9ybWFsaXplSWNvbiA9ICgpID0+IChfanN4KCJzdmciLCB7IGNsYXNzTmFtZTogInctNiBoLTYiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNMyAxMy4xMjVDMyAxMi41MDQgMy41MDQgMTIgNC4xMjUgMTJoMi4yNWMuNjIxIDAgMS4xMjUuNTA0IDEuMTI1IDEuMTI1djYuNzVDNy41IDIwLjQ5NiA2Ljk5NiAyMSA2LjM3NSAyMWgtMi4yNUExLjEyNSAxLjEyNSAwIDAxMyAxOS44NzV2LTYuNzV6TTkuNzUgOC42MjVjMC0uNjIxLjUwNC0xLjEyNSAxLjEyNS0xLjEyNWgyLjI1Yy42MjEgMCAxLjEyNS41MDQgMS4xMjUgMS4xMjV2MTEuMjVjMCAuNjIxLS41MDQgMS4xMjUtMS4xMjUgMS4xMjVoLTIuMjVhMS4xMjUgMS4xMjUgMCAwMS0xLjEyNS0xLjEyNVY4LjYyNXpNMTYuNSA0LjEyNWMwLS42MjEuNTA0LTEuMTI1IDEuMTI1LTEuMTI1aDIuMjVDMjAuNDk2IDMgMjEgMy41MDQgMjEgNC4xMjV2MTUuNzVjMCAuNjIxLS41MDQgMS4xMjUtMS4xMjUgMS4xMjVoLTIuMjVhMS4xMjUgMS4xMjUgMCAwMS0xLjEyNS0xLjEyNVY0LjEyNXoiIH0pIH0pKTsKY29uc3QgUmV2ZXJzZUljb24gPSAoKSA9PiAoX2pzeCgic3ZnIiwgeyBjbGFzc05hbWU6ICJ3LTYgaC02IiwgZmlsbDogIm5vbmUiLCBzdHJva2U6ICJjdXJyZW50Q29sb3IiLCBzdHJva2VXaWR0aDogIjIiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IHN0cm9rZUxpbmVjYXA6ICJyb3VuZCIsIHN0cm9rZUxpbmVqb2luOiAicm91bmQiLCBkOiAiTTkgMTVMMyA5bTAgMGw2LTZNMyA5aDEyYTYgNiAwIDAxMCAxMmgtMyIgfSkgfSkpOwpjb25zdCBTcGVlZEljb24gPSAoKSA9PiAoX2pzeCgic3ZnIiwgeyBjbGFzc05hbWU6ICJ3LTYgaC02IiwgZmlsbDogIm5vbmUiLCBzdHJva2U6ICJjdXJyZW50Q29sb3IiLCBzdHJva2VXaWR0aDogIjIiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IHN0cm9rZUxpbmVjYXA6ICJyb3VuZCIsIHN0cm9rZUxpbmVqb2luOiAicm91bmQiLCBkOiAiTTEyIDZ2Nmg0LjVtNC41IDBhOSA5IDAgMTEtMTggMCA5IDkgMCAwMTE4IDB6IiB9KSB9KSk7CmNvbnN0IFZvbHVtZUljb24gPSAoKSA9PiAoX2pzeCgic3ZnIiwgeyBjbGFzc05hbWU6ICJ3LTYgaC02IiwgZmlsbDogIm5vbmUiLCBzdHJva2U6ICJjdXJyZW50Q29sb3IiLCBzdHJva2VXaWR0aDogIjIiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IHN0cm9rZUxpbmVjYXA6ICJyb3VuZCIsIHN0cm9rZUxpbmVqb2luOiAicm91bmQiLCBkOiAiTTE5LjExNCA1LjYzNmE5IDkgMCAwMTAgMTIuNzI4TTE2LjQ2MyA4LjI4OGE1LjI1IDUuMjUgMCAwMTAgNy40MjRNNi43NSA4LjI1bDQuNzItNC43MmEuNzUuNzUgMCAwMTEuMjguNTN2MTUuODhhLjc1Ljc1IDAgMDEtMS4yOC41M2wtNC43Mi00LjcySDQuNTFjLS44OCAwLTEuNzA0LS41MDctMS45MzgtMS4zNTRBOS4wMSA5LjAxIDAgMDEyLjI1IDEyYzAtLjgzLjExMi0xLjYzMy4zMjItMi4zOTZDMi44MDYgOC43NTYgMy42MyA4LjI1IDQuNTEgOC4yNUg2Ljc1eiIgfSkgfSkpOwpjb25zdCBDcm9zc2ZhZGVJY29uID0gKCkgPT4gKF9qc3hzKCJzdmciLCB7IGNsYXNzTmFtZTogInctNiBoLTYiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogW19qc3goInBhdGgiLCB7IHN0cm9rZUxpbmVjYXA6ICJyb3VuZCIsIHN0cm9rZUxpbmVqb2luOiAicm91bmQiLCBkOiAiTTE5IDE5Yy0xLjUgMC0zLTEtNC0zbC02LThjLTEtMi0yLjUtMy00LTMiIH0pLCBfanN4KCJwYXRoIiwgeyBzdHJva2VMaW5lY2FwOiAicm91bmQiLCBzdHJva2VMaW5lam9pbjogInJvdW5kIiwgZDogIk01IDE5YzEuNSAwIDMtMSA0LTNsNi04YzEtMiAyLjUtMyA0LTMiIH0pXSB9KSk7CmNvbnN0IEVmZmVjdHNNb2RhbCA9ICh7IGlzT3Blbiwgb25DbG9zZSwgb25BcHBseSwgYWN0aXZlRWZmZWN0cywgaXNDcm9zc2ZhZGVkLCBjdXJyZW50Vm9sdW1lID0gMS4wIH0pID0+IHsKICAgIGNvbnN0IFtzZWxlY3RlZEVmZmVjdElkLCBzZXRTZWxlY3RlZEVmZmVjdElkXSA9IHVzZVN0YXRlKG51bGwpOwogICAgY29uc3QgW2N1c3RvbVZhbHVlLCBzZXRDdXN0b21WYWx1ZV0gPSB1c2VTdGF0ZSgnJyk7CiAgICBpZiAoIWlzT3BlbikKICAgICAgICByZXR1cm4gbnVsbDsKICAgIGNvbnN0IGVmZmVjdHMgPSBbCiAgICAgICAgeyBpZDogJ2ZhZGVJbicsIGxhYmVsOiAnRmFkZSBJbicsIGljb246ICfil6InLCBpc1N1Ym1lbnU6IHRydWUgfSwKICAgICAgICB7IGlkOiAnZmFkZU91dCcsIGxhYmVsOiAnRmFkZSBPdXQnLCBpY29uOiAn4pejJywgaXNTdWJtZW51OiB0cnVlIH0sCiAgICAgICAgeyBpZDogJ2Nyb3NzZmFkZScsIGxhYmVsOiAnQ3Jvc3NmYWRlJywgaWNvbjogX2pzeChDcm9zc2ZhZGVJY29uLCB7fSksIGlzU3VibWVudTogdHJ1ZSB9LAogICAgICAgIHsgaWQ6ICdlcScsIGxhYmVsOiAnRVEnLCBpY29uOiBfanN4KEVxdWFsaXplckljb24sIHt9KSwgaXNTdWJtZW51OiB0cnVlIH0sCiAgICAgICAgeyBpZDogJ25vcm1hbGl6ZScsIGxhYmVsOiAnTm9ybWFsaXplJywgaWNvbjogX2pzeChOb3JtYWxpemVJY29uLCB7fSksIGlzU3VibWVudTogZmFsc2UgfSwKICAgICAgICB7IGlkOiAncmV2ZXJzZScsIGxhYmVsOiAnUmV2ZXJzZScsIGljb246IF9qc3goUmV2ZXJzZUljb24sIHt9KSwgaXNTdWJtZW51OiBmYWxzZSB9LAogICAgICAgIHsgaWQ6ICdzcGVlZCcsIGxhYmVsOiAnU3BlZWQnLCBpY29uOiBfanN4KFNwZWVkSWNvbiwge30pLCBpc1N1Ym1lbnU6IHRydWUgfSwKICAgICAgICB7IGlkOiAndm9sdW1lJywgbGFiZWw6ICdWb2x1bWUnLCBpY29uOiBfanN4KFZvbHVtZUljb24sIHt9KSwgaXNTdWJtZW51OiB0cnVlIH0sCiAgICBdOwogICAgY29uc3QgZXFQcmVzZXRzID0gWwogICAgICAgICdCYXNzIEJvb3N0JywKICAgICAgICAnVHJlYmxlIEJvb3N0JywKICAgICAgICAnQmFzcyBDdXQnLAogICAgICAgICdUcmVibGUgQ3V0JywKICAgICAgICAnTWlkIEJvb3N0JywKICAgICAgICAnVi1TaGFwZScsCiAgICAgICAgJ0xvLUZpIFJhZGlvJywKICAgICAgICAnVGVsZXBob25lJwogICAgXTsKICAgIGNvbnN0IGNoZWNrQWN0aXZlID0gKGlkKSA9PiB7CiAgICAgICAgaWYgKGlkID09PSAnZmFkZUluJykKICAgICAgICAgICAgcmV0dXJuICEhYWN0aXZlRWZmZWN0cz8uZmFkZUluOwogICAgICAgIGlmIChpZCA9PT0gJ2ZhZGVPdXQnKQogICAgICAgICAgICByZXR1cm4gISFhY3RpdmVFZmZlY3RzPy5mYWRlT3V0OwogICAgICAgIGlmIChpZCA9PT0gJ2Nyb3NzZmFkZScpCiAgICAgICAgICAgIHJldHVybiAhIWlzQ3Jvc3NmYWRlZDsKICAgICAgICBpZiAoaWQgPT09ICdub3JtYWxpemUnKQogICAgICAgICAgICByZXR1cm4gISFhY3RpdmVFZmZlY3RzPy5ub3JtYWxpemU7CiAgICAgICAgaWYgKGlkID09PSAncmV2ZXJzZScpCiAgICAgICAgICAgIHJldHVybiAhIWFjdGl2ZUVmZmVjdHM/LnJldmVyc2U7CiAgICAgICAgaWYgKGlkID09PSAnZXEnKQogICAgICAgICAgICByZXR1cm4gISFhY3RpdmVFZmZlY3RzPy5lcVByZXNldDsKICAgICAgICBpZiAoaWQgPT09ICdzcGVlZCcpCiAgICAgICAgICAgIHJldHVybiAhIWFjdGl2ZUVmZmVjdHM/LnBsYXliYWNrUmF0ZSAmJiBhY3RpdmVFZmZlY3RzLnBsYXliYWNrUmF0ZSAhPT0gMS4wOwogICAgICAgIGlmIChpZCA9PT0gJ3ZvbHVtZScpIHsKICAgICAgICAgICAgY29uc3Qgdm9sID0gdHlwZW9mIGN1cnJlbnRWb2x1bWUgPT09ICdudW1iZXInID8gY3VycmVudFZvbHVtZSA6IDEuMDsKICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHZvbCAtIDEuMCkgPiAwLjAxOyAvLyBBY3RpdmUgaWYgbm90IDEwMCUKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIGNvbnN0IGhhbmRsZUVmZmVjdENsaWNrID0gKGZ4KSA9PiB7CiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBjaGVja0FjdGl2ZShmeC5pZCk7CiAgICAgICAgaWYgKGZ4LmlzU3VibWVudSkgewogICAgICAgICAgICBzZXRTZWxlY3RlZEVmZmVjdElkKGZ4LmlkKTsKICAgICAgICAgICAgLy8gU2V0IGRlZmF1bHQgY3VzdG9tIHZhbHVlcwogICAgICAgICAgICBpZiAoZnguaWQgPT09ICdzcGVlZCcpIHsKICAgICAgICAgICAgICAgIHNldEN1c3RvbVZhbHVlKGFjdGl2ZUVmZmVjdHM/LnBsYXliYWNrUmF0ZSA/IGFjdGl2ZUVmZmVjdHMucGxheWJhY2tSYXRlLnRvU3RyaW5nKCkgOiAnMS4wJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoZnguaWQgPT09ICd2b2x1bWUnKSB7CiAgICAgICAgICAgICAgICBzZXRDdXN0b21WYWx1ZShNYXRoLnJvdW5kKGN1cnJlbnRWb2x1bWUgKiAxMDApLnRvU3RyaW5nKCkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKGZ4LmlkID09PSAnZmFkZUluJyB8fCBmeC5pZCA9PT0gJ2ZhZGVPdXQnKSB7CiAgICAgICAgICAgICAgICBzZXRDdXN0b21WYWx1ZSgnMy4wJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBzZXRDdXN0b21WYWx1ZSgnJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIC8vIEZvciB0b2dnbGVzIChOb3JtYWxpemUsIFJldmVyc2UpCiAgICAgICAgICAgIGlmIChpc0FjdGl2ZSkgewogICAgICAgICAgICAgICAgb25BcHBseShmeC5pZCwgeyByZXN0b3JlOiB0cnVlIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgb25BcHBseShmeC5pZCwgeyB0b2dnbGU6IHRydWUgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgb25DbG9zZSgpOwogICAgICAgIH0KICAgIH07CiAgICBjb25zdCBoYW5kbGVBcHBseVdpdGhEdXJhdGlvbiA9IChkdXJhdGlvbikgPT4gewogICAgICAgIGlmIChzZWxlY3RlZEVmZmVjdElkKSB7CiAgICAgICAgICAgIG9uQXBwbHkoc2VsZWN0ZWRFZmZlY3RJZCwgeyBkdXJhdGlvbiB9KTsKICAgICAgICAgICAgb25DbG9zZSgpOwogICAgICAgICAgICBzZXRTZWxlY3RlZEVmZmVjdElkKG51bGwpOwogICAgICAgIH0KICAgIH07CiAgICBjb25zdCBoYW5kbGVBcHBseVByZXNldCA9IChwcmVzZXQpID0+IHsKICAgICAgICBpZiAoc2VsZWN0ZWRFZmZlY3RJZCkgewogICAgICAgICAgICBvbkFwcGx5KHNlbGVjdGVkRWZmZWN0SWQsIHsgcHJlc2V0IH0pOwogICAgICAgICAgICBvbkNsb3NlKCk7CiAgICAgICAgICAgIHNldFNlbGVjdGVkRWZmZWN0SWQobnVsbCk7CiAgICAgICAgfQogICAgfTsKICAgIGNvbnN0IGhhbmRsZUFwcGx5U3BlZWQgPSAocmF0ZSkgPT4gewogICAgICAgIGlmIChzZWxlY3RlZEVmZmVjdElkKSB7CiAgICAgICAgICAgIG9uQXBwbHkoc2VsZWN0ZWRFZmZlY3RJZCwgeyBwbGF5YmFja1JhdGU6IHJhdGUgfSk7CiAgICAgICAgICAgIG9uQ2xvc2UoKTsKICAgICAgICAgICAgc2V0U2VsZWN0ZWRFZmZlY3RJZChudWxsKTsKICAgICAgICB9CiAgICB9OwogICAgY29uc3QgaGFuZGxlQXBwbHlWb2x1bWUgPSAocGVyY2VudCkgPT4gewogICAgICAgIGlmIChzZWxlY3RlZEVmZmVjdElkKSB7CiAgICAgICAgICAgIG9uQXBwbHkoc2VsZWN0ZWRFZmZlY3RJZCwgeyBsZXZlbDogcGVyY2VudCAvIDEwMCB9KTsKICAgICAgICAgICAgb25DbG9zZSgpOwogICAgICAgICAgICBzZXRTZWxlY3RlZEVmZmVjdElkKG51bGwpOwogICAgICAgIH0KICAgIH07CiAgICBjb25zdCBoYW5kbGVJbnRlcmFjdGl2ZSA9ICgpID0+IHsKICAgICAgICBpZiAoc2VsZWN0ZWRFZmZlY3RJZCkgewogICAgICAgICAgICBvbkFwcGx5KHNlbGVjdGVkRWZmZWN0SWQsIHsgaW50ZXJhY3RpdmU6IHRydWUgfSk7CiAgICAgICAgICAgIG9uQ2xvc2UoKTsKICAgICAgICAgICAgc2V0U2VsZWN0ZWRFZmZlY3RJZChudWxsKTsKICAgICAgICB9CiAgICB9OwogICAgY29uc3QgaGFuZGxlUmVzdG9yZSA9ICgpID0+IHsKICAgICAgICBpZiAoc2VsZWN0ZWRFZmZlY3RJZCkgewogICAgICAgICAgICBvbkFwcGx5KHNlbGVjdGVkRWZmZWN0SWQsIHsgcmVzdG9yZTogdHJ1ZSB9KTsKICAgICAgICAgICAgb25DbG9zZSgpOwogICAgICAgICAgICBzZXRTZWxlY3RlZEVmZmVjdElkKG51bGwpOwogICAgICAgIH0KICAgIH07CiAgICAvLyBDb21tb24gbW9kYWwgY29udGFpbmVyIGNsYXNzIC0gQWdncmVzc2l2ZWx5IGNvbXBhY3RlZCBmb3IgbGFuZHNjYXBlCiAgICBjb25zdCBtb2RhbENvbnRhaW5lckNsYXNzID0gImJnLXppbmMtOTAwIGJvcmRlciBib3JkZXItemluYy04MDAgcm91bmRlZC0yeGwgdy1mdWxsIG1heC13LXNtIHAtNiBsYW5kc2NhcGU6cC0yIHNoYWRvdy0yeGwgc3BhY2UteS00IGxhbmRzY2FwZTpzcGFjZS15LTEgbWItNCBzbTptYi0wIGxhbmRzY2FwZTptYi0wIGxhbmRzY2FwZTptYXgtaC1bOTV2aF0gbGFuZHNjYXBlOm92ZXJmbG93LXktYXV0byBuby1zY3JvbGxiYXIiOwogICAgY29uc3QgbW9kYWxPdmVybGF5Q2xhc3MgPSAiZml4ZWQgaW5zZXQtMCB6LTUwIGZsZXggaXRlbXMtZW5kIHNtOml0ZW1zLWNlbnRlciBsYW5kc2NhcGU6aXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJsYWNrLzgwIGJhY2tkcm9wLWJsdXItc20gcC00IGxhbmRzY2FwZTpwLTIgYW5pbWF0ZS1pbiBmYWRlLWluIGR1cmF0aW9uLTIwMCI7CiAgICAvLyAtLS0gU3ViLW1lbnUgZm9yIEVRIC0tLQogICAgaWYgKHNlbGVjdGVkRWZmZWN0SWQgPT09ICdlcScpIHsKICAgICAgICByZXR1cm4gKF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiBtb2RhbE92ZXJsYXlDbGFzcywgY2hpbGRyZW46IF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogbW9kYWxDb250YWluZXJDbGFzcywgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgYm9yZGVyLWIgYm9yZGVyLXppbmMtODAwIHBiLTIgbGFuZHNjYXBlOnBiLTEiLCBjaGlsZHJlbjogW19qc3goImgyIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIiwgY2hpbGRyZW46ICJTZWxlY3QgRVEgUHJlc2V0IiB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBnYXAtMiIsIGNoaWxkcmVuOiBbY2hlY2tBY3RpdmUoJ2VxJykgJiYgKF9qc3goImJ1dHRvbiIsIHsgb25DbGljazogaGFuZGxlUmVzdG9yZSwgY2xhc3NOYW1lOiAidGV4dC14cyBmb250LWJvbGQgdGV4dC1yZWQtNDAwIGJnLXJlZC05MDAvMjAgcHgtMiBweS0xIHJvdW5kZWQgaG92ZXI6YmctcmVkLTkwMC81MCIsIGNoaWxkcmVuOiAiUmVtb3ZlIiB9KSksIF9qc3goImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gc2V0U2VsZWN0ZWRFZmZlY3RJZChudWxsKSwgY2xhc3NOYW1lOiAidGV4dC16aW5jLTUwMCBob3Zlcjp0ZXh0LXdoaXRlIHRleHQtc20iLCBjaGlsZHJlbjogIkJhY2siIH0pXSB9KV0gfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMiBsYW5kc2NhcGU6Z2FwLTEgbWF4LWgtWzMwMHB4XSBvdmVyZmxvdy15LWF1dG8gbm8tc2Nyb2xsYmFyIiwgY2hpbGRyZW46IGVxUHJlc2V0cy5tYXAocHJlc2V0ID0+IChfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6ICgpID0+IGhhbmRsZUFwcGx5UHJlc2V0KHByZXNldCksIGNsYXNzTmFtZTogYHB5LTMgcHgtMiBsYW5kc2NhcGU6cHktMS41IHJvdW5kZWQtbGcgdHJhbnNpdGlvbiBmb250LW1lZGl1bSB0ZXh0LXNtICR7YWN0aXZlRWZmZWN0cz8uZXFQcmVzZXQgPT09IHByZXNldCA/ICdiZy1jeWFuLTkwMC81MCB0ZXh0LWN5YW4tNDAwIHJpbmctMSByaW5nLWN5YW4tNTAwJyA6ICdiZy16aW5jLTgwMCB0ZXh0LXppbmMtMzAwIGhvdmVyOmJnLWN5YW4tOTAwLzMwJ31gLCBjaGlsZHJlbjogcHJlc2V0IH0sIHByZXNldCkpKSB9KV0gfSkgfSkpOwogICAgfQogICAgLy8gLS0tIFN1Yi1tZW51IGZvciBGYWRlcyAtLS0KICAgIGlmIChzZWxlY3RlZEVmZmVjdElkID09PSAnZmFkZUluJyB8fCBzZWxlY3RlZEVmZmVjdElkID09PSAnZmFkZU91dCcgfHwgc2VsZWN0ZWRFZmZlY3RJZCA9PT0gJ2Nyb3NzZmFkZScpIHsKICAgICAgICBjb25zdCBpc0ZhZGUgPSBzZWxlY3RlZEVmZmVjdElkICE9PSAnY3Jvc3NmYWRlJzsKICAgICAgICByZXR1cm4gKF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiBtb2RhbE92ZXJsYXlDbGFzcywgY2hpbGRyZW46IF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogbW9kYWxDb250YWluZXJDbGFzcywgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgYm9yZGVyLWIgYm9yZGVyLXppbmMtODAwIHBiLTIgbGFuZHNjYXBlOnBiLTEgaC0xMCBsYW5kc2NhcGU6aC04IiwgY2hpbGRyZW46IFtfanN4KCJoMiIsIHsgY2xhc3NOYW1lOiAidGV4dC1sZyBmb250LWJvbGQgdGV4dC13aGl0ZSIsIGNoaWxkcmVuOiAiU2VsZWN0IER1cmF0aW9uIiB9KSwgaXNGYWRlICYmIChfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6IGhhbmRsZUludGVyYWN0aXZlLCBjbGFzc05hbWU6ICJiZy15ZWxsb3ctNTAwIGhvdmVyOmJnLXllbGxvdy00MDAgdGV4dC1ibGFjayBweC00IHB5LTEgcm91bmRlZC1tZCBmb250LWJvbGQgdGV4dC1sZyBsYW5kc2NhcGU6dGV4dC1zbSBzaGFkb3ctbGcgc2hhZG93LXllbGxvdy01MDAvMjAgdHJhbnNpdGlvbiBhY3RpdmU6c2NhbGUtOTUiLCBjaGlsZHJlbjogIlNsaWRlciIgfSkpLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGdhcC0yIiwgY2hpbGRyZW46IFtjaGVja0FjdGl2ZShzZWxlY3RlZEVmZmVjdElkKSAmJiAoX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiBoYW5kbGVSZXN0b3JlLCBjbGFzc05hbWU6ICJ0ZXh0LXhzIGZvbnQtYm9sZCB0ZXh0LXJlZC00MDAgYmctcmVkLTkwMC8yMCBweC0yIHB5LTEgcm91bmRlZCBob3ZlcjpiZy1yZWQtOTAwLzUwIiwgY2hpbGRyZW46ICJSZW1vdmUiIH0pKSwgX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBzZXRTZWxlY3RlZEVmZmVjdElkKG51bGwpLCBjbGFzc05hbWU6ICJ0ZXh0LXppbmMtNTAwIGhvdmVyOnRleHQtd2hpdGUgdGV4dC1zbSIsIGNoaWxkcmVuOiAiQmFjayIgfSldIH0pXSB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJncmlkIGdyaWQtY29scy0zIGdhcC0yIGxhbmRzY2FwZTpnYXAtMSIsIGNoaWxkcmVuOiBbMC4yNSwgMC41LCAxLjAsIDIuMCwgMy4wLCA1LjBdLm1hcChkID0+IChfanN4cygiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBoYW5kbGVBcHBseVdpdGhEdXJhdGlvbihkKSwgY2xhc3NOYW1lOiAicHktMyBsYW5kc2NhcGU6cHktMS41IGJnLXppbmMtODAwIHJvdW5kZWQtbGcgaG92ZXI6YmctY3lhbi05MDAvNTAgaG92ZXI6dGV4dC1jeWFuLTQwMCB0cmFuc2l0aW9uIGZvbnQtbWVkaXVtIiwgY2hpbGRyZW46IFtkLCAicyJdIH0sIGQpKSkgfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggZ2FwLTIgaXRlbXMtY2VudGVyIHB0LTIgbGFuZHNjYXBlOnB0LTEiLCBjaGlsZHJlbjogW19qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQteHMgdGV4dC16aW5jLTUwMCB1cHBlcmNhc2UgZm9udC1ib2xkIiwgY2hpbGRyZW46ICJDdXN0b206IiB9KSwgX2pzeCgiaW5wdXQiLCB7IHR5cGU6ICJudW1iZXIiLCB2YWx1ZTogY3VzdG9tVmFsdWUsIG9uQ2hhbmdlOiAoZSkgPT4gc2V0Q3VzdG9tVmFsdWUoZS50YXJnZXQudmFsdWUpLCBjbGFzc05hbWU6ICJiZy16aW5jLTk1MCBib3JkZXIgYm9yZGVyLXppbmMtNzAwIHJvdW5kZWQgcHgtMiBweS0xIGxhbmRzY2FwZTpweS0wLjUgdy0yMCB0ZXh0LWNlbnRlciBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1jeWFuLTUwMCBvdXRsaW5lLW5vbmUiIH0pLCBfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXppbmMtNTAwIiwgY2hpbGRyZW46ICJzIiB9KSwgX2pzeChCdXR0b24sIHsgdmFyaWFudDogInByaW1hcnkiLCBsYWJlbDogIkFwcGx5Iiwgb25DbGljazogKCkgPT4gaGFuZGxlQXBwbHlXaXRoRHVyYXRpb24ocGFyc2VGbG9hdChjdXN0b21WYWx1ZSkgfHwgMSksIGNsYXNzTmFtZTogInB5LTEgcHgtMyB0ZXh0LXNtIGgtOCBtbC1hdXRvIiB9KV0gfSldIH0pIH0pKTsKICAgIH0KICAgIC8vIC0tLSBTdWItbWVudSBmb3IgU3BlZWQgLS0tCiAgICBpZiAoc2VsZWN0ZWRFZmZlY3RJZCA9PT0gJ3NwZWVkJykgewogICAgICAgIGNvbnN0IHByZXNldHMgPSBbMC41LCAwLjc1LCAxLjAsIDEuMjUsIDEuNSwgMi4wXTsKICAgICAgICByZXR1cm4gKF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiBtb2RhbE92ZXJsYXlDbGFzcywgY2hpbGRyZW46IF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogbW9kYWxDb250YWluZXJDbGFzcywgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgYm9yZGVyLWIgYm9yZGVyLXppbmMtODAwIHBiLTIgbGFuZHNjYXBlOnBiLTEiLCBjaGlsZHJlbjogW19qc3goImgyIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIiwgY2hpbGRyZW46ICJQbGF5YmFjayBTcGVlZCIgfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggZ2FwLTIiLCBjaGlsZHJlbjogW2NoZWNrQWN0aXZlKCdzcGVlZCcpICYmIChfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6IGhhbmRsZVJlc3RvcmUsIGNsYXNzTmFtZTogInRleHQteHMgZm9udC1ib2xkIHRleHQtcmVkLTQwMCBiZy1yZWQtOTAwLzIwIHB4LTIgcHktMSByb3VuZGVkIGhvdmVyOmJnLXJlZC05MDAvNTAiLCBjaGlsZHJlbjogIlJlc2V0IiB9KSksIF9qc3goImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gc2V0U2VsZWN0ZWRFZmZlY3RJZChudWxsKSwgY2xhc3NOYW1lOiAidGV4dC16aW5jLTUwMCBob3Zlcjp0ZXh0LXdoaXRlIHRleHQtc20iLCBjaGlsZHJlbjogIkJhY2siIH0pXSB9KV0gfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiZ3JpZCBncmlkLWNvbHMtMyBnYXAtMiBsYW5kc2NhcGU6Z2FwLTEiLCBjaGlsZHJlbjogcHJlc2V0cy5tYXAocmF0ZSA9PiAoX2pzeHMoImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gaGFuZGxlQXBwbHlTcGVlZChyYXRlKSwgY2xhc3NOYW1lOiBgcHktMyBsYW5kc2NhcGU6cHktMS41IGJnLXppbmMtODAwIHJvdW5kZWQtbGcgaG92ZXI6YmctY3lhbi05MDAvNTAgaG92ZXI6dGV4dC1jeWFuLTQwMCB0cmFuc2l0aW9uIGZvbnQtbWVkaXVtICR7YWN0aXZlRWZmZWN0cz8ucGxheWJhY2tSYXRlID09PSByYXRlIHx8IChyYXRlID09PSAxLjAgJiYgIWFjdGl2ZUVmZmVjdHM/LnBsYXliYWNrUmF0ZSkgPyAnYmctY3lhbi05MDAvNTAgdGV4dC1jeWFuLTQwMCByaW5nLTEgcmluZy1jeWFuLTUwMCcgOiAnJ31gLCBjaGlsZHJlbjogW3JhdGUsICJ4Il0gfSwgcmF0ZSkpKSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBnYXAtMiBpdGVtcy1jZW50ZXIgcHQtMiBsYW5kc2NhcGU6cHQtMSIsIGNoaWxkcmVuOiBbX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC14cyB0ZXh0LXppbmMtNTAwIHVwcGVyY2FzZSBmb250LWJvbGQiLCBjaGlsZHJlbjogIkN1c3RvbToiIH0pLCBfanN4KCJpbnB1dCIsIHsgdHlwZTogIm51bWJlciIsIHZhbHVlOiBjdXN0b21WYWx1ZSwgc3RlcDogIjAuMSIsIG9uQ2hhbmdlOiAoZSkgPT4gc2V0Q3VzdG9tVmFsdWUoZS50YXJnZXQudmFsdWUpLCBjbGFzc05hbWU6ICJiZy16aW5jLTk1MCBib3JkZXIgYm9yZGVyLXppbmMtNzAwIHJvdW5kZWQgcHgtMiBweS0xIGxhbmRzY2FwZTpweS0wLjUgdy0yMCB0ZXh0LWNlbnRlciBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1jeWFuLTUwMCBvdXRsaW5lLW5vbmUiIH0pLCBfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXppbmMtNTAwIiwgY2hpbGRyZW46ICJ4IiB9KSwgX2pzeChCdXR0b24sIHsgdmFyaWFudDogInByaW1hcnkiLCBsYWJlbDogIkFwcGx5Iiwgb25DbGljazogKCkgPT4gaGFuZGxlQXBwbHlTcGVlZChwYXJzZUZsb2F0KGN1c3RvbVZhbHVlKSB8fCAxLjApLCBjbGFzc05hbWU6ICJweS0xIHB4LTMgdGV4dC1zbSBoLTggbWwtYXV0byIgfSldIH0pXSB9KSB9KSk7CiAgICB9CiAgICAvLyAtLS0gU3ViLW1lbnUgZm9yIFZvbHVtZSAtLS0KICAgIGlmIChzZWxlY3RlZEVmZmVjdElkID09PSAndm9sdW1lJykgewogICAgICAgIGNvbnN0IHByZXNldHMgPSBbMjUsIDUwLCA3NSwgMTAwLCAxMjUsIDE1MF07CiAgICAgICAgcmV0dXJuIChfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogbW9kYWxPdmVybGF5Q2xhc3MsIGNoaWxkcmVuOiBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6IG1vZGFsQ29udGFpbmVyQ2xhc3MsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIGJvcmRlci1iIGJvcmRlci16aW5jLTgwMCBwYi0yIGxhbmRzY2FwZTpwYi0xIiwgY2hpbGRyZW46IFtfanN4KCJoMiIsIHsgY2xhc3NOYW1lOiAidGV4dC1sZyBmb250LWJvbGQgdGV4dC13aGl0ZSIsIGNoaWxkcmVuOiAiVHJhY2sgVm9sdW1lIiB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBnYXAtMiIsIGNoaWxkcmVuOiBbY2hlY2tBY3RpdmUoJ3ZvbHVtZScpICYmIChfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6ICgpID0+IGhhbmRsZUFwcGx5Vm9sdW1lKDEwMCksIGNsYXNzTmFtZTogInRleHQteHMgZm9udC1ib2xkIHRleHQtcmVkLTQwMCBiZy1yZWQtOTAwLzIwIHB4LTIgcHktMSByb3VuZGVkIGhvdmVyOmJnLXJlZC05MDAvNTAiLCBjaGlsZHJlbjogIlJlc2V0IiB9KSksIF9qc3goImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gc2V0U2VsZWN0ZWRFZmZlY3RJZChudWxsKSwgY2xhc3NOYW1lOiAidGV4dC16aW5jLTUwMCBob3Zlcjp0ZXh0LXdoaXRlIHRleHQtc20iLCBjaGlsZHJlbjogIkJhY2siIH0pXSB9KV0gfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiZ3JpZCBncmlkLWNvbHMtMyBnYXAtMiBsYW5kc2NhcGU6Z2FwLTEiLCBjaGlsZHJlbjogcHJlc2V0cy5tYXAocGVyY2VudCA9PiAoX2pzeHMoImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gaGFuZGxlQXBwbHlWb2x1bWUocGVyY2VudCksIGNsYXNzTmFtZTogYHB5LTMgbGFuZHNjYXBlOnB5LTEuNSBiZy16aW5jLTgwMCByb3VuZGVkLWxnIGhvdmVyOmJnLWN5YW4tOTAwLzUwIGhvdmVyOnRleHQtY3lhbi00MDAgdHJhbnNpdGlvbiBmb250LW1lZGl1bSAke01hdGgucm91bmQoY3VycmVudFZvbHVtZSAqIDEwMCkgPT09IHBlcmNlbnQgPyAnYmctY3lhbi05MDAvNTAgdGV4dC1jeWFuLTQwMCByaW5nLTEgcmluZy1jeWFuLTUwMCcgOiAnJ31gLCBjaGlsZHJlbjogW3BlcmNlbnQsICIlIl0gfSwgcGVyY2VudCkpKSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBnYXAtMiBpdGVtcy1jZW50ZXIgcHQtMiBsYW5kc2NhcGU6cHQtMSIsIGNoaWxkcmVuOiBbX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC14cyB0ZXh0LXppbmMtNTAwIHVwcGVyY2FzZSBmb250LWJvbGQiLCBjaGlsZHJlbjogIkN1c3RvbToiIH0pLCBfanN4KCJpbnB1dCIsIHsgdHlwZTogIm51bWJlciIsIHZhbHVlOiBjdXN0b21WYWx1ZSwgb25DaGFuZ2U6IChlKSA9PiBzZXRDdXN0b21WYWx1ZShlLnRhcmdldC52YWx1ZSksIGNsYXNzTmFtZTogImJnLXppbmMtOTUwIGJvcmRlciBib3JkZXItemluYy03MDAgcm91bmRlZCBweC0yIHB5LTEgbGFuZHNjYXBlOnB5LTAuNSB3LTIwIHRleHQtY2VudGVyIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWN5YW4tNTAwIG91dGxpbmUtbm9uZSIgfSksIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQtemluYy01MDAiLCBjaGlsZHJlbjogIiUiIH0pLCBfanN4KEJ1dHRvbiwgeyB2YXJpYW50OiAicHJpbWFyeSIsIGxhYmVsOiAiQXBwbHkiLCBvbkNsaWNrOiAoKSA9PiBoYW5kbGVBcHBseVZvbHVtZShwYXJzZUZsb2F0KGN1c3RvbVZhbHVlKSB8fCAxMDApLCBjbGFzc05hbWU6ICJweS0xIHB4LTMgdGV4dC1zbSBoLTggbWwtYXV0byIgfSldIH0pXSB9KSB9KSk7CiAgICB9CiAgICAvLyAtLS0gTWFpbiBNZW51IC0tLQogICAgcmV0dXJuIChfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogbW9kYWxPdmVybGF5Q2xhc3MsIGNoaWxkcmVuOiBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6IG1vZGFsQ29udGFpbmVyQ2xhc3MsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIiwgY2hpbGRyZW46IFtfanN4KCJoMiIsIHsgY2xhc3NOYW1lOiAidGV4dC14bCBmb250LWJvbGQgdGV4dC13aGl0ZSIsIGNoaWxkcmVuOiAiQ3JlYXRpdmUgRWZmZWN0cyIgfSksIF9qc3goImJ1dHRvbiIsIHsgb25DbGljazogb25DbG9zZSwgY2xhc3NOYW1lOiAidGV4dC16aW5jLTUwMCBob3Zlcjp0ZXh0LXdoaXRlIHRleHQtc20iLCBjaGlsZHJlbjogIkJhY2siIH0pXSB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJncmlkIGdyaWQtY29scy0yIGdhcC0zIGxhbmRzY2FwZTpnYXAtMS41IiwgY2hpbGRyZW46IGVmZmVjdHMubWFwKChmeCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGNoZWNrQWN0aXZlKGZ4LmlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChfanN4cygiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBoYW5kbGVFZmZlY3RDbGljayhmeCksIGNsYXNzTmFtZTogYGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIGxhbmRzY2FwZTpnYXAtMSBwLTQgbGFuZHNjYXBlOnAtMiByb3VuZGVkLXhsIHRyYW5zaXRpb24gYm9yZGVyIGdyb3VwICR7aXNBY3RpdmUgPyAnYmctY3lhbi05MDAvMzAgYm9yZGVyLWN5YW4tNTAwLzUwIHNoYWRvdy1bMF8wXzE1cHhfcmdiYSg2LDE4MiwyMTIsMC4xNSldJyA6ICdiZy16aW5jLTgwMC81MCBob3ZlcjpiZy16aW5jLTcwMCBib3JkZXItdHJhbnNwYXJlbnQgaG92ZXI6Ym9yZGVyLWN5YW4tNTAwLzMwJ31gLCBjaGlsZHJlbjogW19qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogYHRleHQtMnhsIGxhbmRzY2FwZTp0ZXh0LXhsIHRyYW5zaXRpb24gJHtpc0FjdGl2ZSA/ICd0ZXh0LWN5YW4tNDAwJyA6ICd0ZXh0LXppbmMtNDAwIGdyb3VwLWhvdmVyOnRleHQtemluYy0yMDAgZ3JvdXAtaG92ZXI6c2NhbGUtMTEwJ31gLCBjaGlsZHJlbjogZnguaWNvbiB9KSwgX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiBgdGV4dC1zbSBsYW5kc2NhcGU6dGV4dC14cyBmb250LW1lZGl1bSAke2lzQWN0aXZlID8gJ3RleHQtY3lhbi00MDAgZm9udC1ib2xkJyA6ICd0ZXh0LXppbmMtMzAwIGdyb3VwLWhvdmVyOnRleHQtY3lhbi00MDAnfWAsIGNoaWxkcmVuOiBmeC5sYWJlbCB9KV0gfSwgZnguaWQpKTsKICAgICAgICAgICAgICAgICAgICB9KSB9KV0gfSkgfSkpOwp9OwpleHBvcnQgZGVmYXVsdCBFZmZlY3RzTW9kYWw7Cg==","@/components/ExportModal":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IEJ1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvQnV0dG9uJzsKY29uc3QgRXhwb3J0TW9kYWwgPSAoeyBpc09wZW4sIG9uQ2xvc2UsIG9uRXhwb3J0LCBvcmlnaW5hbFNhbXBsZVJhdGUgfSkgPT4gewogICAgLy8gSW5pdGlhbGl6ZSBzdGF0ZSBmcm9tIGxvY2FsU3RvcmFnZSBvciBkZWZhdWx0IHRvICdtcDMnCiAgICBjb25zdCBbZm9ybWF0LCBzZXRGb3JtYXRdID0gdXNlU3RhdGUoKCkgPT4gewogICAgICAgIGNvbnN0IHNhdmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2V4cG9ydF9mb3JtYXRfcHJlZmVyZW5jZScpOwogICAgICAgIGlmIChzYXZlZCA9PT0gJ3dhdicgfHwgc2F2ZWQgPT09ICdtcDMnIHx8IHNhdmVkID09PSAnZmxhYycpIHsKICAgICAgICAgICAgcmV0dXJuIHNhdmVkOwogICAgICAgIH0KICAgICAgICByZXR1cm4gJ21wMyc7CiAgICB9KTsKICAgIGNvbnN0IGhhbmRsZUZvcm1hdENoYW5nZSA9IChmbXQpID0+IHsKICAgICAgICBzZXRGb3JtYXQoZm10KTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZXhwb3J0X2Zvcm1hdF9wcmVmZXJlbmNlJywgZm10KTsKICAgIH07CiAgICBpZiAoIWlzT3BlbikKICAgICAgICByZXR1cm4gbnVsbDsKICAgIHJldHVybiAoX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJmaXhlZCBpbnNldC0wIHotNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2svODAgYmFja2Ryb3AtYmx1ci1zbSBwLTQiLCBjaGlsZHJlbjogX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiYmctemluYy05MDAgYm9yZGVyIGJvcmRlci16aW5jLTgwMCByb3VuZGVkLTJ4bCB3LWZ1bGwgbWF4LXctc20gcC02IHNoYWRvdy0yeGwgc3BhY2UteS02IiwgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjaGlsZHJlbjogW19qc3goImgyIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIiwgY2hpbGRyZW46ICJFeHBvcnQgU2V0dGluZ3MiIH0pLCBfanN4KCJwIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXppbmMtNDAwIHRleHQtc20iLCBjaGlsZHJlbjogIkNob29zZSB0aGUgZm9ybWF0IGFuZCBxdWFsaXR5LiIgfSldIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJiZy16aW5jLTk1MCBwLTEgcm91bmRlZC14bCBmbGV4IGJvcmRlciBib3JkZXItemluYy04MDAiLCBjaGlsZHJlbjogW19qc3goImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gaGFuZGxlRm9ybWF0Q2hhbmdlKCdtcDMnKSwgY2xhc3NOYW1lOiBgZmxleC0xIHB5LTIgdGV4dC1zbSBmb250LWJvbGQgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWFsbCAke2Zvcm1hdCA9PT0gJ21wMycgPyAnYmctemluYy04MDAgdGV4dC1jeWFuLTQwMCBzaGFkb3ctc20nIDogJ3RleHQtemluYy01MDAgaG92ZXI6dGV4dC16aW5jLTMwMCd9YCwgY2hpbGRyZW46ICJNUDMiIH0pLCBfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6ICgpID0+IGhhbmRsZUZvcm1hdENoYW5nZSgnZmxhYycpLCBjbGFzc05hbWU6IGBmbGV4LTEgcHktMiB0ZXh0LXNtIGZvbnQtYm9sZCByb3VuZGVkLWxnIHRyYW5zaXRpb24tYWxsICR7Zm9ybWF0ID09PSAnZmxhYycgPyAnYmctemluYy04MDAgdGV4dC1jeWFuLTQwMCBzaGFkb3ctc20nIDogJ3RleHQtemluYy01MDAgaG92ZXI6dGV4dC16aW5jLTMwMCd9YCwgY2hpbGRyZW46ICJGTEFDIiB9KSwgX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBoYW5kbGVGb3JtYXRDaGFuZ2UoJ3dhdicpLCBjbGFzc05hbWU6IGBmbGV4LTEgcHktMiB0ZXh0LXNtIGZvbnQtYm9sZCByb3VuZGVkLWxnIHRyYW5zaXRpb24tYWxsICR7Zm9ybWF0ID09PSAnd2F2JyA/ICdiZy16aW5jLTgwMCB0ZXh0LWN5YW4tNDAwIHNoYWRvdy1zbScgOiAndGV4dC16aW5jLTUwMCBob3Zlcjp0ZXh0LXppbmMtMzAwJ31gLCBjaGlsZHJlbjogIldBViIgfSldIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJzcGFjZS15LTIiLCBjaGlsZHJlbjogW19qc3hzKEJ1dHRvbiwgeyB2YXJpYW50OiAic2Vjb25kYXJ5IiwgZnVsbFdpZHRoOiB0cnVlLCBvbkNsaWNrOiAoKSA9PiB7IG9uRXhwb3J0KG9yaWdpbmFsU2FtcGxlUmF0ZSwgZm9ybWF0KTsgb25DbG9zZSgpOyB9LCBjbGFzc05hbWU6ICJqdXN0aWZ5LWJldHdlZW4gZ3JvdXAiLCBjaGlsZHJlbjogW19qc3goInNwYW4iLCB7IGNoaWxkcmVuOiAiT3JpZ2luYWwgUXVhbGl0eSIgfSksIF9qc3hzKCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXhzIHRleHQtemluYy01MDAgYmctemluYy05NTAgcHgtMiBweS0xIHJvdW5kZWQgZ3JvdXAtaG92ZXI6dGV4dC13aGl0ZSB0cmFuc2l0aW9uLWNvbG9ycyIsIGNoaWxkcmVuOiBbb3JpZ2luYWxTYW1wbGVSYXRlLCAiSHoiXSB9KV0gfSksIF9qc3hzKEJ1dHRvbiwgeyB2YXJpYW50OiAic2Vjb25kYXJ5IiwgZnVsbFdpZHRoOiB0cnVlLCBvbkNsaWNrOiAoKSA9PiB7IG9uRXhwb3J0KDQ0MTAwLCBmb3JtYXQpOyBvbkNsb3NlKCk7IH0sIGNsYXNzTmFtZTogImp1c3RpZnktYmV0d2VlbiBncm91cCIsIGNoaWxkcmVuOiBbX2pzeCgic3BhbiIsIHsgY2hpbGRyZW46ICJDRCBRdWFsaXR5IiB9KSwgX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC14cyB0ZXh0LXppbmMtNTAwIGJnLXppbmMtOTUwIHB4LTIgcHktMSByb3VuZGVkIGdyb3VwLWhvdmVyOnRleHQtd2hpdGUgdHJhbnNpdGlvbi1jb2xvcnMiLCBjaGlsZHJlbjogIjQ0LjFrSHoiIH0pXSB9KSwgX2pzeHMoQnV0dG9uLCB7IHZhcmlhbnQ6ICJzZWNvbmRhcnkiLCBmdWxsV2lkdGg6IHRydWUsIG9uQ2xpY2s6ICgpID0+IHsgb25FeHBvcnQoMjIwNTAsIGZvcm1hdCk7IG9uQ2xvc2UoKTsgfSwgY2xhc3NOYW1lOiAianVzdGlmeS1iZXR3ZWVuIGdyb3VwIiwgY2hpbGRyZW46IFtfanN4KCJzcGFuIiwgeyBjaGlsZHJlbjogIkxvLUZpIC8gUmFkaW8iIH0pLCBfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXhzIHRleHQtemluYy01MDAgYmctemluYy05NTAgcHgtMiBweS0xIHJvdW5kZWQgZ3JvdXAtaG92ZXI6dGV4dC13aGl0ZSB0cmFuc2l0aW9uLWNvbG9ycyIsIGNoaWxkcmVuOiAiMjJrSHoiIH0pXSB9KV0gfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAicHQtMiIsIGNoaWxkcmVuOiBfanN4KEJ1dHRvbiwgeyB2YXJpYW50OiAiZ2hvc3QiLCBmdWxsV2lkdGg6IHRydWUsIG9uQ2xpY2s6IG9uQ2xvc2UsIGNoaWxkcmVuOiAiQ2FuY2VsIiB9KSB9KV0gfSkgfSkpOwp9OwpleHBvcnQgZGVmYXVsdCBFeHBvcnRNb2RhbDsK","@/components/BeatMakerModal":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgQnV0dG9uIGZyb20gJ0AvY29tcG9uZW50cy9CdXR0b24nOwppbXBvcnQgeyBnZW5lcmF0ZURydW1CZWF0IH0gZnJvbSAnQC9zZXJ2aWNlcy9hdWRpb1V0aWxzJzsKY29uc3QgRHJ1bUljb24gPSAoKSA9PiAoX2pzeCgic3ZnIiwgeyBjbGFzc05hbWU6ICJ3LTYgaC02IHRleHQtemluYy0xMDAiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNNSAyMGgxNGEyIDIgMCAwMTIgMnYxSDN2LTFhMiAyIDAgMDEyLTJ6bTAtNmgxNGwxLjUgNUgzLjVMNSAxNHptMC05YTMgMyAwIDAxNiAwdjJINVY1em04IDBhMyAzIDAgMDE2IDB2MmgtNlY1eiIgfSkgfSkpOwpjb25zdCBCZWF0TWFrZXJNb2RhbCA9ICh7IGlzT3Blbiwgb25DbG9zZSwgb25HZW5lcmF0ZSB9KSA9PiB7CiAgICBjb25zdCBbYnBtLCBzZXRCcG1dID0gdXNlU3RhdGUoMTIwKTsKICAgIGNvbnN0IFtzdHlsZSwgc2V0U3R5bGVdID0gdXNlU3RhdGUoJ1JvY2snKTsKICAgIGNvbnN0IFtiYXJzLCBzZXRCYXJzXSA9IHVzZVN0YXRlKDQpOwogICAgY29uc3QgW2lzR2VuZXJhdGluZywgc2V0SXNHZW5lcmF0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsKICAgIC8vIENhbGN1bGF0ZSBkeW5hbWljIGNvbnN0cmFpbnRzIGJhc2VkIG9uIDYwIHNlY29uZCBsaW1pdAogICAgLy8gRHVyYXRpb24gPSBCYXJzICogNCAqICg2MCAvIEJQTSkKICAgIC8vIE1heEJhcnMgPSA2MCAvICg0ICogKDYwIC8gQlBNKSkgPSBCUE0gLyA0CiAgICBjb25zdCBtYXhCYXJzID0gTWF0aC5mbG9vcihicG0gLyA0KTsKICAgIC8vIEN1cnJlbnQgZHVyYXRpb24gaW4gc2Vjb25kcwogICAgY29uc3QgY3VycmVudER1cmF0aW9uID0gYmFycyAqIDQgKiAoNjAgLyBicG0pOwogICAgLy8gRW5mb3JjZSBtYXggYmFycyBpZiBCUE0gY2hhbmdlcyBzdWNoIHRoYXQgY3VycmVudCBiYXJzIGV4Y2VlZHMgbGltaXQKICAgIHVzZUVmZmVjdCgoKSA9PiB7CiAgICAgICAgaWYgKGJhcnMgPiBtYXhCYXJzKSB7CiAgICAgICAgICAgIHNldEJhcnMobWF4QmFycyk7CiAgICAgICAgfQogICAgfSwgW2JwbSwgbWF4QmFycywgYmFyc10pOwogICAgaWYgKCFpc09wZW4pCiAgICAgICAgcmV0dXJuIG51bGw7CiAgICBjb25zdCBzdHlsZXMgPSBbJ1JvY2snLCAnSGlwSG9wJywgJ1RlY2hubycsICdNZXRyb25vbWUnXTsKICAgIGNvbnN0IGhhbmRsZUdlbmVyYXRlID0gYXN5bmMgKCkgPT4gewogICAgICAgIHNldElzR2VuZXJhdGluZyh0cnVlKTsKICAgICAgICAvLyBTaG9ydCBkZWxheSB0byBhbGxvdyBVSSB0byB1cGRhdGUKICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IGdlbmVyYXRlRHJ1bUJlYXQoc3R5bGUsIGJwbSwgYmFycyk7CiAgICAgICAgICAgICAgICBvbkdlbmVyYXRlKGJ1ZmZlciwgYCR7c3R5bGV9IEJlYXQgKCR7YnBtfSBCUE0pYCk7CiAgICAgICAgICAgICAgICBvbkNsb3NlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZmluYWxseSB7CiAgICAgICAgICAgICAgICBzZXRJc0dlbmVyYXRpbmcoZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgfSwgMTAwKTsKICAgIH07CiAgICByZXR1cm4gKF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiZml4ZWQgaW5zZXQtMCB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNCBsYW5kc2NhcGU6cC0yIGJnLWJsYWNrLzgwIGJhY2tkcm9wLWJsdXItc20iLCBjaGlsZHJlbjogX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiYmctemluYy05MDAgYm9yZGVyIGJvcmRlci16aW5jLTcwMCByb3VuZGVkLTJ4bCB3LWZ1bGwgbWF4LXctbWQgcC02IGxhbmRzY2FwZTpwLTQgc2hhZG93LTJ4bCBzcGFjZS15LTYgbGFuZHNjYXBlOnNwYWNlLXktMyBsYW5kc2NhcGU6bWF4LWgtWzkwdmhdIGxhbmRzY2FwZTpvdmVyZmxvdy15LWF1dG8gbm8tc2Nyb2xsYmFyIiwgY2hpbGRyZW46IFtfanN4cygiaDIiLCB7IGNsYXNzTmFtZTogInRleHQteGwgZm9udC1ib2xkIHRleHQtd2hpdGUgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMiLCBjaGlsZHJlbjogW19qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInAtMiBiZy16aW5jLTgwMCByb3VuZGVkLWxnIiwgY2hpbGRyZW46IF9qc3goRHJ1bUljb24sIHt9KSB9KSwgIkJlYXQgTWFrZXIiXSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAic3BhY2UteS00IGxhbmRzY2FwZTpzcGFjZS15LTIiLCBjaGlsZHJlbjogW19qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogInNwYWNlLXktMiIsIGNoaWxkcmVuOiBbX2pzeCgibGFiZWwiLCB7IGNsYXNzTmFtZTogInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXppbmMtNTAwIHVwcGVyY2FzZSIsIGNoaWxkcmVuOiAiU3R5bGUiIH0pLCBfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTIiLCBjaGlsZHJlbjogc3R5bGVzLm1hcChzID0+IChfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6ICgpID0+IHNldFN0eWxlKHMpLCBjbGFzc05hbWU6IGBwLTMgbGFuZHNjYXBlOnAtMiByb3VuZGVkLWxnIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbiAke3N0eWxlID09PSBzID8gJ2JnLWN5YW4tNjAwIHRleHQtd2hpdGUgc2hhZG93LWxnIHNoYWRvdy1jeWFuLTUwMC8yMCcgOiAnYmctemluYy04MDAgdGV4dC16aW5jLTQwMCBob3ZlcjpiZy16aW5jLTcwMCd9YCwgY2hpbGRyZW46IHMgfSwgcykpKSB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogInNwYWNlLXktMiIsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBqdXN0aWZ5LWJldHdlZW4iLCBjaGlsZHJlbjogW19qc3goImxhYmVsIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC16aW5jLTUwMCB1cHBlcmNhc2UiLCBjaGlsZHJlbjogIlRlbXBvIiB9KSwgX2pzeHMoInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQteHMgZm9udC1ib2xkIHRleHQtY3lhbi00MDAiLCBjaGlsZHJlbjogW2JwbSwgIiBCUE0iXSB9KV0gfSksIF9qc3goImlucHV0IiwgeyB0eXBlOiAicmFuZ2UiLCBtaW46ICI2MCIsIG1heDogIjIwMCIsIHZhbHVlOiBicG0sIG9uQ2hhbmdlOiAoZSkgPT4gc2V0QnBtKHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSksIGNsYXNzTmFtZTogInctZnVsbCBhY2NlbnQtY3lhbi01MDAgaC0yIGJnLXppbmMtODAwIHJvdW5kZWQtbGcgYXBwZWFyYW5jZS1ub25lIGN1cnNvci1wb2ludGVyIiB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogInNwYWNlLXktMiIsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIiwgY2hpbGRyZW46IFtfanN4KCJsYWJlbCIsIHsgY2xhc3NOYW1lOiAidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtemluYy01MDAgdXBwZXJjYXNlIiwgY2hpbGRyZW46ICJMZW5ndGgiIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXJpZ2h0IiwgY2hpbGRyZW46IFtfanN4cygic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC14cyBmb250LWJvbGQgdGV4dC1jeWFuLTQwMCIsIGNoaWxkcmVuOiBbYmFycywgIiBCYXJzIl0gfSksIF9qc3hzKCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LVsxMHB4XSB0ZXh0LXppbmMtNTAwIGZvbnQtbWVkaXVtIG1sLTIiLCBjaGlsZHJlbjogWyIoIiwgY3VycmVudER1cmF0aW9uLnRvRml4ZWQoMSksICJzKSJdIH0pXSB9KV0gfSksIF9qc3goImlucHV0IiwgeyB0eXBlOiAicmFuZ2UiLCBtaW46ICIxIiwgbWF4OiBtYXhCYXJzLCB2YWx1ZTogYmFycywgb25DaGFuZ2U6IChlKSA9PiBzZXRCYXJzKHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSksIGNsYXNzTmFtZTogInctZnVsbCBhY2NlbnQtY3lhbi01MDAgaC0yIGJnLXppbmMtODAwIHJvdW5kZWQtbGcgYXBwZWFyYW5jZS1ub25lIGN1cnNvci1wb2ludGVyIiB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBqdXN0aWZ5LWJldHdlZW4gdGV4dC1bMTBweF0gdGV4dC16aW5jLTYwMCBweC0xIiwgY2hpbGRyZW46IFtfanN4KCJzcGFuIiwgeyBjaGlsZHJlbjogIjEgQmFyIiB9KSwgX2pzeHMoInNwYW4iLCB7IGNoaWxkcmVuOiBbIk1heCAoIiwgbWF4QmFycywgIikiXSB9KV0gfSldIH0pXSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBnYXAtMyBwdC00IGxhbmRzY2FwZTpwdC0yIGJvcmRlci10IGJvcmRlci16aW5jLTgwMCIsIGNoaWxkcmVuOiBbX2pzeChCdXR0b24sIHsgdmFyaWFudDogImdob3N0Iiwgb25DbGljazogb25DbG9zZSwgbGFiZWw6ICJDYW5jZWwiIH0pLCBfanN4KEJ1dHRvbiwgeyB2YXJpYW50OiAicHJpbWFyeSIsIG9uQ2xpY2s6IGhhbmRsZUdlbmVyYXRlLCBkaXNhYmxlZDogaXNHZW5lcmF0aW5nLCBsYWJlbDogaXNHZW5lcmF0aW5nID8gIlN5bnRoZXNpemluZy4uLiIgOiAiQWRkIEJlYXQiLCBjbGFzc05hbWU6ICJmbGV4LTEiIH0pXSB9KV0gfSkgfSkpOwp9OwpleHBvcnQgZGVmYXVsdCBCZWF0TWFrZXJNb2RhbDsK","@/services/storageService":"data:application/javascript;base64,aW1wb3J0IHsgZW5jb2RlV0FWQnVmZmVyLCBkZWNvZGVBdWRpb0RhdGEsIGdldEF1ZGlvQ29udGV4dCwgY3JlYXRlRW1wdHlCdWZmZXIgfSBmcm9tICdAL3NlcnZpY2VzL2F1ZGlvVXRpbHMnOwpjb25zdCBEQl9OQU1FID0gJ1NvbmljUG9ja2V0REInOwpjb25zdCBEQl9WRVJTSU9OID0gMTsKY29uc3QgU1RPUkVfTkFNRSA9ICdwcm9qZWN0cyc7CmNvbnN0IG9wZW5EQiA9ICgpID0+IHsKICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgY29uc3QgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKERCX05BTUUsIERCX1ZFUlNJT04pOwogICAgICAgIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKGV2ZW50KSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGRiID0gZXZlbnQudGFyZ2V0LnJlc3VsdDsKICAgICAgICAgICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKFNUT1JFX05BTUUpKSB7CiAgICAgICAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShTVE9SRV9OQU1FLCB7IGtleVBhdGg6ICdpZCcgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7CiAgICAgICAgICAgIHJlc29sdmUoZXZlbnQudGFyZ2V0LnJlc3VsdCk7CiAgICAgICAgfTsKICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoZXZlbnQpID0+IHsKICAgICAgICAgICAgcmVqZWN0KCdJbmRleGVkREIgZXJyb3I6ICcgKyBldmVudC50YXJnZXQuZXJyb3IpOwogICAgICAgIH07CiAgICB9KTsKfTsKLy8gSGVscGVyIHRvIGNvbnZlcnQgVHJhY2sgdG8gU2F2ZWRUcmFjayAoaGFuZGxpbmcgcmVjdXJzaW9uIGZvciBjcm9zc2ZhZGUgbWV0YWRhdGEpCmNvbnN0IGNvbnZlcnRUcmFja1RvU2F2ZWQgPSAodCkgPT4gewogICAgY29uc3Qgc2F2ZWQgPSB7CiAgICAgICAgaWQ6IHQuaWQsCiAgICAgICAgbmFtZTogdC5uYW1lLAogICAgICAgIGRhdGE6IGVuY29kZVdBVkJ1ZmZlcih0LmJ1ZmZlciksCiAgICAgICAgLy8gT25seSBzYXZlIG9yaWdpbmFsIGlmIGl0IGRpZmZlcnMgYW5kIGV4aXN0cywgdG8gc2F2ZSBzcGFjZQogICAgICAgIG9yaWdpbmFsRGF0YTogdC5vcmlnaW5hbEJ1ZmZlciA/IGVuY29kZVdBVkJ1ZmZlcih0Lm9yaWdpbmFsQnVmZmVyKSA6IHVuZGVmaW5lZCwKICAgICAgICBzdGFydFRpbWU6IHQuc3RhcnRUaW1lLAogICAgICAgIHRyaW1TdGFydDogdC50cmltU3RhcnQsCiAgICAgICAgZHVyYXRpb246IHQuZHVyYXRpb24sCiAgICAgICAgbGFuZTogdC5sYW5lLAogICAgICAgIHZvbHVtZTogdC52b2x1bWUsCiAgICAgICAgaXNNdXRlZDogdC5pc011dGVkLAogICAgICAgIGlzU29sbzogdC5pc1NvbG8sCiAgICAgICAgY29sb3I6IHQuY29sb3IsCiAgICAgICAgYnBtOiB0LmJwbSwKICAgICAgICBhY3RpdmVFZmZlY3RzOiB0LmFjdGl2ZUVmZmVjdHMKICAgIH07CiAgICBpZiAodC5jcm9zc2ZhZGVNZXRhZGF0YSkgewogICAgICAgIHNhdmVkLmNyb3NzZmFkZU1ldGFkYXRhID0gewogICAgICAgICAgICBsZWZ0OiBjb252ZXJ0VHJhY2tUb1NhdmVkKHQuY3Jvc3NmYWRlTWV0YWRhdGEubGVmdCksCiAgICAgICAgICAgIHJpZ2h0OiBjb252ZXJ0VHJhY2tUb1NhdmVkKHQuY3Jvc3NmYWRlTWV0YWRhdGEucmlnaHQpLAogICAgICAgICAgICBkdXJhdGlvbjogdC5jcm9zc2ZhZGVNZXRhZGF0YS5kdXJhdGlvbgogICAgICAgIH07CiAgICB9CiAgICByZXR1cm4gc2F2ZWQ7Cn07Ci8vIEhlbHBlciB0byBsb2FkIFNhdmVkVHJhY2sgdG8gVHJhY2sgKGhhbmRsaW5nIHJlY3Vyc2lvbikKY29uc3QgY29udmVydFNhdmVkVG9UcmFjayA9IGFzeW5jIChzdCwgY3R4KSA9PiB7CiAgICB0cnkgewogICAgICAgIGxldCBhdWRpb0J1ZmZlciA9IG51bGw7CiAgICAgICAgbGV0IG9yaWdpbmFsQnVmZmVyID0gdW5kZWZpbmVkOwogICAgICAgIC8vIDEuIExvYWQgTWFpbiBBdWRpbwogICAgICAgIGlmIChzdC5kYXRhICYmIHN0LmRhdGEuYnl0ZUxlbmd0aCA+IDApIHsKICAgICAgICAgICAgYXVkaW9CdWZmZXIgPSBhd2FpdCBkZWNvZGVBdWRpb0RhdGEoc3QuZGF0YSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHN0LmJsb2IpIHsKICAgICAgICAgICAgY29uc3QgYWIgPSBhd2FpdCBzdC5ibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgICAgICAgIGlmIChhYi5ieXRlTGVuZ3RoID4gMCkKICAgICAgICAgICAgICAgIGF1ZGlvQnVmZmVyID0gYXdhaXQgZGVjb2RlQXVkaW9EYXRhKGFiKTsKICAgICAgICB9CiAgICAgICAgLy8gMi4gTG9hZCBPcmlnaW5hbCBBdWRpbyAoaWYgZXhpc3RzKQogICAgICAgIGlmIChzdC5vcmlnaW5hbERhdGEgJiYgc3Qub3JpZ2luYWxEYXRhLmJ5dGVMZW5ndGggPiAwKSB7CiAgICAgICAgICAgIG9yaWdpbmFsQnVmZmVyID0gYXdhaXQgZGVjb2RlQXVkaW9EYXRhKHN0Lm9yaWdpbmFsRGF0YSk7CiAgICAgICAgfQogICAgICAgIGlmICghYXVkaW9CdWZmZXIpCiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIGNvbnN0IHRyYWNrID0gewogICAgICAgICAgICBpZDogc3QuaWQsCiAgICAgICAgICAgIG5hbWU6IHN0Lm5hbWUsCiAgICAgICAgICAgIGJ1ZmZlcjogYXVkaW9CdWZmZXIsCiAgICAgICAgICAgIG9yaWdpbmFsQnVmZmVyOiBvcmlnaW5hbEJ1ZmZlciwKICAgICAgICAgICAgc3RhcnRUaW1lOiBzdC5zdGFydFRpbWUsCiAgICAgICAgICAgIHRyaW1TdGFydDogc3QudHJpbVN0YXJ0ID8/IDAsCiAgICAgICAgICAgIGR1cmF0aW9uOiBzdC5kdXJhdGlvbiA/PyBhdWRpb0J1ZmZlci5kdXJhdGlvbiwKICAgICAgICAgICAgbGFuZTogc3QubGFuZSwKICAgICAgICAgICAgdm9sdW1lOiBzdC52b2x1bWUsCiAgICAgICAgICAgIGlzTXV0ZWQ6IHN0LmlzTXV0ZWQsCiAgICAgICAgICAgIGlzU29sbzogc3QuaXNTb2xvLAogICAgICAgICAgICBjb2xvcjogc3QuY29sb3IsCiAgICAgICAgICAgIGJwbTogc3QuYnBtLAogICAgICAgICAgICBhY3RpdmVFZmZlY3RzOiBzdC5hY3RpdmVFZmZlY3RzCiAgICAgICAgfTsKICAgICAgICAvLyAzLiBMb2FkIENyb3NzZmFkZSBNZXRhZGF0YQogICAgICAgIGlmIChzdC5jcm9zc2ZhZGVNZXRhZGF0YSkgewogICAgICAgICAgICBjb25zdCBsZWZ0ID0gYXdhaXQgY29udmVydFNhdmVkVG9UcmFjayhzdC5jcm9zc2ZhZGVNZXRhZGF0YS5sZWZ0LCBjdHgpOwogICAgICAgICAgICBjb25zdCByaWdodCA9IGF3YWl0IGNvbnZlcnRTYXZlZFRvVHJhY2soc3QuY3Jvc3NmYWRlTWV0YWRhdGEucmlnaHQsIGN0eCk7CiAgICAgICAgICAgIGlmIChsZWZ0ICYmIHJpZ2h0KSB7CiAgICAgICAgICAgICAgICB0cmFjay5jcm9zc2ZhZGVNZXRhZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICBsZWZ0LAogICAgICAgICAgICAgICAgICAgIHJpZ2h0LAogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBzdC5jcm9zc2ZhZGVNZXRhZGF0YS5kdXJhdGlvbgogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJhY2s7CiAgICB9CiAgICBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGNvbnZlcnRpbmcgc2F2ZWQgdHJhY2s6IiwgZSk7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICB9Cn07CmV4cG9ydCBjb25zdCBzYXZlUHJvamVjdCA9IGFzeW5jIChpZCwgbmFtZSwgdHJhY2tzLCB0aHVtYm5haWwgPSAnJykgPT4gewogICAgY29uc3QgZGIgPSBhd2FpdCBvcGVuREIoKTsKICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oU1RPUkVfTkFNRSwgJ3JlYWR3cml0ZScpOwogICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShTVE9SRV9OQU1FKTsKICAgIC8vIE9wdGltaXplZCBTYXZpbmc6IFNlcXVlbnRpYWwgcHJvY2Vzc2luZwogICAgY29uc3Qgc2F2ZWRUcmFja3MgPSBbXTsKICAgIGZvciAoY29uc3QgdCBvZiB0cmFja3MpIHsKICAgICAgICBjb25zdCBzdCA9IGNvbnZlcnRUcmFja1RvU2F2ZWQodCk7CiAgICAgICAgc2F2ZWRUcmFja3MucHVzaChzdCk7CiAgICB9CiAgICBjb25zdCBwcm9qZWN0ID0gewogICAgICAgIGlkLAogICAgICAgIG5hbWUsCiAgICAgICAgbGFzdE1vZGlmaWVkOiBEYXRlLm5vdygpLAogICAgICAgIHRyYWNrczogc2F2ZWRUcmFja3MsCiAgICAgICAgdGh1bWJuYWlsCiAgICB9OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUucHV0KHByb2plY3QpOwogICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZSgpOwogICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTsKICAgIH0pOwp9OwpleHBvcnQgY29uc3QgbG9hZFByb2plY3RzID0gYXN5bmMgKCkgPT4gewogICAgY29uc3QgZGIgPSBhd2FpdCBvcGVuREIoKTsKICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oU1RPUkVfTkFNRSwgJ3JlYWRvbmx5Jyk7CiAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKFNUT1JFX05BTUUpOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuZ2V0QWxsKCk7CiAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHByb2plY3RzID0gcmVxdWVzdC5yZXN1bHQ7CiAgICAgICAgICAgIHByb2plY3RzLnNvcnQoKGEsIGIpID0+IGIubGFzdE1vZGlmaWVkIC0gYS5sYXN0TW9kaWZpZWQpOwogICAgICAgICAgICByZXNvbHZlKHByb2plY3RzKTsKICAgICAgICB9OwogICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTsKICAgIH0pOwp9OwpleHBvcnQgY29uc3QgbG9hZFByb2plY3RUcmFja3MgPSBhc3luYyAoc2F2ZWRUcmFja3MpID0+IHsKICAgIGlmICghc2F2ZWRUcmFja3MpCiAgICAgICAgcmV0dXJuIFtdOwogICAgY29uc3QgY3R4ID0gZ2V0QXVkaW9Db250ZXh0KCk7CiAgICBjb25zdCB0cmFja3MgPSBbXTsKICAgIGZvciAoY29uc3Qgc3Qgb2Ygc2F2ZWRUcmFja3MpIHsKICAgICAgICBpZiAoIXN0KQogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICBjb25zdCBsb2FkZWRUcmFjayA9IGF3YWl0IGNvbnZlcnRTYXZlZFRvVHJhY2soc3QsIGN0eCk7CiAgICAgICAgaWYgKGxvYWRlZFRyYWNrKSB7CiAgICAgICAgICAgIHRyYWNrcy5wdXNoKGxvYWRlZFRyYWNrKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIC8vIEVycm9yL1BsYWNlaG9sZGVyIGxvZ2ljCiAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrRHVyYXRpb24gPSBzdC5kdXJhdGlvbiB8fCA1LjA7CiAgICAgICAgICAgIGNvbnN0IGVycm9yQnVmZmVyID0gY3JlYXRlRW1wdHlCdWZmZXIoY3R4LCBmYWxsYmFja0R1cmF0aW9uKTsKICAgICAgICAgICAgdHJhY2tzLnB1c2goewogICAgICAgICAgICAgICAgaWQ6IHN0LmlkLAogICAgICAgICAgICAgICAgbmFtZTogYOKaoO+4jyBNaXNzaW5nIERhdGE6ICR7c3QubmFtZX1gLAogICAgICAgICAgICAgICAgYnVmZmVyOiBlcnJvckJ1ZmZlciwKICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogc3Quc3RhcnRUaW1lLAogICAgICAgICAgICAgICAgdHJpbVN0YXJ0OiAwLAogICAgICAgICAgICAgICAgZHVyYXRpb246IGZhbGxiYWNrRHVyYXRpb24sCiAgICAgICAgICAgICAgICBsYW5lOiBzdC5sYW5lLAogICAgICAgICAgICAgICAgdm9sdW1lOiBzdC52b2x1bWUsCiAgICAgICAgICAgICAgICBpc011dGVkOiB0cnVlLAogICAgICAgICAgICAgICAgaXNTb2xvOiBmYWxzZSwKICAgICAgICAgICAgICAgIGNvbG9yOiAnI2VmNDQ0NCcKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIHRyYWNrczsKfTsKZXhwb3J0IGNvbnN0IGRlbGV0ZVByb2plY3QgPSBhc3luYyAoaWQpID0+IHsKICAgIGNvbnN0IGRiID0gYXdhaXQgb3BlbkRCKCk7CiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKFNUT1JFX05BTUUsICdyZWFkd3JpdGUnKTsKICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoU1RPUkVfTkFNRSk7CiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5kZWxldGUoaWQpOwogICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZSgpOwogICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTsKICAgIH0pOwp9OwpleHBvcnQgY29uc3QgdXBkYXRlUHJvamVjdE5hbWUgPSBhc3luYyAoaWQsIG5ld05hbWUpID0+IHsKICAgIGNvbnN0IGRiID0gYXdhaXQgb3BlbkRCKCk7CiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKFNUT1JFX05BTUUsICdyZWFkd3JpdGUnKTsKICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoU1RPUkVfTkFNRSk7CiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIGNvbnN0IGdldFJlcXVlc3QgPSBzdG9yZS5nZXQoaWQpOwogICAgICAgIGdldFJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gewogICAgICAgICAgICBjb25zdCBwcm9qZWN0ID0gZ2V0UmVxdWVzdC5yZXN1bHQ7CiAgICAgICAgICAgIGlmIChwcm9qZWN0KSB7CiAgICAgICAgICAgICAgICBwcm9qZWN0Lm5hbWUgPSBuZXdOYW1lOwogICAgICAgICAgICAgICAgc3RvcmUucHV0KHByb2plY3QpLm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJlamVjdCgiUHJvamVjdCBub3QgZm91bmQiKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgZ2V0UmVxdWVzdC5vbmVycm9yID0gKCkgPT4gcmVqZWN0KGdldFJlcXVlc3QuZXJyb3IpOwogICAgfSk7Cn07Cg==","@/sw":"data:application/javascript;base64,CmNvbnN0IENBQ0hFX05BTUUgPSAnc29uaWNwb2NrZXQtdjQnOwpjb25zdCBBU1NFVFNfVE9fQ0FDSEUgPSBbCiAgJy8nLAogICcvaW5kZXguaHRtbCcsCiAgJy9pbmRleC50c3gnLAogICcvQXBwLnRzeCcsCiAgJy90eXBlcy50cycsCiAgJy9jb25zdGFudHMudHMnLAogICcvbWFuaWZlc3QuanNvbicsCiAgJy9zZXJ2aWNlcy9hdWRpb1V0aWxzLnRzJywKICAnL3NlcnZpY2VzL3N0b3JhZ2VTZXJ2aWNlLnRzJywKICAnL2NvbXBvbmVudHMvQnV0dG9uLnRzeCcsCiAgJy9jb21wb25lbnRzL1dhdmVmb3JtRGlzcGxheS50c3gnLAogICcvY29tcG9uZW50cy9CZWF0TWFrZXJNb2RhbC50c3gnLAogICcvY29tcG9uZW50cy9FZmZlY3RzTW9kYWwudHN4JywKICAnL2NvbXBvbmVudHMvRXhwb3J0TW9kYWwudHN4JywKICAnaHR0cHM6Ly9jZG4udGFpbHdpbmRjc3MuY29tJywKICAnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9sYW1lanNAMS4yLjEvbGFtZS5taW4uanMnCl07CgpzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2luc3RhbGwnLCAoZXZlbnQpID0+IHsKICBldmVudC53YWl0VW50aWwoCiAgICBjYWNoZXMub3BlbihDQUNIRV9OQU1FKS50aGVuKChjYWNoZSkgPT4gewogICAgICByZXR1cm4gY2FjaGUuYWRkQWxsKEFTU0VUU19UT19DQUNIRSk7CiAgICB9KQogICk7CiAgc2VsZi5za2lwV2FpdGluZygpOwp9KTsKCnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignYWN0aXZhdGUnLCAoZXZlbnQpID0+IHsKICBldmVudC53YWl0VW50aWwoCiAgICBjYWNoZXMua2V5cygpLnRoZW4oKGNhY2hlTmFtZXMpID0+IHsKICAgICAgcmV0dXJuIFByb21pc2UuYWxsKAogICAgICAgIGNhY2hlTmFtZXMubWFwKChjYWNoZU5hbWUpID0+IHsKICAgICAgICAgIGlmIChjYWNoZU5hbWUgIT09IENBQ0hFX05BTUUpIHsKICAgICAgICAgICAgcmV0dXJuIGNhY2hlcy5kZWxldGUoY2FjaGVOYW1lKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICApOwogICAgfSkKICApOwogIHNlbGYuY2xpZW50cy5jbGFpbSgpOwp9KTsKCnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignZmV0Y2gnLCAoZXZlbnQpID0+IHsKICAvLyBOYXZpZ2F0aW9uIGZhbGxiYWNrIHRvIGluZGV4Lmh0bWwgZm9yIFNQQSByb3V0aW5nIChpZiBuZWVkZWQpCiAgaWYgKGV2ZW50LnJlcXVlc3QubW9kZSA9PT0gJ25hdmlnYXRlJykgewogICAgZXZlbnQucmVzcG9uZFdpdGgoCiAgICAgIGNhY2hlcy5tYXRjaCgnL2luZGV4Lmh0bWwnKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIHJldHVybiByZXNwb25zZSB8fCBmZXRjaChldmVudC5yZXF1ZXN0KTsKICAgICAgfSkKICAgICk7CiAgICByZXR1cm47CiAgfQoKICBldmVudC5yZXNwb25kV2l0aCgKICAgIGNhY2hlcy5tYXRjaChldmVudC5yZXF1ZXN0KS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAvLyBDYWNoZSBoaXQgLSByZXR1cm4gcmVzcG9uc2UKICAgICAgaWYgKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgICB9CiAgICAgIAogICAgICAvLyBDbG9uZSB0aGUgcmVxdWVzdCBmb3IgZmV0Y2gKICAgICAgY29uc3QgZmV0Y2hSZXF1ZXN0ID0gZXZlbnQucmVxdWVzdC5jbG9uZSgpOwoKICAgICAgcmV0dXJuIGZldGNoKGZldGNoUmVxdWVzdCkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAvLyBDaGVjayBpZiB2YWxpZCByZXNwb25zZQogICAgICAgIGlmICghcmVzcG9uc2UgfHwgcmVzcG9uc2Uuc3RhdHVzICE9PSAyMDAgfHwgcmVzcG9uc2UudHlwZSAhPT0gJ2Jhc2ljJykgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgICAgIH0KCiAgICAgICAgLy8gQ2FjaGUgbmV3IHJlc291cmNlcyAoZXhjZXB0IEFQSSBjYWxscyB0eXBpY2FsbHkpCiAgICAgICAgaWYgKCFldmVudC5yZXF1ZXN0LnVybC5pbmNsdWRlcygnZ29vZ2xlJykgJiYgIWV2ZW50LnJlcXVlc3QudXJsLmluY2x1ZGVzKCdhcGknKSkgewogICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VUb0NhY2hlID0gcmVzcG9uc2UuY2xvbmUoKTsKICAgICAgICAgICAgIGNhY2hlcy5vcGVuKENBQ0hFX05BTUUpLnRoZW4oKGNhY2hlKSA9PiB7CiAgICAgICAgICAgICAgIGNhY2hlLnB1dChldmVudC5yZXF1ZXN0LCByZXNwb25zZVRvQ2FjaGUpOwogICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICAgIH0pOwogICAgfSkKICApOwp9KTsK","@/components/Header":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMsIEZyYWdtZW50IGFzIF9GcmFnbWVudCB9IGZyb20gInJlYWN0L2pzeC1ydW50aW1lIjsKaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IEJ1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvQnV0dG9uJzsKaW1wb3J0IHsgTUFYX1pPT00sIE1JTl9aT09NIH0gZnJvbSAnQC9jb25zdGFudHMnOwovLyBJY29ucwpjb25zdCBab29tSW5JY29uID0gKCkgPT4gX2pzeCgic3ZnIiwgeyBjbGFzc05hbWU6ICJ3LTQgaC00IiwgZmlsbDogIm5vbmUiLCBzdHJva2U6ICJjdXJyZW50Q29sb3IiLCBzdHJva2VXaWR0aDogIjIiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IHN0cm9rZUxpbmVjYXA6ICJyb3VuZCIsIHN0cm9rZUxpbmVqb2luOiAicm91bmQiLCBkOiAiTTIxIDIxbC02LTZtMi01YTcgNyAwIDExLTE0IDAgNyA3IDAgMDExNCAwek0xMCA3djNtMCAwdjNtMC0zaDNtLTMgMEg3IiB9KSB9KTsKY29uc3QgWm9vbU91dEljb24gPSAoKSA9PiBfanN4KCJzdmciLCB7IGNsYXNzTmFtZTogInctNCBoLTQiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNMjEgMjFsLTYtNm0yLTVhNyA3IDAgMTEtMTQgMCA3IDcgMCAwMTE0IDB6TTEzIDEwSDciIH0pIH0pOwpjb25zdCBVbmRvSWNvbiA9ICgpID0+IF9qc3goInN2ZyIsIHsgY2xhc3NOYW1lOiAidy01IGgtNSIsIGZpbGw6ICJub25lIiwgc3Ryb2tlOiAiY3VycmVudENvbG9yIiwgc3Ryb2tlV2lkdGg6ICIyIiwgdmlld0JveDogIjAgMCAyNCAyNCIsIGNoaWxkcmVuOiBfanN4KCJwYXRoIiwgeyBzdHJva2VMaW5lY2FwOiAicm91bmQiLCBzdHJva2VMaW5lam9pbjogInJvdW5kIiwgZDogIk0zIDEwaDEwYTggOCAwIDAxOCA4djJNMyAxMGw2IDZtLTYtNmw2LTYiIH0pIH0pOwpjb25zdCBTaGFyZUV4cG9ydEljb24gPSAoKSA9PiBfanN4KCJzdmciLCB7IGNsYXNzTmFtZTogInctNSBoLTUiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNMyAxNi41djIuMjVBMi4yNSAyLjI1IDAgMDA1LjI1IDIxaDEzLjVBMi4yNSAyLjI1IDAgMDAyMSAxOC43NVYxNi41bS0xMy41LTlMMTIgM20wIDBsNC41IDQuNU0xMiAzdjEzLjUiIH0pIH0pOwpjb25zdCBMaWJyYXJ5SWNvbiA9ICgpID0+IF9qc3goInN2ZyIsIHsgY2xhc3NOYW1lOiAidy02IGgtNiIsIGZpbGw6ICJub25lIiwgc3Ryb2tlOiAiY3VycmVudENvbG9yIiwgc3Ryb2tlV2lkdGg6ICIyIiwgdmlld0JveDogIjAgMCAyNCAyNCIsIGNoaWxkcmVuOiBfanN4KCJwYXRoIiwgeyBzdHJva2VMaW5lY2FwOiAicm91bmQiLCBzdHJva2VMaW5lam9pbjogInJvdW5kIiwgZDogIk0xMiA2LjI1M3YxM20wLTEzQzEwLjgzMiA1LjQ3NyA5LjI0NiA1IDcuNSA1UzQuMTY4IDUuNDc3IDMgNi4yNTN2MTNDNC4xNjggMTguNDc3IDUuNzU0IDE4IDcuNSAxOHMzLjMzMi40NzcgNC41IDEuMjUzbTAtMTNDMTMuMTY4IDUuNDc3IDE0Ljc1NCA1IDE2LjUgNWMxLjc0NyAwIDMuMzMyLjQ3NyA0LjUgMS4yNTN2MTNDMTkuODMyIDE4LjQ3NyAxOC4yNDcgMTggMTYuNSAxOGMtMS43NDYgMC0zLjMzMi40NzctNC41IDEuMjUzIiB9KSB9KTsKY29uc3QgU2F2ZVN0YXR1c0ljb24gPSAoeyBzdGF0dXMgfSkgPT4gewogICAgaWYgKHN0YXR1cyA9PT0gJ3NhdmluZycpCiAgICAgICAgcmV0dXJuIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQteHMgdGV4dC15ZWxsb3ctNTAwIGFuaW1hdGUtcHVsc2UgZm9udC1tZWRpdW0iLCBjaGlsZHJlbjogIlNhdmluZy4uLiIgfSk7CiAgICBpZiAoc3RhdHVzID09PSAnc2F2ZWQnKQogICAgICAgIHJldHVybiBfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXhzIHRleHQtZ3JlZW4tNTAwIGZvbnQtbWVkaXVtIiwgY2hpbGRyZW46ICJTYXZlZCIgfSk7CiAgICByZXR1cm4gX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC14cyB0ZXh0LXppbmMtNTAwIGZvbnQtbWVkaXVtIiwgY2hpbGRyZW46ICJVbnNhdmVkIiB9KTsKfTsKLy8gQ3VzdG9tIEJyYW5kIEljb24gQ29tcG9uZW50CmNvbnN0IEJyYW5kSWNvbiA9ICh7IGNsYXNzTmFtZSB9KSA9PiAoX2pzeCgic3ZnIiwgeyB2ZXJzaW9uOiAiMS4xIiwgeG1sbnM6ICJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsIHZpZXdCb3g6ICIwIDAgMTAyNCAxMDI0IiwgY2xhc3NOYW1lOiBjbGFzc05hbWUsIHN0eWxlOiB7IGVuYWJsZUJhY2tncm91bmQ6ICduZXcgMCAwIDEwMjQgMTAyNCcgfSwgeG1sU3BhY2U6ICJwcmVzZXJ2ZSIsIGNoaWxkcmVuOiBfanN4cygiZyIsIHsgY2hpbGRyZW46IFtfanN4cygibGluZWFyR3JhZGllbnQiLCB7IGlkOiAiU1ZHSURfMV8iLCBncmFkaWVudFVuaXRzOiAidXNlclNwYWNlT25Vc2UiLCB4MTogIjI1My43NTI2IiwgeTE6ICIxMTAxLjA4ODUiLCB4MjogIjEwMDUuMzcyIiwgeTI6ICI5NC43ODgxIiwgZ3JhZGllbnRUcmFuc2Zvcm06ICJtYXRyaXgoMSAwIDAgLTEgMCAxMDI0KSIsIGNoaWxkcmVuOiBbX2pzeCgic3RvcCIsIHsgb2Zmc2V0OiAiMCIsIHN0eWxlOiB7IHN0b3BDb2xvcjogJyMxRkNCRTcnIH0gfSksIF9qc3goInN0b3AiLCB7IG9mZnNldDogIjAuNSIsIHN0eWxlOiB7IHN0b3BDb2xvcjogJyM3ODgxRUYnIH0gfSksIF9qc3goInN0b3AiLCB7IG9mZnNldDogIjEiLCBzdHlsZTogeyBzdG9wQ29sb3I6ICcjQ0M1RERDJyB9IH0pXSB9KSwgX2pzeCgicGF0aCIsIHsgZmlsbDogInVybCgjU1ZHSURfMV8pIiwgZDogIk0yNTMuMyw0OTkuNWMxNi4zLDAsMzAsMTEuNywzMi41LDI3LjhsMTIuOCw4MS4xVjI1NS44YzAtNi43LDUuMy0xMi4yLDEyLTEyLjVjNi43LTAuMywxMi40LDQuOCwxMywxMS41IGwyOC41LDM0NS41bDI3LjMtMjk5LjFjMC42LTYuNCw1LjktMTEuMywxMi40LTExLjRjNi40LDAsMTEuOCw0LjgsMTIuNSwxMS4ybDI4LjcsMjgxLjRsMjcuMS0yMzVjMC43LTYuMyw2LTExLDEyLjMtMTEuMSBjNi4zLTAuMSwxMS43LDQuNiwxMi41LDEwLjhsMjksMjE3LjVsMjctMTcxLjJjMC45LTYsNi4xLTEwLjUsMTIuMS0xMC42YzYuMS0wLjEsMTEuMyw0LjIsMTIuNSwxMC4xTDU5NSw1NDYuOWwyNi43LTEwNy44IGMxLjMtNS40LDYtOS4yLDExLjYtOS41YzUuNS0wLjIsMTAuNiwzLjIsMTIuNCw4LjRsMzEuNCw5MC42bDI2LjctNDYuMmMxLjctMi45LDQuNC01LDcuNi01LjhjMy4yLTAuOSw2LjYtMC40LDkuNSwxLjJsMjguOCwxNi42IGM1LjYsMy4zLDEyLjEsNSwxOC42LDVoMTI4LjdWMzkuOWMtNC43LTIuOC05LjQtNS40LTE0LjMtNy45Qzg1OC43LDE5LjksODM0LjMsMTIuMiw4MDgsNy41Yy0yNS44LTQuNi01Mi4yLTYuMi03OC4zLTYuOSBjLTEyLTAuMy0yNC0wLjUtMzYtMC41QzY3OS41LDAsNjY1LjIsMCw2NTEsMEgzNzNjLTE0LjIsMC0yOC41LDAtNDIuNywwLjFjLTEyLDAuMS0yNCwwLjItMzYsMC41Yy0yNi4xLDAuNy01Mi41LDIuMi03OC4zLDYuOSBjLTI2LjIsNC43LTUwLjYsMTIuNC03NC40LDI0LjVjLTQuMywyLjItOC42LDQuNS0xMi43LDd2NDYwLjVIMjUzLjN6IiB9KSwgX2pzeHMoImxpbmVhckdyYWRpZW50IiwgeyBpZDogIlNWR0lEXzJfIiwgZ3JhZGllbnRVbml0czogInVzZXJTcGFjZU9uVXNlIiwgeDE6ICIyMS4yMDQ1IiwgeTE6ICI5MjcuMzk1MSIsIHgyOiAiNzcyLjgyNCIsIHkyOiAiLTc4LjkwNTIiLCBncmFkaWVudFRyYW5zZm9ybTogIm1hdHJpeCgxIDAgMCAtMSAwIDEwMjQpIiwgY2hpbGRyZW46IFtfanN4KCJzdG9wIiwgeyBvZmZzZXQ6ICIwIiwgc3R5bGU6IHsgc3RvcENvbG9yOiAnIzFGQ0JFNycgfSB9KSwgX2pzeCgic3RvcCIsIHsgb2Zmc2V0OiAiMC41Iiwgc3R5bGU6IHsgc3RvcENvbG9yOiAnIzc4ODFFRicgfSB9KSwgX2pzeCgic3RvcCIsIHsgb2Zmc2V0OiAiMSIsIHN0eWxlOiB7IHN0b3BDb2xvcjogJyNDQzVEREMnIH0gfSldIH0pLCBfanN4KCJwYXRoIiwgeyBmaWxsOiAidXJsKCNTVkdJRF8yXykiLCBkOiAiTTc2OC4xLDUyNC41Yy0xMC45LDAtMjEuNi0yLjktMzEuMS04LjMgbC0xOC0xMC40bC0zNC4xLDU5Yy0yLjQsNC4yLTcuMSw2LjctMTIsNi4yYy00LjktMC41LTktMy43LTEwLjYtOC40bC0yNi41LTc2LjZsLTMwLjIsMTIyLjFjLTEuNCw1LjYtNi40LDkuNS0xMi4xLDkuNSBjLTAuMSwwLTAuMiwwLTAuMywwYy01LjktMC4yLTEwLjgtNC40LTExLjktMTAuMWwtMjYuOC0xMzkuNGwtMjkuMiwxODUuNmMtMSw2LjEtNi4yLDEwLjYtMTIuMywxMC42Yy0wLjEsMC0wLjEsMC0wLjIsMCBjLTYuMi0wLjEtMTEuNC00LjctMTIuMi0xMC44bC0yNy4xLTIwMy4xbC0yOC44LDI0OS40Yy0wLjcsNi4zLTYuMSwxMS4xLTEyLjQsMTEuMWMwLDAtMC4xLDAtMC4xLDBjLTYuNCwwLTExLjctNC45LTEyLjQtMTEuMiBsLTI3LjItMjY3TDM2My45LDc0NmMtMC42LDYuNC02LDExLjQtMTIuNCwxMS40YzAsMCwwLDAtMC4xLDBjLTYuNSwwLTExLjktNS0xMi40LTExLjVsLTE1LjQtMTg2LjR2MjA4LjdjMCw2LjUtNSwxMi0xMS41LDEyLjUgYy0wLjMsMC0wLjcsMC0xLDBjLTYuMSwwLTExLjQtNC40LTEyLjMtMTAuNmwtMzcuNi0yMzguOWMtMC42LTMuOS0zLjktNi43LTcuOC02LjdIMTI4LjhWOTg1YzQuMiwyLjQsOC40LDQuOCwxMi43LDcgYzIzLjgsMTIuMSw0OC4yLDE5LjgsNzQuNCwyNC41YzI1LjgsNC42LDUyLjIsNi4yLDc4LjMsNi45YzEyLDAuMywyNCwwLjUsMzYsMC41YzE0LjIsMC4xLDI4LjUsMC4xLDQyLjcsMC4xaDI3OCBjMTQuMiwwLDI4LjUsMCw0Mi43LTAuMWMxMi0wLjEsMjQtMC4yLDM2LTAuNWMyNi4xLTAuNyw1Mi41LTIuMiw3OC4zLDYuOWMyNi4yLTQuNyw1MC42LTEyLjQsNzQuNC0yNC41YzQuOS0yLjUsOS42LTUuMSwxNC4zLTcuOSBWNTI0LjVINzY4LjF6IiB9KSwgX2pzeCgicGF0aCIsIHsgZmlsbDogIiNGRkZGRkYiLCBkOiAiTTc0OS41LDQ5NC41bC0yOC44LTE2LjZjLTIuOS0xLjctNi4zLTIuMS05LjUtMS4yYy0zLjIsMC45LTUuOSwzLTcuNiw1LjhMNjc3LDUyOC42TDY0NS42LDQzOCBjLTEuOC01LjItNi44LTguNi0xMi40LTguNGMtNS41LDAuMy0xMC4yLDQuMS0xMS42LDkuNUw1OTUsNTQ2LjlsLTI5LjYtMTUzLjdjLTEuMS02LTYuNC0xMC4zLTEyLjUtMTAuMSBjLTYuMSwwLjEtMTEuMiw0LjYtMTIuMSwxMC42bC0yNywxNzEuMmwtMjktMjE3LjVjLTAuOC02LjMtNi4yLTEwLjktMTIuNS0xMC44Yy02LjMsMC4xLTExLjYsNC44LTEyLjMsMTEuMWwtMjcuMSwyMzVsLTI4LjctMjgxLjQgYy0wLjctNi40LTYuMS0xMS4zLTEyLjUtMTEuMmMtNi40LDAtMTEuOCw1LTEyLjQsMTEuNGwtMjcuMywyOTkuMWwtMjguNS0zNDUuNWMtMC42LTYuNy02LjMtMTEuOC0xMy0xMS41Yy02LjcsMC4zLTEyLDUuOC0xMiwxMi41IHYzNTIuNmwtMTIuOC04MS4xYy0yLjUtMTYuMS0xNi4yLTI3LjgtMzIuNS0yNy44SDEyOC44djI1aDEyNC42YzMuOSwwLDcuMiwyLjgsNy44LDYuN2wzNy42LDIzOC45YzEsNi4xLDYuMiwxMC42LDEyLjMsMTAuNiBjMC4zLDAsMC43LDAsMSwwYzYuNS0wLjUsMTEuNS01LjksMTEuNS0xMi41VjU1OS41TDMzOSw3NDUuOWMwLjUsNi41LDUuOSwxMS40LDEyLjQsMTEuNWMwLDAsMCwwLDAuMSwwYzYuNSwwLDExLjktNC45LDEyLjQtMTEuNCBsMjguNi0zMTMuNWwyNy4yLDI2N2MwLjYsNi4zLDYsMTEuMiwxMi40LDExLjJjMCwwLDAuMSwwLDAuMSwwYzYuMywwLDExLjctNC44LDEyLjQtMTEuMWwyOC44LTI0OS40bDI3LjEsMjAzLjEgYzAuOCw2LjIsNiwxMC44LDEyLjIsMTAuOGMwLjEsMCwwLjEsMCwwLjIsMGM2LjEsMCwxMS40LTQuNSwxMi4zLTEwLjZsMjkuMi0xODUuNmwyNi44LDEzOS40YzEuMSw1LjgsNi4xLDEwLDExLjksMTAuMSBjMC4xLDAsMC4yLDAsMC4zLDBjNS43LDAsMTAuNy0zLjksMTIuMS05LjVsMzAuMi0xMjIuMWwyNi41LDc2LjZjMS42LDQuNiw1LjgsNy45LDEwLjYsOC40YzQuOSwwLjUsOS42LTIsMTItNi4ybDM0LjEtNTlsMTgsMTAuNCBjOS40LDUuNCwyMC4yLDguMywzMS4xLDguM2gxMjguN3YtMjVINzY4LjFDNzYxLjYsNDk5LjUsNzU1LjIsNDk3LjgsNzQ5LjUsNDk0LjV6IiB9KSwgX2pzeCgicGF0aCIsIHsgZmlsbDogIiNGQUNDMTQiLCBkOiAiTTc4LjEsNzguMUM1OS41LDk2LjcsNDQsMTE4LjEsMzIsMTQxLjVDMTkuOSwxNjUuMywxMi4yLDE4OS43LDcuNSwyMTZjLTQuNiwyNS44LTYuMiw1Mi4yLTYuOSw3OC4zIGMtMC4zLDEyLTAuNSwyNC0wLjUsMzZDMCwzNDQuNSwwLDM1OC44LDAsMzczdjI3OGMwLDE0LjIsMCwyOC41LDAuMSw0Mi43YzAuMSwxMiwwLjIsMjQsMC41LDM2YzAuNywyNi4xLDIuMiw1Mi41LDYuOSw3OC4zIGM0LjcsMjYuMiwxMi40LDUwLjYsMjQuNSw3NC40YzExLjksMjMuNCwyNy41LDQ0LjgsNDYuMSw2My40YzE1LjIsMTUuMiwzMi4yLDI4LjMsNTAuNywzOS4xVjUyNC41di0yNVYzOSBDMTEwLjMsNDkuOCw5My4zLDYyLjksNzguMSw3OC4xeiBNMTA4LjEsNjMwLjhjMy41LDYuOSwwLjYsMTUuMy02LjMsMTguOGMtMiwxLTQuMSwxLjUtNi4yLDEuNWMtNS4xLDAtMTAuMS0yLjgtMTIuNS03LjggbC02Mi4zLTEyNWMtMi0zLjktMi04LjYsMC0xMi41bDYyLjMtMTI1YzMuNS02LjksMTEuOS05LjcsMTguOC02LjNjNi45LDMuNSw5LjcsMTEuOSw2LjMsMTguOEw0OC45LDUxMkwxMDguMSw2MzAuOHoiIH0pLCBfanN4KCJwYXRoIiwgeyBmaWxsOiAiI0ZBQ0MxNCIsIGQ6ICJNMTAyMy45LDMzMC4zYy0wLjEtMTItMC4yLTI0LTAuNS0zNmMtMC43LTI2LjEtMi4yLTUyLjUtNi45LTc4LjNjLTQuNy0yNi4yLTEyLjQtNTAuNi0yNC41LTc0LjQgYy0xMS45LTIzLjQtMjcuNS00NC44LTQ2LjEtNjMuNGMtMTQuNy0xNC43LTMxLjItMjcuNS00OS4xLTM4LjJ2NDU5LjZ2MjV2NDU5LjZjMTcuOS0xMC42LDM0LjQtMjMuNSw0OS4xLTM4LjIgYzE4LjYtMTguNiwzNC4xLTQwLDQ2LjEtNjMuNGMxMi4xLTIzLjgsMTkuOC00OC4yLDI0LjUtNzQuNGM0LjYtMjUuOCw2LjItNTIuMiw2LjktNzguM2MwLjMtMTIsMC41LTI0LDAuNS0zNiBjMC4xLTE0LjIsMC4xLTI4LjUsMC4xLTQyLjdWMzczQzEwMjQsMzU4LjgsMTAyNCwzNDQuNSwxMDIzLjksMzMwLjN6IE0xMDA0LjEsNTE4LjJsLTYyLjMsMTI1Yy0yLjQsNC45LTcuNCw3LjgtMTIuNSw3LjggYy0yLjEsMC00LjItMC41LTYuMi0xLjVjLTYuOS0zLjUtOS43LTExLjktNi4zLTE4LjhMOTc1LjksNTEybC01OS4yLTExOC44Yy0zLjUtNi45LTAuNi0xNS4zLDYuMy0xOC44YzYuOS0zLjUsMTUuMy0wLjYsMTguOCw2LjMgbDYyLjMsMTI1QzEwMDYsNTA5LjcsMTAwNiw1MTQuMywxMDA0LjEsNTE4LjJ6IiB9KSwgX2pzeCgicGF0aCIsIHsgZDogIk0xMDEuOCwzNzQuNWMtNi45LTMuNS0xNS4zLTAuNi0xOC44LDYuM2wtNjIuMywxMjVjLTIsMy45LTIsOC42LDAsMTIuNWw2Mi4zLDEyNWMyLjUsNC45LDcuNCw3LjgsMTIuNSw3LjggYzIuMSwwLDQuMi0wLjUsNi4yLTEuNWM2LjktMy41LDkuNy0xMS45LDYuMy0xOC44TDQ4LjksNTEybDU5LjItMTE4LjhDMTExLjUsMzg2LjMsMTA4LjcsMzc3LjksMTAxLjgsMzc0LjV6IiB9KSwgX2pzeCgicGF0aCIsIHsgZDogIk05NDEuOCwzODAuOGMtMy41LTYuOS0xMS45LTkuNy0xOC44LTYuM2MtNi45LDMuNS05LjcsMTEuOS02LjMsMTguOEw5NzUuOSw1MTJsLTU5LjIsMTE4LjhjLTMuNS02LjktMC42LDE1LjMsNi4zLTE4LjggYzIsMSw0LjEsMS41LDYuMiwxLjVjNS4xLDAsMTAuMS0yLjgsMTIuNS03LjhsNjIuMy0xMjVjMi0zLjksMi04LjYsMC0xMi41TDk0MS44LDM4MC44eiIgfSksIF9qc3goInBvbHlnb24iLCB7IHBvaW50czogIjEwMjQsMCAxMDI0LDM3MyAxMDI0LDY1MSAxMDI0LDEwMjQgMTAyNCwxMDI0IDEwMjQsMCIgfSldIH0pIH0pKTsKY29uc3QgZm9ybWF0VGltZSA9IChzZWNvbmRzKSA9PiB7CiAgICBpZiAoc2Vjb25kcyA8IDYwKQogICAgICAgIHJldHVybiBgJHtzZWNvbmRzLnRvRml4ZWQoMil9c2A7CiAgICBjb25zdCBtID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApOwogICAgY29uc3QgcyA9IChzZWNvbmRzICUgNjApLnRvRml4ZWQoMik7CiAgICByZXR1cm4gYCR7bX1tICR7c31zYDsKfTsKZXhwb3J0IGNvbnN0IEhlYWRlciA9ICh7IGN1cnJlbnRQcm9qZWN0TmFtZSwgc2F2ZVN0YXR1cywgaGFzUHJvamVjdElkLCBoaXN0b3J5TGVuZ3RoLCB0cmFja3NDb3VudCwgem9vbSwgY3VycmVudFRpbWUsIG1heER1cmF0aW9uLCByZWNlbnRQcm9qZWN0UHJldmlldywgb25ab29tLCBvblVuZG8sIG9uRXhwb3J0LCBvblNhdmVBbmRDbG9zZSwgbWluWm9vbSA9IE1JTl9aT09NIH0pID0+IHsKICAgIHJldHVybiAoX2pzeHMoX0ZyYWdtZW50LCB7IGNoaWxkcmVuOiBbX2pzeHMoImhlYWRlciIsIHsgY2xhc3NOYW1lOiAiZmxleCBmbGV4LWNvbCB3LWZ1bGwgbGFuZHNjYXBlOnctMTYgbGFuZHNjYXBlOmxnOnctZnVsbCBoLWF1dG8gbGFuZHNjYXBlOmgtZnVsbCBsYW5kc2NhcGU6bGc6aC1hdXRvIGJvcmRlci1iIGxhbmRzY2FwZTpib3JkZXItYi0wIGxhbmRzY2FwZTpib3JkZXItciBsYW5kc2NhcGU6bGc6Ym9yZGVyLWIgbGFuZHNjYXBlOmxnOmJvcmRlci1yLTAgYm9yZGVyLXppbmMtOTAwIGJnLXppbmMtOTUwIHNocmluay0wIHotMjAganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBweS0yIGxhbmRzY2FwZTpweS00IGxhbmRzY2FwZTpweC0yIGxhbmRzY2FwZTpsZzpwLTQgbGFuZHNjYXBlOmxnOnBiLTggbGFuZHNjYXBlOmp1c3RpZnktYmV0d2VlbiBsYW5kc2NhcGU6bGc6anVzdGlmeS1ub3JtYWwgbGFuZHNjYXBlOm92ZXJmbG93LXZpc2libGUgbm8tc2Nyb2xsYmFyIiwgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyB3LWZ1bGwgcHgtNCBsYW5kc2NhcGU6ZmxleC1jb2wgbGFuZHNjYXBlOmdhcC00IGxhbmRzY2FwZTpweC0wIGxhbmRzY2FwZTpsZzpmbGV4LXJvdyBsYW5kc2NhcGU6bGc6cHgtNCBsYW5kc2NhcGU6bGc6dy1mdWxsIGxhbmRzY2FwZTpsZzpqdXN0aWZ5LXN0YXJ0IiwgY2hpbGRyZW46IFtfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogInctMTAgaC0xMCBzaHJpbmstMCBsYW5kc2NhcGU6aGlkZGVuIGxhbmRzY2FwZTpsZzpibG9jayIsIGNoaWxkcmVuOiBfanN4KEJyYW5kSWNvbiwgeyBjbGFzc05hbWU6ICJ3LWZ1bGwgaC1mdWxsIGRyb3Atc2hhZG93LTJ4bCIgfSkgfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImhpZGRlbiBsYW5kc2NhcGU6ZmxleCBsYW5kc2NhcGU6bGc6aGlkZGVuIGZsZXgtY29sIGl0ZW1zLWNlbnRlciIsIGNoaWxkcmVuOiBbX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiBvblNhdmVBbmRDbG9zZSwgY2xhc3NOYW1lOiAidy0xMCBoLTEwIHJvdW5kZWQtbGcgb3ZlcmZsb3ctaGlkZGVuIGJvcmRlciBib3JkZXItemluYy03MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctemluYy05MDAiLCBjaGlsZHJlbjogcmVjZW50UHJvamVjdFByZXZpZXcgPyBfanN4KCJpbWciLCB7IHNyYzogcmVjZW50UHJvamVjdFByZXZpZXcsIGNsYXNzTmFtZTogInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyIG9wYWNpdHktODAiLCBhbHQ6ICJQcmV2aWV3IiB9KSA6IF9qc3goTGlicmFyeUljb24sIHt9KSB9KSwgX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC1bOHB4XSB0ZXh0LXppbmMtNTAwIG10LTEgZm9udC1ib2xkIiwgY2hpbGRyZW46ICJMSUIiIH0pXSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAibGFuZHNjYXBlOmhpZGRlbiBsYW5kc2NhcGU6bGc6YmxvY2sgZmxleC0xIG1pbi13LTAiLCBjaGlsZHJlbjogW19qc3goImgxIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LWxnIGZvbnQtYm9sZCB0cmFja2luZy10aWdodCB0ZXh0LXdoaXRlIGxlYWRpbmctdGlnaHQgdHJ1bmNhdGUiLCBjaGlsZHJlbjogIlNvbmljUG9ja2V0IiB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiLCBjaGlsZHJlbjogW19qc3goInAiLCB7IGNsYXNzTmFtZTogInRleHQtWzEwcHhdIHRleHQtemluYy01MDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVzdCBmb250LXNlbWlib2xkIHRydW5jYXRlIG1heC13LVsxNTBweF0iLCBjaGlsZHJlbjogY3VycmVudFByb2plY3ROYW1lIHx8ICJOZXcgUHJvamVjdCIgfSksIGhhc1Byb2plY3RJZCAmJiBfanN4KFNhdmVTdGF0dXNJY29uLCB7IHN0YXR1czogc2F2ZVN0YXR1cyB9KV0gfSldIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGdhcC0yIGl0ZW1zLWNlbnRlciBtbC1hdXRvIGxhbmRzY2FwZTpoaWRkZW4gbGFuZHNjYXBlOmxnOmZsZXgiLCBjaGlsZHJlbjogW19qc3goQnV0dG9uLCB7IHZhcmlhbnQ6ICJnaG9zdCIsIG9uQ2xpY2s6IG9uVW5kbywgZGlzYWJsZWQ6IGhpc3RvcnlMZW5ndGggPT09IDAsIGljb246IF9qc3goVW5kb0ljb24sIHt9KSB9KSwgX2pzeChCdXR0b24sIHsgdmFyaWFudDogImdob3N0Iiwgb25DbGljazogb25FeHBvcnQsIGRpc2FibGVkOiB0cmFja3NDb3VudCA9PT0gMCwgY2xhc3NOYW1lOiAidGV4dC1jeWFuLTQwMCBob3ZlcjpiZy1jeWFuLTk1MC8zMCIsIGljb246IF9qc3goU2hhcmVFeHBvcnRJY29uLCB7fSkgfSksIF9qc3goQnV0dG9uLCB7IHZhcmlhbnQ6ICJnaG9zdCIsIG9uQ2xpY2s6IG9uU2F2ZUFuZENsb3NlLCBjbGFzc05hbWU6ICJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC16aW5jLTMwMCBob3Zlcjp0ZXh0LXdoaXRlIiwgbGFiZWw6ICJEb25lIiB9KV0gfSldIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJoaWRkZW4gbGFuZHNjYXBlOmZsZXggbGFuZHNjYXBlOmxnOmhpZGRlbiBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgZ2FwLTIgZmxleC0xIGp1c3RpZnktY2VudGVyIHB5LTIiLCBjaGlsZHJlbjogW19qc3goImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gb25ab29tKHpvb20gKyAxMCksIGNsYXNzTmFtZTogInAtMSBob3Zlcjp0ZXh0LXdoaXRlIHRleHQtemluYy01MDAgc2hyaW5rLTAiLCBjaGlsZHJlbjogX2pzeChab29tSW5JY29uLCB7fSkgfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAicmVsYXRpdmUgdy02IGgtMjQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ3JvdXAiLCBjaGlsZHJlbjogX2pzeCgiaW5wdXQiLCB7IHR5cGU6ICJyYW5nZSIsIHN0ZXA6IDAuMDEsIG1pbjogbWluWm9vbSwgbWF4OiBNQVhfWk9PTSwgdmFsdWU6IHpvb20sIG9uQ2hhbmdlOiAoZSkgPT4gb25ab29tKE51bWJlcihlLnRhcmdldC52YWx1ZSkpLCBjbGFzc05hbWU6ICJhYnNvbHV0ZSB3LTI0IGgtNiBiZy10cmFuc3BhcmVudCBhcHBlYXJhbmNlLW5vbmUgY3Vyc29yLXBvaW50ZXIgWyY6Oi13ZWJraXQtc2xpZGVyLXRodW1iXTphcHBlYXJhbmNlLW5vbmUgWyY6Oi13ZWJraXQtc2xpZGVyLXRodW1iXTp3LTQgWyY6Oi13ZWJraXQtc2xpZGVyLXRodW1iXTpoLTQgWyY6Oi13ZWJraXQtc2xpZGVyLXRodW1iXTpyb3VuZGVkLWZ1bGwgWyY6Oi13ZWJraXQtc2xpZGVyLXRodW1iXTpiZy1jeWFuLTUwMCBiZy16aW5jLTgwMCByb3VuZGVkLWZ1bGwiLCBzdHlsZTogeyB0cmFuc2Zvcm06ICdyb3RhdGUoLTkwZGVnKScsIHRyYW5zZm9ybU9yaWdpbjogJ2NlbnRlcicgfSB9KSB9KSwgX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBvblpvb20oem9vbSAtIDEwKSwgY2xhc3NOYW1lOiAicC0xIGhvdmVyOnRleHQtd2hpdGUgdGV4dC16aW5jLTUwMCBzaHJpbmstMCIsIGNoaWxkcmVuOiBfanN4KFpvb21PdXRJY29uLCB7fSkgfSldIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJoaWRkZW4gbGFuZHNjYXBlOmZsZXggbGFuZHNjYXBlOmxnOmhpZGRlbiBmbGV4LWNvbCBnYXAtMiBpdGVtcy1jZW50ZXIgcGItNCIsIGNoaWxkcmVuOiBbX2pzeChCdXR0b24sIHsgdmFyaWFudDogImdob3N0Iiwgb25DbGljazogb25VbmRvLCBkaXNhYmxlZDogaGlzdG9yeUxlbmd0aCA9PT0gMCwgaWNvbjogX2pzeChVbmRvSWNvbiwge30pLCBjbGFzc05hbWU6ICJwLTIiIH0pLCBfanN4KEJ1dHRvbiwgeyB2YXJpYW50OiAiZ2hvc3QiLCBvbkNsaWNrOiBvbkV4cG9ydCwgZGlzYWJsZWQ6IHRyYWNrc0NvdW50ID09PSAwLCBjbGFzc05hbWU6ICJ0ZXh0LWN5YW4tNDAwIGhvdmVyOmJnLWN5YW4tOTUwLzMwIHAtMiIsIGljb246IF9qc3goU2hhcmVFeHBvcnRJY29uLCB7fSkgfSksIF9qc3goQnV0dG9uLCB7IHZhcmlhbnQ6ICJnaG9zdCIsIG9uQ2xpY2s6IG9uU2F2ZUFuZENsb3NlLCBjbGFzc05hbWU6ICJ0ZXh0LVsxMHB4XSBmb250LWJvbGQgdGV4dC16aW5jLTMwMCBob3Zlcjp0ZXh0LXdoaXRlIHdyaXRpbmctdmVydGljYWwtbHIgcHktMiIsIGxhYmVsOiAiRE9ORSIgfSldIH0pXSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAibGFuZHNjYXBlOmhpZGRlbiBsYW5kc2NhcGU6bGc6ZmxleCBoLTEyIGZsZXggaXRlbXMtY2VudGVyIHB4LTQganVzdGlmeS1iZXR3ZWVuIGJvcmRlci1iIGJvcmRlci16aW5jLTkwMCBiZy16aW5jLTk1MC81MCBiYWNrZHJvcC1ibHVyLXNtIHNocmluay0wIGdhcC00IiwgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCB0ZXh0LVsxMHB4XSBmb250LWJvbGQgdGV4dC16aW5jLTUwMCBzaHJpbmstMCIsIGNoaWxkcmVuOiBbX2pzeHMoInNwYW4iLCB7IGNsYXNzTmFtZTogInVwcGVyY2FzZSIsIGNoaWxkcmVuOiBbIlRyYWNrczogIiwgdHJhY2tzQ291bnRdIH0pLCBfanN4cygic3BhbiIsIHsgY2xhc3NOYW1lOiAidGFidWxhci1udW1zIG5vcm1hbC1jYXNlIiwgY2hpbGRyZW46IFtfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LWN5YW4tNTAwIiwgY2hpbGRyZW46IGZvcm1hdFRpbWUoY3VycmVudFRpbWUpIH0pLCBfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXppbmMtNjAwIG14LTIiLCBjaGlsZHJlbjogIi8iIH0pLCBfanN4KCJzcGFuIiwgeyBjaGlsZHJlbjogZm9ybWF0VGltZShtYXhEdXJhdGlvbikgfSldIH0pXSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdy00NCBtZDp3LTY0IG1kOmZsZXgtMSBtZDptYXgtdy14cyBqdXN0aWZ5LWVuZCIsIGNoaWxkcmVuOiBbX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBvblpvb20oem9vbSAtIDEwKSwgY2xhc3NOYW1lOiAicC0yIGhvdmVyOnRleHQtd2hpdGUgdGV4dC16aW5jLTUwMCBzaHJpbmstMCIsIGNoaWxkcmVuOiBfanN4KFpvb21PdXRJY29uLCB7fSkgfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAicmVsYXRpdmUgdy1mdWxsIGgtNiBmbGV4IGl0ZW1zLWNlbnRlciBncm91cCIsIGNoaWxkcmVuOiBfanN4KCJpbnB1dCIsIHsgdHlwZTogInJhbmdlIiwgc3RlcDogMC4wMSwgbWluOiBtaW5ab29tLCBtYXg6IE1BWF9aT09NLCB2YWx1ZTogem9vbSwgb25DaGFuZ2U6IChlKSA9PiBvblpvb20oTnVtYmVyKGUudGFyZ2V0LnZhbHVlKSksIGNsYXNzTmFtZTogInctZnVsbCBoLTEgYmctemluYy04MDAgcm91bmRlZC1mdWxsIGFwcGVhcmFuY2Utbm9uZSBjdXJzb3ItcG9pbnRlciBbJjo6LXdlYmtpdC1zbGlkZXItdGh1bWJdOmFwcGVhcmFuY2Utbm9uZSBbJjo6LXdlYmtpdC1zbGlkZXItdGh1bWJdOnctNCBbJjo6LXdlYmtpdC1zbGlkZXItdGh1bWJdOmgtNCBbJjo6LXdlYmtpdC1zbGlkZXItdGh1bWJdOnJvdW5kZWQtZnVsbCBbJjo6LXdlYmtpdC1zbGlkZXItdGh1bWJdOmJnLWN5YW4tNTAwIiB9KSB9KSwgX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBvblpvb20oem9vbSArIDEwKSwgY2xhc3NOYW1lOiAicC0yIGhvdmVyOnRleHQtd2hpdGUgdGV4dC16aW5jLTUwMCBzaHJpbmstMCIsIGNoaWxkcmVuOiBfanN4KFpvb21Jbkljb24sIHt9KSB9KV0gfSldIH0pXSB9KSk7Cn07Cg==","@/components/TransportControls":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBCdXR0b24gZnJvbSAnQC9jb21wb25lbnRzL0J1dHRvbic7Ci8vIEljb25zCmNvbnN0IFVwbG9hZEljb24gPSAoKSA9PiBfanN4KCJzdmciLCB7IGNsYXNzTmFtZTogInctNiBoLTYiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNOSAxOVY2bDEyLTN2MTNNOSAxOWMwIDEuMTA1LTEuMzQzIDItMyAycy0zLS44OTUtMy0yIDEuMzQzLTIgMy0yIDMgLjg5NSAzIDJ6bTEyLTNjMCAxLjEwNS0xLjM0MyAyLTMgMnMtMy0uODk1LTMtMiAxLjM0My0yIDMtMiAzIC44OTUgMyAyek05IDEwbDEyLTMiIH0pIH0pOwpjb25zdCBNaWNJY29uID0gKCkgPT4gX2pzeCgic3ZnIiwgeyBjbGFzc05hbWU6ICJ3LTYgaC02IiwgZmlsbDogIm5vbmUiLCBzdHJva2U6ICJjdXJyZW50Q29sb3IiLCBzdHJva2VXaWR0aDogIjIiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IHN0cm9rZUxpbmVjYXA6ICJyb3VuZCIsIHN0cm9rZUxpbmVqb2luOiAicm91bmQiLCBkOiAiTTE5IDExYTcgNyAwIDAxLTcgN20wIDBhNyA3IDAgMDEtNy03bTcgN3Y0bTAgMEg4bTQgMGg0bS00LThhMyAzIDAgMDEtMy0zVjVhMyAzIDAgMTE2IDB2NmEzIDMgMCAwMS0zIDN6IiB9KSB9KTsKY29uc3QgU3RvcFJlY0ljb24gPSAoKSA9PiBfanN4KCJzdmciLCB7IGNsYXNzTmFtZTogInctNiBoLTYgdGV4dC1yZWQtNTAwIiwgZmlsbDogImN1cnJlbnRDb2xvciIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicmVjdCIsIHsgeDogIjYiLCB5OiAiNiIsIHdpZHRoOiAiMTIiLCBoZWlnaHQ6ICIxMiIsIHJ4OiAiMiIgfSkgfSk7CmNvbnN0IERydW1JY29uID0gKCkgPT4gX2pzeCgic3ZnIiwgeyBjbGFzc05hbWU6ICJ3LTYgaC02IiwgZmlsbDogIm5vbmUiLCBzdHJva2U6ICJjdXJyZW50Q29sb3IiLCBzdHJva2VXaWR0aDogIjIiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IHN0cm9rZUxpbmVjYXA6ICJyb3VuZCIsIHN0cm9rZUxpbmVqb2luOiAicm91bmQiLCBkOiAiTTUgMjBoMTRhMiAyIDAgMDEyIDJ2MUgzdi0xYTIgMiAwIDAxMi0yem0wLTZoMTRsMS41IDVIMy41TDUgMTR6bTAtOWEzIDMgMCAwMTYgMHYySDVWNXptOCAwYTMgMyAwIDAxNiAwdjJoLTZWNXoiIH0pIH0pOwpjb25zdCBQbGF5SWNvbiA9ICgpID0+IF9qc3goInN2ZyIsIHsgY2xhc3NOYW1lOiAidy04IGgtOCB0cmFuc2xhdGUteC0wLjUiLCBmaWxsOiAiY3VycmVudENvbG9yIiwgdmlld0JveDogIjAgMCAyNCAyNCIsIGNoaWxkcmVuOiBfanN4KCJwYXRoIiwgeyBkOiAiTTggNXYxNGwxMS03eiIgfSkgfSk7CmNvbnN0IFBhdXNlSWNvbiA9ICgpID0+IF9qc3goInN2ZyIsIHsgY2xhc3NOYW1lOiAidy04IGgtOCIsIGZpbGw6ICJjdXJyZW50Q29sb3IiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IGQ6ICJNNiAxOWg0VjVINnYxNHptOC0xNHYxNGg0VjVoLTR6IiB9KSB9KTsKY29uc3QgU2Npc3NvcnNJY29uID0gKCkgPT4gX2pzeCgic3ZnIiwgeyBjbGFzc05hbWU6ICJ3LTUgaC01IC1yb3RhdGUtOTAiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNMTQuMTIxIDE0LjEyMUwxOSAxOW0tNy03bDctN20tNyA3bC0yLjg3OSAyLjg3OU0xMiAxMkw5LjEyMSA5LjEyMW0wIDUuNzU4YTMgMyAwIDEwLTQuMjQzIDQuMjQzIDMgMyAwIDAwNC4yNDMtNC4yNDN6bTAtNS43NThhMyAzIDAgMTAtNC4yNDMtNC4yNDMgMyAzIDAgMDA0LjI0MyA0LjI0M3oiIH0pIH0pOwpjb25zdCBJT1NDcm9wSWNvbiA9ICgpID0+IF9qc3goInN2ZyIsIHsgY2xhc3NOYW1lOiAidy01IGgtNSIsIGZpbGw6ICJjdXJyZW50Q29sb3IiLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IGQ6ICJNMTcgMTVoMlY3YzAtMS4xLS45LTItMi0ySDl2Mmg4djh6TTcgMTdWMUg1djRIMXYyaDR2MTBjMCAxLjEuOSAyIDIgMmgxMHY0aDJ2LTRoNHYtMkg3eiIgfSkgfSk7CmNvbnN0IEZ4SWNvbiA9ICgpID0+IF9qc3hzKCJzdmciLCB7IGNsYXNzTmFtZTogInctNSBoLTUiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogW19qc3goInBhdGgiLCB7IHN0cm9rZUxpbmVjYXA6ICJyb3VuZCIsIHN0cm9rZUxpbmVqb2luOiAicm91bmQiLCBkOiAiTTEwLjUgNmE3LjUgNy41IDAgMTA3LjUgNy41aC03LjVWNnoiIH0pLCBfanN4KCJwYXRoIiwgeyBzdHJva2VMaW5lY2FwOiAicm91bmQiLCBzdHJva2VMaW5lam9pbjogInJvdW5kIiwgZDogIk0xMy41IDEwLjVIMjFBNy41IDcuNSAwIDAwMTMuNSAzdjcuNXoiIH0pXSB9KTsKY29uc3QgTGlicmFyeUljb24gPSAoKSA9PiBfanN4KCJzdmciLCB7IGNsYXNzTmFtZTogInctNiBoLTYiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNMTIgNi4yNTN2MTNtMC0xM0MxMC44MzIgNS40NzcgOS4yNDYgNSA3LjUgNVM0LjE2OCA1LjQ3NyAzIDYuMjUzdjEzQzQuMTY4IDE4LjQ3NyA1Ljc1NCAxOCA3LjUgMThzMy4zMzIuNDc3IDQuNSAxLjI1M20wLTEzQzEzLjE2OCA1LjQ3NyAxNC43NTQgNSAxNi41IDVjMS43NDcgMCAzLjMzMi40NzcgNC41IDEuMjUzdjEzQzE5LjgzMiAxOC40NzcgMTguMjQ3IDE4IDE2LjUgMThjLTEuNzQ2IDAtMy4zMzIuNDc3LTQuNSAxLjI1MyIgfSkgfSk7CmV4cG9ydCBjb25zdCBUcmFuc3BvcnRDb250cm9scyA9ICh7IGlzUGxheWluZywgaXNSZWNvcmRpbmcsIHNlbGVjdGVkVHJhY2tJZCwgaXNUcmltTW9kZSwgaW50ZXJhY3RpdmVNb2RlLCBzZWxlY3Rpb24sIGhhc1RyYWNrcywgcmVjZW50UHJvamVjdFByZXZpZXcsIG9uUGxheVBhdXNlLCBvblRvZ2dsZVJlY29yZCwgb25DdXQsIG9uQ3JvcCwgb25FZmZlY3RzLCBvbkltcG9ydENsaWNrLCBvbkJlYXRDbGljaywgb25MaWJyYXJ5Q2xpY2sgfSkgPT4gewogICAgcmV0dXJuIChfanN4cygiZm9vdGVyIiwgeyBjbGFzc05hbWU6ICJiZy16aW5jLTk1MCBib3JkZXItdCBib3JkZXItemluYy05MDAgcC00IHBiLTggc2FmZS1hcmVhLXBiIHNwYWNlLXktNCBzaHJpbmstMCB6LTMwIHNoYWRvdy1bMF8tNXB4XzIwcHhfcmdiYSgwLDAsMCwwLjUpXSBmbGV4IGZsZXgtY29sIHctZnVsbCBsYW5kc2NhcGU6dy0yMCBsYW5kc2NhcGU6bGc6dy1mdWxsIGgtYXV0byBsYW5kc2NhcGU6aC1mdWxsIGxhbmRzY2FwZTpsZzpoLWF1dG8gbGFuZHNjYXBlOmJvcmRlci10LTAgbGFuZHNjYXBlOmJvcmRlci1sIGxhbmRzY2FwZTpsZzpib3JkZXItdCBsYW5kc2NhcGU6bGc6Ym9yZGVyLWwtMCBsYW5kc2NhcGU6cHktMCBsYW5kc2NhcGU6cHgtMiBsYW5kc2NhcGU6bGc6cC00IGxhbmRzY2FwZTpsZzpwYi04IGxhbmRzY2FwZTpqdXN0aWZ5LWJldHdlZW4gbGFuZHNjYXBlOmxnOmp1c3RpZnktbm9ybWFsIGxhbmRzY2FwZTpvdmVyZmxvdy12aXNpYmxlIG5vLXNjcm9sbGJhciIsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBmbGV4LWNvbCBnYXAtNCBsYW5kc2NhcGU6aGlkZGVuIGxhbmRzY2FwZTpsZzpmbGV4IiwgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWF4LXctbWQgbXgtYXV0byB3LWZ1bGwgcHgtNCBsYW5kc2NhcGU6bGc6Z2FwLTQiLCBjaGlsZHJlbjogW19qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggaXRlbXMtY2VudGVyIGdhcC00IiwgY2hpbGRyZW46IFtfanN4cygiYnV0dG9uIiwgeyBvbkNsaWNrOiBvbkltcG9ydENsaWNrLCBjbGFzc05hbWU6ICJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBnYXAtMSB0ZXh0LXppbmMtNTAwIGhvdmVyOnRleHQtd2hpdGUgdHJhbnNpdGlvbiBncm91cCIsIGNoaWxkcmVuOiBbX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJwLTMgcm91bmRlZC1mdWxsIGJnLXppbmMtOTAwIGdyb3VwLWhvdmVyOmJnLXppbmMtODAwIHRyYW5zaXRpb24iLCBjaGlsZHJlbjogX2pzeChVcGxvYWRJY29uLCB7fSkgfSksIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQtWzlweF0gdXBwZXJjYXNlIGZvbnQtYm9sZCB0cmFja2luZy13aWRlIiwgY2hpbGRyZW46ICJJbXBvcnQiIH0pXSB9KSwgX2pzeHMoImJ1dHRvbiIsIHsgb25DbGljazogb25MaWJyYXJ5Q2xpY2ssIGNsYXNzTmFtZTogImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGdhcC0xIHRleHQtemluYy01MDAgaG92ZXI6dGV4dC13aGl0ZSB0cmFuc2l0aW9uIGdyb3VwIiwgY2hpbGRyZW46IFtfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogYHctMTIgaC0xMiBvdmVyZmxvdy1oaWRkZW4gYmctemluYy05MDAgZ3JvdXAtaG92ZXI6cmluZy0yIHJpbmctY3lhbi01MDAvNTAgdHJhbnNpdGlvbiBib3JkZXIgYm9yZGVyLXppbmMtODAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyICR7cmVjZW50UHJvamVjdFByZXZpZXcgPyAncm91bmRlZC1tZCcgOiAncm91bmRlZC1mdWxsIHAtMyd9YCwgY2hpbGRyZW46IHJlY2VudFByb2plY3RQcmV2aWV3ID8gKF9qc3goImltZyIsIHsgc3JjOiByZWNlbnRQcm9qZWN0UHJldmlldywgYWx0OiAiTGlicmFyeSIsIGNsYXNzTmFtZTogInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyIG9wYWNpdHktODAiIH0pKSA6IChfanN4KExpYnJhcnlJY29uLCB7fSkpIH0pLCBfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LVs5cHhdIHVwcGVyY2FzZSBmb250LWJvbGQgdHJhY2tpbmctd2lkZSIsIGNoaWxkcmVuOiAiTGlicmFyeSIgfSldIH0pXSB9KSwgX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiBvblBsYXlQYXVzZSwgZGlzYWJsZWQ6ICFoYXNUcmFja3MgJiYgIWlzUmVjb3JkaW5nLCBjbGFzc05hbWU6IGB3LTE2IGgtMTYgcm91bmRlZC1mdWxsICR7aXNSZWNvcmRpbmcgPyAnYmctcmVkLTUwMCBob3ZlcjpiZy1yZWQtNDAwIHNoYWRvdy1yZWQtNTAwLzIwJyA6ICdiZy1jeWFuLTUwMCBob3ZlcjpiZy1jeWFuLTQwMCBzaGFkb3ctY3lhbi01MDAvMjAnfSB0ZXh0LWJsYWNrIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHNoYWRvdy14bCBhY3RpdmU6c2NhbGUtOTUgdHJhbnNpdGlvbiBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmdyYXlzY2FsZWAsIGNoaWxkcmVuOiBpc1BsYXlpbmcgPyBfanN4KFBhdXNlSWNvbiwge30pIDogX2pzeChQbGF5SWNvbiwge30pIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCIsIGNoaWxkcmVuOiBbX2pzeHMoImJ1dHRvbiIsIHsgb25DbGljazogb25Ub2dnbGVSZWNvcmQsIGNsYXNzTmFtZTogYGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGdhcC0xIHRyYW5zaXRpb24gZ3JvdXAgJHtpc1JlY29yZGluZyA/ICd0ZXh0LXJlZC01MDAgYW5pbWF0ZS1wdWxzZScgOiAndGV4dC16aW5jLTUwMCBob3Zlcjp0ZXh0LXdoaXRlJ31gLCBjaGlsZHJlbjogW19qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAicC0zIHJvdW5kZWQtZnVsbCBiZy16aW5jLTkwMCBncm91cC1ob3ZlcjpiZy16aW5jLTgwMCB0cmFuc2l0aW9uIiwgY2hpbGRyZW46IGlzUmVjb3JkaW5nID8gX2pzeChTdG9wUmVjSWNvbiwge30pIDogX2pzeChNaWNJY29uLCB7fSkgfSksIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQtWzlweF0gdXBwZXJjYXNlIGZvbnQtYm9sZCB0cmFja2luZy13aWRlIiwgY2hpbGRyZW46IGlzUmVjb3JkaW5nID8gIlN0b3AiIDogIk1pYyIgfSldIH0pLCBfanN4cygiYnV0dG9uIiwgeyBvbkNsaWNrOiBvbkJlYXRDbGljaywgY2xhc3NOYW1lOiAiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgZ2FwLTEgdGV4dC16aW5jLTUwMCBob3Zlcjp0ZXh0LXdoaXRlIHRyYW5zaXRpb24gZ3JvdXAiLCBjaGlsZHJlbjogW19qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAicC0zIHJvdW5kZWQtZnVsbCBiZy16aW5jLTkwMCBncm91cC1ob3ZlcjpiZy16aW5jLTgwMCB0cmFuc2l0aW9uIiwgY2hpbGRyZW46IF9qc3goRHJ1bUljb24sIHt9KSB9KSwgX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC1bOXB4XSB1cHBlcmNhc2UgZm9udC1ib2xkIHRyYWNraW5nLXdpZGUiLCBjaGlsZHJlbjogIkJlYXQiIH0pXSB9KV0gfSldIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJncmlkIGdyaWQtY29scy0zIGdhcC0yIG1heC13LW1kIG14LWF1dG8gdy1mdWxsIiwgY2hpbGRyZW46IFtfanN4KEJ1dHRvbiwgeyB2YXJpYW50OiAic2Vjb25kYXJ5IiwgaWNvbjogX2pzeChTY2lzc29yc0ljb24sIHt9KSwgbGFiZWw6ICJDdXQiLCBkaXNhYmxlZDogIXNlbGVjdGVkVHJhY2tJZCwgb25DbGljazogb25DdXQsIGNsYXNzTmFtZTogImgtMTIgdGV4dC14cyBiZy16aW5jLTkwMCBib3JkZXItemluYy04MDAgaG92ZXI6YmctemluYy04MDAiIH0pLCBfanN4KEJ1dHRvbiwgeyB2YXJpYW50OiBpc1RyaW1Nb2RlID8gInByaW1hcnkiIDogInNlY29uZGFyeSIsIGljb246IGlzVHJpbU1vZGUgPyBudWxsIDogX2pzeChJT1NDcm9wSWNvbiwge30pLCBsYWJlbDogc2VsZWN0aW9uID8gIkNyb3AgU2VsZWN0aW9uIiA6IChpc1RyaW1Nb2RlID8gIkRvbmUiIDogIkNyb3AgVG9vbCIpLCBkaXNhYmxlZDogIXNlbGVjdGVkVHJhY2tJZCwgb25DbGljazogb25Dcm9wLCBjbGFzc05hbWU6IGBoLTEyIHRleHQteHMgJHtpc1RyaW1Nb2RlID8gJ2JnLXllbGxvdy00MDAgaG92ZXI6YmcteWVsbG93LTMwMCB0ZXh0LWJsYWNrIGJvcmRlci1ub25lJyA6ICdiZy16aW5jLTkwMCBib3JkZXItemluYy04MDAgaG92ZXI6YmctemluYy04MDAnfWAgfSksIF9qc3goQnV0dG9uLCB7IHZhcmlhbnQ6IGludGVyYWN0aXZlTW9kZSA/ICJwcmltYXJ5IiA6ICJzZWNvbmRhcnkiLCBpY29uOiBpbnRlcmFjdGl2ZU1vZGUgPyBudWxsIDogX2pzeChGeEljb24sIHt9KSwgbGFiZWw6IGludGVyYWN0aXZlTW9kZSA/ICJEb25lIiA6ICJFZmZlY3RzIiwgZGlzYWJsZWQ6ICFzZWxlY3RlZFRyYWNrSWQsIG9uQ2xpY2s6IG9uRWZmZWN0cywgY2xhc3NOYW1lOiBgaC0xMiB0ZXh0LXhzICR7aW50ZXJhY3RpdmVNb2RlID8gJ2JnLXllbGxvdy00MDAgaG92ZXI6YmcteWVsbG93LTMwMCB0ZXh0LWJsYWNrIGJvcmRlci1ub25lJyA6ICdiZy16aW5jLTkwMCBib3JkZXItemluYy04MDAgaG92ZXI6YmctemluYy04MDAnfWAgfSldIH0pXSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiaGlkZGVuIGxhbmRzY2FwZTpmbGV4IGxhbmRzY2FwZTpsZzpoaWRkZW4gZmxleC1jb2wgaC1mdWxsIHctZnVsbCBweS0yIHNhZmUtYXJlYS1wYiIsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleC0xIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktZXZlbmx5IG1pbi1oLTAiLCBjaGlsZHJlbjogW19qc3goImJ1dHRvbiIsIHsgb25DbGljazogb25JbXBvcnRDbGljaywgY2xhc3NOYW1lOiAidy0xMCBoLTEwIHJvdW5kZWQtZnVsbCBiZy16aW5jLTkwMCB0ZXh0LXppbmMtNTAwIGhvdmVyOnRleHQtd2hpdGUgaG92ZXI6YmctemluYy04MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdHJhbnNpdGlvbiBzaGFkb3ctc20iLCBjaGlsZHJlbjogX2pzeChVcGxvYWRJY29uLCB7fSkgfSksIF9qc3goImJ1dHRvbiIsIHsgb25DbGljazogb25Ub2dnbGVSZWNvcmQsIGNsYXNzTmFtZTogYHctMTAgaC0xMCByb3VuZGVkLWZ1bGwgYmctemluYy05MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdHJhbnNpdGlvbiBzaGFkb3ctc20gJHtpc1JlY29yZGluZyA/ICd0ZXh0LXJlZC01MDAgYW5pbWF0ZS1wdWxzZScgOiAndGV4dC16aW5jLTUwMCBob3Zlcjp0ZXh0LXdoaXRlIGhvdmVyOmJnLXppbmMtODAwJ31gLCBjaGlsZHJlbjogaXNSZWNvcmRpbmcgPyBfanN4KFN0b3BSZWNJY29uLCB7fSkgOiBfanN4KE1pY0ljb24sIHt9KSB9KSwgX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiBvbkJlYXRDbGljaywgY2xhc3NOYW1lOiAidy0xMCBoLTEwIHJvdW5kZWQtZnVsbCBiZy16aW5jLTkwMCB0ZXh0LXppbmMtNTAwIGhvdmVyOnRleHQtd2hpdGUgaG92ZXI6YmctemluYy04MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdHJhbnNpdGlvbiBzaGFkb3ctc20iLCBjaGlsZHJlbjogX2pzeChEcnVtSWNvbiwge30pIH0pXSB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweS0yIiwgY2hpbGRyZW46IF9qc3goImJ1dHRvbiIsIHsgb25DbGljazogb25QbGF5UGF1c2UsIGRpc2FibGVkOiAhaGFzVHJhY2tzICYmICFpc1JlY29yZGluZywgY2xhc3NOYW1lOiBgdy0xNCBoLTE0IHJvdW5kZWQtZnVsbCAke2lzUmVjb3JkaW5nID8gJ2JnLXJlZC01MDAgaG92ZXI6YmctcmVkLTQwMCBzaGFkb3ctcmVkLTUwMC8yMCcgOiAnYmctY3lhbi01MDAgaG92ZXI6YmctY3lhbi00MDAgc2hhZG93LWN5YW4tNTAwLzIwJ30gdGV4dC1ibGFjayBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBzaGFkb3cteGwgYWN0aXZlOnNjYWxlLTk1IHRyYW5zaXRpb24gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpncmF5c2NhbGVgLCBjaGlsZHJlbjogaXNQbGF5aW5nID8gX2pzeChQYXVzZUljb24sIHt9KSA6IF9qc3goUGxheUljb24sIHt9KSB9KSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleC0xIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktZXZlbmx5IG1pbi1oLTAiLCBjaGlsZHJlbjogW19qc3goImJ1dHRvbiIsIHsgb25DbGljazogb25DdXQsIGRpc2FibGVkOiAhc2VsZWN0ZWRUcmFja0lkLCBjbGFzc05hbWU6IGB3LTEwIGgtMTAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRyYW5zaXRpb24gc2hhZG93LXNtICR7c2VsZWN0ZWRUcmFja0lkID8gJ2JnLXppbmMtODAwIHRleHQtemluYy0xMDAgaG92ZXI6YmctemluYy03MDAnIDogJ2JnLXppbmMtOTAwIHRleHQtemluYy02MDAnfWAsIGNoaWxkcmVuOiBfanN4KFNjaXNzb3JzSWNvbiwge30pIH0pLCBfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6IG9uQ3JvcCwgZGlzYWJsZWQ6ICFzZWxlY3RlZFRyYWNrSWQsIGNsYXNzTmFtZTogYHctMTAgaC0xMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdHJhbnNpdGlvbiBzaGFkb3ctc20gJHtpc1RyaW1Nb2RlID8gJ2JnLXllbGxvdy00MDAgdGV4dC1ibGFjayBob3ZlcjpiZy15ZWxsb3ctMzAwJyA6IHNlbGVjdGVkVHJhY2tJZCA/ICdiZy16aW5jLTgwMCB0ZXh0LXppbmMtMTAwIGhvdmVyOmJnLXppbmMtNzAwJyA6ICdiZy16aW5jLTkwMCB0ZXh0LXppbmMtNjAwJ31gLCBjaGlsZHJlbjogX2pzeChJT1NDcm9wSWNvbiwge30pIH0pLCBfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6IG9uRWZmZWN0cywgZGlzYWJsZWQ6ICFzZWxlY3RlZFRyYWNrSWQsIGNsYXNzTmFtZTogYHctMTAgaC0xMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdHJhbnNpdGlvbiBzaGFkb3ctc20gJHtpbnRlcmFjdGl2ZU1vZGUgPyAnYmcteWVsbG93LTQwMCB0ZXh0LWJsYWNrIGhvdmVyOmJnLXllbGxvdy0zMDAnIDogc2VsZWN0ZWRUcmFja0lkID8gJ2JnLXppbmMtODAwIHRleHQtemluYy0xMDAgaG92ZXI6YmctemluYy03MDAnIDogJ2JnLXppbmMtOTAwIHRleHQtemluYy02MDAnfWAsIGNoaWxkcmVuOiBfanN4KEZ4SWNvbiwge30pIH0pXSB9KV0gfSldIH0pKTsKfTsK","@/components/Timeline":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMsIEZyYWdtZW50IGFzIF9GcmFnbWVudCB9IGZyb20gInJlYWN0L2pzeC1ydW50aW1lIjsKaW1wb3J0IFJlYWN0LCB7IGZvcndhcmRSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IFdhdmVmb3JtRGlzcGxheSBmcm9tICdAL2NvbXBvbmVudHMvV2F2ZWZvcm1EaXNwbGF5JzsKLy8gSWNvbnMKY29uc3QgQ2hldnJvbkxlZnRJY29uID0gKCkgPT4gX2pzeCgic3ZnIiwgeyBjbGFzc05hbWU6ICJ3LTQgaC00IHRleHQtYmxhY2siLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMyIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNMTUgMTlsLTctNyA3LTciIH0pIH0pOwpjb25zdCBDaGV2cm9uUmlnaHRJY29uID0gKCkgPT4gX2pzeCgic3ZnIiwgeyBjbGFzc05hbWU6ICJ3LTQgaC00IHRleHQtYmxhY2siLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMyIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNOSA1bDcgNy03IDciIH0pIH0pOwpjb25zdCBUcmFzaEljb24gPSAoKSA9PiBfanN4KCJzdmciLCB7IGNsYXNzTmFtZTogInctNCBoLTQiLCBmaWxsOiAibm9uZSIsIHN0cm9rZTogImN1cnJlbnRDb2xvciIsIHN0cm9rZVdpZHRoOiAiMiIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgc3Ryb2tlTGluZWNhcDogInJvdW5kIiwgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsIGQ6ICJNMTkgN2wtLjg2NyAxMi4xNDJBMiAyIDAgMDExNi4xMzggMjFINy44NjJhMiAyIDAgMDEtMS45OTUtMS44NThMNSA3bTUgNHY2bTQtNnY2bTEtMTBWNGExIDEgMCAwMC0xLTFoLTRhMSAxIDAgMDAtMSAxdjNNNCA3aDE2IiB9KSB9KTsKZXhwb3J0IGNvbnN0IFRpbWVsaW5lID0gZm9yd2FyZFJlZigoeyB0cmFja3MsIGN1cnJlbnRUaW1lLCB6b29tLCBtYXhEdXJhdGlvbiwgdG90YWxMYW5lcywgYmVhdER1cmF0aW9uLCBzZWxlY3Rpb24sIHNlbGVjdGVkVHJhY2tJZCwgZHJhZ2dpbmdUcmFja0lkLCB0cmltU3RhdGUsIGludGVyYWN0aXZlTW9kZSwgaXNUcmltTW9kZSwgaXNTY3J1YmJpbmcsIGxhbmVIZWlnaHQsIHBsYXloZWFkUmVmLCBpc1pvb21pbmcsIG9uU2Nyb2xsLCBvblRpbWVsaW5lUG9pbnRlckRvd24sIG9uUGxheWhlYWRQb2ludGVyRG93biwgb25QbGF5aGVhZFBvaW50ZXJNb3ZlLCBvblBsYXloZWFkUG9pbnRlclVwLCBvblRyYWNrUG9pbnRlckRvd24sIG9uVHJhY2tQb2ludGVyVXAsIG9uVHJhY2tQb2ludGVyQ2FuY2VsLCBvblRyaW1Qb2ludGVyRG93biwgb25UcmltUG9pbnRlclVwLCBvbkZhZGVIYW5kbGVQb2ludGVyRG93biwgb25NdXRlLCBvbkRlbGV0ZSwgb25TZWxlY3Rpb25DaGFuZ2UgfSwgcmVmKSA9PiB7CiAgICAvLyBTdHJpY3QgU2Nyb2xsIFByZXZlbnRpb24gZm9yIGlPUy9Nb2JpbGUKICAgIHVzZUVmZmVjdCgoKSA9PiB7CiAgICAgICAgY29uc3QgZWwgPSByZWYuY3VycmVudDsKICAgICAgICBpZiAoIWVsKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgY29uc3QgcHJldmVudERlZmF1bHRTY3JvbGwgPSAoZSkgPT4gewogICAgICAgICAgICAvLyAxLiBNdWx0aXRvdWNoOiBJZiBtb3JlIHRoYW4gMSBmaW5nZXIsIEFMV0FZUyBwcmV2ZW50IGRlZmF1bHQgKHNjcm9sbGluZykKICAgICAgICAgICAgaWYgKGUudG91Y2hlcy5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gMi4gRHJhZ2dpbmcvRWRpdGluZzogSWYgc3BlY2lmaWMgbW9kZXMgYXJlIGFjdGl2ZSwgcHJldmVudCBzY3JvbGwuCiAgICAgICAgICAgIC8vIE5vdGU6IGRyYWdnaW5nVHJhY2tJZCBpcyBzZXQgQUZURVIgbG9uZyBwcmVzcywgc28gaW5pdGlhbCBzd2lwZSBpcyBhbGxvd2VkLgogICAgICAgICAgICBpZiAoZHJhZ2dpbmdUcmFja0lkIHx8IGlzWm9vbWluZyB8fCB0cmltU3RhdGU/LmlzRHJhZ2dpbmcgfHwgaW50ZXJhY3RpdmVNb2RlPy5pc0RyYWdnaW5nIHx8IGlzU2NydWJiaW5nKSB7CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHByZXZlbnREZWZhdWx0U2Nyb2xsLCB7IHBhc3NpdmU6IGZhbHNlIH0pOwogICAgICAgIHJldHVybiAoKSA9PiB7CiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHByZXZlbnREZWZhdWx0U2Nyb2xsKTsKICAgICAgICB9OwogICAgfSwgW2RyYWdnaW5nVHJhY2tJZCwgaXNab29taW5nLCB0cmltU3RhdGUsIGludGVyYWN0aXZlTW9kZSwgaXNTY3J1YmJpbmcsIHJlZl0pOwogICAgLy8gQ2FsY3VsYXRlIGNvbnRlbnQgaGVpZ2h0IHRvIHJlZHVjZSBydWJiZXItYmFuZGluZwogICAgLy8gV2UgZ2l2ZSBleGFjdGx5IGVub3VnaCBzcGFjZSBmb3IgbGFuZXMgKyAxIGJ1ZmZlciBsYW5lCiAgICBjb25zdCBjb250ZW50SGVpZ2h0ID0gKHRvdGFsTGFuZXMgKyAxKSAqIGxhbmVIZWlnaHQ7CiAgICAvLyBFbnN1cmUgd2UgYXQgbGVhc3QgY292ZXIgdGhlIHZpZXdwb3J0IHNvIGl0IGRvZXNuJ3QgbG9vayBicm9rZW4gd2hlbiBlbXB0eQogICAgY29uc3QgbWluSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC0gMjAwOwogICAgY29uc3QgZmluYWxIZWlnaHQgPSBNYXRoLm1heChtaW5IZWlnaHQsIGNvbnRlbnRIZWlnaHQpOwogICAgcmV0dXJuIChfanN4KCJkaXYiLCB7IHJlZjogcmVmLCBjbGFzc05hbWU6IGByZWxhdGl2ZSBvdmVyZmxvdy14LWF1dG8gb3ZlcmZsb3cteS1hdXRvIGgtZnVsbCBvdmVyc2Nyb2xsLW5vbmUgJHtpc1pvb21pbmcgPyAnb3ZlcmZsb3ctaGlkZGVuJyA6ICd0b3VjaC1wYW4teCB0b3VjaC1wYW4teSd9YCwgb25TY3JvbGw6IG9uU2Nyb2xsLCBzdHlsZTogewogICAgICAgICAgICB0b3VjaEFjdGlvbjogKGlzWm9vbWluZyB8fCBkcmFnZ2luZ1RyYWNrSWQpID8gJ25vbmUnIDogJ2F1dG8nLAogICAgICAgICAgICB3aWxsQ2hhbmdlOiAnc2Nyb2xsLXBvc2l0aW9uJwogICAgICAgIH0sIGNoaWxkcmVuOiBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJyZWxhdGl2ZSIsIHN0eWxlOiB7IHdpZHRoOiBgJHtNYXRoLm1heCh3aW5kb3cuaW5uZXJXaWR0aCwgTWF0aC5tYXgobWF4RHVyYXRpb24sIGN1cnJlbnRUaW1lKSAqIHpvb20gKyA1MDApfXB4YCwgaGVpZ2h0OiBgJHtmaW5hbEhlaWdodH1weGAgfSwgb25Qb2ludGVyRG93bjogb25UaW1lbGluZVBvaW50ZXJEb3duLCBjaGlsZHJlbjogW19qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImFic29sdXRlIGluc2V0LTAgcG9pbnRlci1ldmVudHMtbm9uZSIsIGNoaWxkcmVuOiBbX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJhYnNvbHV0ZSBpbnNldC0wIG9wYWNpdHktMTAiLCBzdHlsZTogeyBiYWNrZ3JvdW5kSW1hZ2U6IGBsaW5lYXItZ3JhZGllbnQoOTBkZWcsICMzZjNmNDYgMXB4LCB0cmFuc3BhcmVudCAxcHgpYCwgYmFja2dyb3VuZFNpemU6IGAke3pvb20gKiBiZWF0RHVyYXRpb259cHggMTAwJWAgfSB9KSwgQXJyYXkuZnJvbSh7IGxlbmd0aDogdG90YWxMYW5lcyB9KS5tYXAoKF8sIGkpID0+IChfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogInctZnVsbCBib3JkZXItYiBib3JkZXItemluYy05MDAvNTAiLCBzdHlsZTogeyBoZWlnaHQ6IGAke2xhbmVIZWlnaHR9cHhgLCBiYWNrZ3JvdW5kQ29sb3I6IGkgJSAyID09PSAwID8gJ3JnYmEoMjQsIDI0LCAyNywgMC4yKScgOiAndHJhbnNwYXJlbnQnIH0sIGNoaWxkcmVuOiBfanN4cygic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC1bOXB4XSB0ZXh0LXppbmMtNzAwIHAtMiBmb250LW1vbm8iLCBjaGlsZHJlbjogWyJMIiwgaSArIDFdIH0pIH0sIGkpKSldIH0pLCBfanN4cygiZGl2IiwgeyByZWY6IHBsYXloZWFkUmVmLCBjbGFzc05hbWU6IGBhYnNvbHV0ZSB0b3AtMCBib3R0b20tMCB3LTYgLW1sLTMgei01MCBmbGV4IGp1c3RpZnktY2VudGVyIGdyb3VwICR7aXNTY3J1YmJpbmcgPyAnY3Vyc29yLWdyYWJiaW5nJyA6ICdjdXJzb3ItZ3JhYid9IHRvdWNoLW5vbmVgLCBzdHlsZTogeyB0cmFuc2Zvcm06IGB0cmFuc2xhdGVYKCR7Y3VycmVudFRpbWUgKiB6b29tfXB4KWAsIGhlaWdodDogJzEwMCUnLCB3aWxsQ2hhbmdlOiAndHJhbnNmb3JtJyB9LCBvblBvaW50ZXJEb3duOiBvblBsYXloZWFkUG9pbnRlckRvd24sIG9uUG9pbnRlck1vdmU6IG9uUGxheWhlYWRQb2ludGVyTW92ZSwgb25Qb2ludGVyVXA6IG9uUGxheWhlYWRQb2ludGVyVXAsIG9uUG9pbnRlckNhbmNlbDogb25QbGF5aGVhZFBvaW50ZXJVcCwgY2hpbGRyZW46IFtfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImFic29sdXRlIHRvcC0wIGJvdHRvbS0wIHctMC41IGJnLXJlZC01MDAgc2hhZG93LVswXzBfMTBweF9yZ2JhKDIzOSw2OCw2OCwwLjUpXSIgfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAic3RpY2t5IHRvcC0wIHctNCBoLTQgYmctcmVkLTUwMCByb3VuZGVkLWZ1bGwgc2hhZG93LW1kIHotNTAgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZ3JvdXAtaG92ZXI6c2NhbGUtMTI1IiB9KV0gfSksIHRyYWNrcy5tYXAoKHRyYWNrKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkVHJhY2tJZCA9PT0gdHJhY2suaWQ7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNEcmFnZ2luZ1RoaXMgPSBkcmFnZ2luZ1RyYWNrSWQgPT09IHRyYWNrLmlkOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzVHJpbUFjdGl2ZSA9IGlzU2VsZWN0ZWQgJiYgaXNUcmltTW9kZTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0ludGVyYWN0aXZlID0gaW50ZXJhY3RpdmVNb2RlPy50cmFja0lkID09PSB0cmFjay5pZDsKICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0F1dG9tYXRpb25BY3RpdmUgPSBpc0ludGVyYWN0aXZlICYmIGludGVyYWN0aXZlTW9kZT8udHlwZSA9PT0gJ2F1dG9tYXRpb24nOwogICAgICAgICAgICAgICAgICAgIGxldCB2aXN1YWxTdGFydFRpbWUgPSB0cmFjay5zdGFydFRpbWU7CiAgICAgICAgICAgICAgICAgICAgbGV0IHZpc3VhbER1cmF0aW9uID0gdHJhY2suZHVyYXRpb247CiAgICAgICAgICAgICAgICAgICAgbGV0IHZpc3VhbFRyaW1TdGFydCA9IHRyYWNrLnRyaW1TdGFydDsKICAgICAgICAgICAgICAgICAgICBpZiAoaXNUcmltQWN0aXZlICYmIHRyaW1TdGF0ZT8uaXNEcmFnZ2luZykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpbVN0YXRlLnNpZGUgPT09ICdzdGFydCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaGFuZ2UgPSB0cmltU3RhdGUuY3VycmVudERlbHRhOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZpc3VhbFRyaW1TdGFydCArIGNoYW5nZSA8IDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlID0gLXZpc3VhbFRyaW1TdGFydDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2aXN1YWxEdXJhdGlvbiAtIGNoYW5nZSA8IDAuMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UgPSB2aXN1YWxEdXJhdGlvbiAtIDAuMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc3VhbFN0YXJ0VGltZSArPSBjaGFuZ2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXN1YWxEdXJhdGlvbiAtPSBjaGFuZ2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXN1YWxUcmltU3RhcnQgKz0gY2hhbmdlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoYW5nZSA9IHRyaW1TdGF0ZS5jdXJyZW50RGVsdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmlzdWFsRHVyYXRpb24gKyBjaGFuZ2UgPCAwLjEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlID0gMC4xIC0gdmlzdWFsRHVyYXRpb247CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmlzdWFsVHJpbVN0YXJ0ICsgdmlzdWFsRHVyYXRpb24gKyBjaGFuZ2UgPiB0cmFjay5idWZmZXIuZHVyYXRpb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlID0gdHJhY2suYnVmZmVyLmR1cmF0aW9uIC0gKHZpc3VhbFRyaW1TdGFydCArIHZpc3VhbER1cmF0aW9uKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc3VhbER1cmF0aW9uICs9IGNoYW5nZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXJMZWZ0ID0gTWF0aC5yb3VuZCh2aXN1YWxTdGFydFRpbWUgKiB6b29tKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXJXaWR0aCA9IE1hdGgucm91bmQodmlzdWFsRHVyYXRpb24gKiB6b29tKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVXaWR0aCA9IDMyOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZUR1cmF0aW9uID0gaGFuZGxlV2lkdGggLyB6b29tOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzTGVmdERyYWdnaW5nID0gaXNUcmltQWN0aXZlICYmIHRyaW1TdGF0ZT8uaXNEcmFnZ2luZyAmJiB0cmltU3RhdGU/LnNpZGUgPT09ICdzdGFydCc7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNSaWdodERyYWdnaW5nID0gaXNUcmltQWN0aXZlICYmIHRyaW1TdGF0ZT8uaXNEcmFnZ2luZyAmJiB0cmltU3RhdGU/LnNpZGUgPT09ICdlbmQnOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGZhZGVJbkR1cmF0aW9uID0gdHJhY2suYWN0aXZlRWZmZWN0cz8uZmFkZUluIHx8IDA7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmFkZU91dER1cmF0aW9uID0gdHJhY2suYWN0aXZlRWZmZWN0cz8uZmFkZU91dCB8fCAwOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHdhdmVmb3JtSGVpZ2h0ID0gbGFuZUhlaWdodCAtIDIwOwogICAgICAgICAgICAgICAgICAgIC8vIERldGVybWluZSB0b3VjaC1hY3Rpb24KICAgICAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IHRvIHBhbi14IHBhbi15IChzY3JvbGxpbmcgYWxsb3dlZCkKICAgICAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIE9OTFkgaWYgY3VycmVudGx5IGRyYWdnaW5nLCByZXNpemluZywgb3IgaW50ZXJhY3Rpbmcgd2l0aCBoYW5kbGVzCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhY2tUb3VjaEFjdGlvbiA9IChpc0RyYWdnaW5nVGhpcyB8fCAoaXNUcmltQWN0aXZlICYmIHRyaW1TdGF0ZT8uaXNEcmFnZ2luZykgfHwgaW50ZXJhY3RpdmVNb2RlPy5pc0RyYWdnaW5nKQogICAgICAgICAgICAgICAgICAgICAgICA/ICdub25lJwogICAgICAgICAgICAgICAgICAgICAgICA6ICdwYW4teCBwYW4teSc7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6IGBhYnNvbHV0ZSByb3VuZGVkLWxnIGJvcmRlciBzZWxlY3Qtbm9uZSB0cmFjay1jbGlwIGdyb3VwICR7aXNEcmFnZ2luZ1RoaXMgPyAnei01MCBzaGFkb3ctMnhsIHJpbmctMiByaW5nLWN5YW4tNDAwIGN1cnNvci1ncmFiYmluZyBiZy16aW5jLTgwMCcgOiAnJ30gJHtpc1NlbGVjdGVkICYmICFpc0RyYWdnaW5nVGhpcyA/ICdiZy16aW5jLTgwMC85MCBib3JkZXItY3lhbi01MDAvNTAgcmluZy0xIHJpbmctY3lhbi01MDAvMjAgei00MCcgOiAnJ30gJHshaXNTZWxlY3RlZCAmJiAhaXNEcmFnZ2luZ1RoaXMgPyAnYmctemluYy05MDAvNjAgYm9yZGVyLXppbmMtODAwIGhvdmVyOmJnLXppbmMtODAwLzgwIHotMzAnIDogJyd9YCwgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGAke2NvbnRhaW5lckxlZnR9cHhgLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBgJHt0cmFjay5sYW5lICogbGFuZUhlaWdodCArIDEwfXB4YCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgJHtjb250YWluZXJXaWR0aH1weGAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGAke3dhdmVmb3JtSGVpZ2h0fXB4YCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbGxDaGFuZ2U6ICdsZWZ0LCB3aWR0aCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmVkIHRyYW5zaXRpb24gb24gbGVmdCBhbmQgd2lkdGggdG8gZW5zdXJlIHRyYWNrcyBzdGljayBwZXJmZWN0bHkgdG8gZ3JpZCBkdXJpbmcgem9vbQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogaXNEcmFnZ2luZ1RoaXMgfHwgKGlzVHJpbUFjdGl2ZSAmJiB0cmltU3RhdGU/LmlzRHJhZ2dpbmcpID8gJ25vbmUnIDogJ3RvcCAwLjJzIGVhc2Utb3V0LCB0cmFuc2Zvcm0gMC4xcyBlYXNlLW91dCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3VjaEFjdGlvbjogdHJhY2tUb3VjaEFjdGlvbgogICAgICAgICAgICAgICAgICAgICAgICB9LCBvblBvaW50ZXJEb3duOiAoZSkgPT4gb25UcmFja1BvaW50ZXJEb3duKGUsIHRyYWNrKSwgb25Qb2ludGVyVXA6IChlKSA9PiBvblRyYWNrUG9pbnRlclVwKGUsIHRyYWNrKSwgb25Qb2ludGVyQ2FuY2VsOiBvblRyYWNrUG9pbnRlckNhbmNlbCwgb25Db250ZXh0TWVudTogKGUpID0+IHsgZS5wcmV2ZW50RGVmYXVsdCgpOyBlLnN0b3BQcm9wYWdhdGlvbigpOyB9LCBjaGlsZHJlbjogWyFpc1RyaW1BY3RpdmUgJiYgIWlzRHJhZ2dpbmdUaGlzICYmICFpc0F1dG9tYXRpb25BY3RpdmUgJiYgKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImFic29sdXRlIHJpZ2h0LTEgdG9wLTEgei0yMCBmbGV4IGdhcC0xIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkiLCBjaGlsZHJlbjogW19qc3goImJ1dHRvbiIsIHsgb25Qb2ludGVyRG93bjogKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCksIG9uQ2xpY2s6IChlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IG9uTXV0ZSh0cmFjay5pZCwgIXRyYWNrLmlzTXV0ZWQpOyB9LCBjbGFzc05hbWU6IGBwLTEgcm91bmRlZCB0ZXh0LVs5cHhdIGZvbnQtYm9sZCAke3RyYWNrLmlzTXV0ZWQgPyAnYmctcmVkLTUwMCB0ZXh0LXdoaXRlJyA6ICdiZy16aW5jLTcwMCB0ZXh0LXppbmMtMzAwJ31gLCBjaGlsZHJlbjogIk0iIH0pLCBfanN4KCJidXR0b24iLCB7IG9uUG9pbnRlckRvd246IChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpLCBvbkNsaWNrOiAoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBvbkRlbGV0ZSh0cmFjay5pZCk7IH0sIGNsYXNzTmFtZTogInAtMSByb3VuZGVkIHRleHQtWzlweF0gYmctemluYy04MDAgaG92ZXI6YmctcmVkLTkwMC84MCB0ZXh0LXppbmMtNDAwIGhvdmVyOnRleHQtd2hpdGUiLCBjaGlsZHJlbjogX2pzeChUcmFzaEljb24sIHt9KSB9KV0gfSkpLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJhYnNvbHV0ZSBsZWZ0LTIgdG9wLTEgei0xMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBwb2ludGVyLWV2ZW50cy1ub25lIG1heC13LWZ1bGwgb3ZlcmZsb3ctaGlkZGVuIiwgY2hpbGRyZW46IFtfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LVsxMHB4XSBmb250LWJvbGQgdGV4dC16aW5jLTMwMCBzaGFkb3ctYmxhY2sgZHJvcC1zaGFkb3ctbWQgdHJ1bmNhdGUiLCBjaGlsZHJlbjogdHJhY2submFtZSB9KSwgdHJhY2suY3Jvc3NmYWRlTWV0YWRhdGEgJiYgX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC1bOXB4XSBweC0xIGJnLWN5YW4tOTAwLzUwIHJvdW5kZWQgdGV4dC1jeWFuLTMwMCIsIGNoaWxkcmVuOiAiTGlua2VkIiB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogYGFic29sdXRlIGluc2V0LXgtMCBib3R0b20tMCB0b3AtMCBwdC01ICR7aXNUcmltQWN0aXZlID8gJ292ZXJmbG93LWhpZGRlbiByaW5nLTIgcmluZy15ZWxsb3ctNDAwLzUwIGJnLXllbGxvdy05MDAvMTAnIDogJyd9ICR7aXNBdXRvbWF0aW9uQWN0aXZlID8gJ3JpbmctMiByaW5nLXllbGxvdy00MDAvMzAnIDogJyd9YCwgY2hpbGRyZW46IFtfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImgtZnVsbCBhYnNvbHV0ZSB0b3AtMCBsZWZ0LTAgdy1mdWxsIHB0LTUiLCBjaGlsZHJlbjogX2pzeChXYXZlZm9ybURpc3BsYXksIHsgYnVmZmVyOiB0cmFjay5idWZmZXIsIHN0YXJ0VGltZTogdmlzdWFsU3RhcnRUaW1lLCB0cmltU3RhcnQ6IHZpc3VhbFRyaW1TdGFydCwgZHVyYXRpb246IHZpc3VhbER1cmF0aW9uLCBjdXJyZW50VGltZTogY3VycmVudFRpbWUsIHNlbGVjdGlvbjogaXNTZWxlY3RlZCA/IHNlbGVjdGlvbiA6IG51bGwsIG9uU2VsZWN0aW9uQ2hhbmdlOiBvblNlbGVjdGlvbkNoYW5nZSwgY29sb3I6IHRyYWNrLmNvbG9yLCB6b29tOiB6b29tLCBmYWRlSW5EdXJhdGlvbjogZmFkZUluRHVyYXRpb24sIGZhZGVPdXREdXJhdGlvbjogZmFkZU91dER1cmF0aW9uLCBoZWlnaHQ6IHdhdmVmb3JtSGVpZ2h0IC0gMjAsIGF1dG9tYXRpb25Qb2ludHM6IGlzQXV0b21hdGlvbkFjdGl2ZSA/IHRyYWNrLnZvbHVtZUF1dG9tYXRpb24gOiB1bmRlZmluZWQgfSkgfSksIGlzVHJpbUFjdGl2ZSAmJiAoX2pzeHMoX0ZyYWdtZW50LCB7IGNoaWxkcmVuOiBbX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6IGBhYnNvbHV0ZSB0b3AtMCBib3R0b20tMCBsZWZ0LTAgdy04IGJhY2tkcm9wLWJsdXItc20gcm91bmRlZC1sLW1kIGN1cnNvci1ldy1yZXNpemUgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei01MCBzaGFkb3ctbGcgdG91Y2gtbm9uZSBvdmVyZmxvdy1oaWRkZW4gYmcteWVsbG93LTQwMCByaW5nLTEgcmluZy1ibGFjay8xMCBncm91cGAsIG9uUG9pbnRlckRvd246IChlKSA9PiBvblRyaW1Qb2ludGVyRG93bihlLCB0cmFjaywgJ3N0YXJ0JyksIG9uUG9pbnRlclVwOiAoZSkgPT4gb25UcmltUG9pbnRlclVwKGUsIHRyYWNrKSwgY2hpbGRyZW46IGlzTGVmdERyYWdnaW5nID8gKF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiYWJzb2x1dGUgaW5zZXQtMCBwb2ludGVyLWV2ZW50cy1ub25lIG9wYWNpdHktOTAiLCBjaGlsZHJlbjogX2pzeChXYXZlZm9ybURpc3BsYXksIHsgYnVmZmVyOiB0cmFjay5idWZmZXIsIHN0YXJ0VGltZTogMCwgdHJpbVN0YXJ0OiB2aXN1YWxUcmltU3RhcnQsIGR1cmF0aW9uOiBoYW5kbGVEdXJhdGlvbiwgY3VycmVudFRpbWU6IC0xLCBzZWxlY3Rpb246IG51bGwsIG9uU2VsZWN0aW9uQ2hhbmdlOiAoKSA9PiB7IH0sIGNvbG9yOiAiIiwgY29sb3JPdmVycmlkZTogIiMwMDAwMDAiLCB6b29tOiB6b29tLCBmYWRlSW5EdXJhdGlvbjogZmFkZUluRHVyYXRpb24sIGZhZGVPdXREdXJhdGlvbjogZmFkZU91dER1cmF0aW9uLCBoZWlnaHQ6IHdhdmVmb3JtSGVpZ2h0IC0gMjAgfSkgfSkpIDogKF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiei0xMCB0ZXh0LWJsYWNrIiwgY2hpbGRyZW46IF9qc3goQ2hldnJvbkxlZnRJY29uLCB7fSkgfSkpIH0pLCBfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogYGFic29sdXRlIHRvcC0wIGJvdHRvbS0wIHJpZ2h0LTAgdy04IGJhY2tkcm9wLWJsdXItc20gcm91bmRlZC1yLW1kIGN1cnNvci1ldy1yZXNpemUgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei01MCBzaGFkb3ctbGcgdG91Y2gtbm9uZSBvdmVyZmxvdy1oaWRkZW4gYmcteWVsbG93LTQwMCByaW5nLTEgcmluZy1ibGFjay8xMCBncm91cGAsIG9uUG9pbnRlckRvd246IChlKSA9PiBvblRyaW1Qb2ludGVyRG93bihlLCB0cmFjaywgJ2VuZCcpLCBvblBvaW50ZXJVcDogKGUpID0+IG9uVHJpbVBvaW50ZXJVcChlLCB0cmFjayksIGNoaWxkcmVuOiBpc1JpZ2h0RHJhZ2dpbmcgPyAoX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJhYnNvbHV0ZSBpbnNldC0wIHBvaW50ZXItZXZlbnRzLW5vbmUgb3BhY2l0eS05MCIsIGNoaWxkcmVuOiBfanN4KFdhdmVmb3JtRGlzcGxheSwgeyBidWZmZXI6IHRyYWNrLmJ1ZmZlciwgc3RhcnRUaW1lOiAwLCB0cmltU3RhcnQ6IHZpc3VhbFRyaW1TdGFydCArIHZpc3VhbER1cmF0aW9uIC0gaGFuZGxlRHVyYXRpb24sIGN1cnJlbnRUaW1lOiAtMSwgc2VsZWN0aW9uOiBudWxsLCBvblNlbGVjdGlvbkNoYW5nZTogKCkgPT4geyB9LCBjb2xvcjogIiIsIGNvbG9yT3ZlcnJpZGU6ICIjMDAwMDAwIiwgem9vbTogem9vbSwgZmFkZUluRHVyYXRpb246IGZhZGVJbkR1cmF0aW9uLCBmYWRlT3V0RHVyYXRpb246IGZhZGVPdXREdXJhdGlvbiwgaGVpZ2h0OiB3YXZlZm9ybUhlaWdodCAtIDIwIH0pIH0pKSA6IChfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogInotMTAgdGV4dC1ibGFjayIsIGNoaWxkcmVuOiBfanN4KENoZXZyb25SaWdodEljb24sIHt9KSB9KSkgfSldIH0pKV0gfSksIGlzSW50ZXJhY3RpdmUgJiYgKF9qc3hzKF9GcmFnbWVudCwgeyBjaGlsZHJlbjogW2ludGVyYWN0aXZlTW9kZT8udHlwZSA9PT0gJ2ZhZGVJbicgJiYgKF9qc3hzKF9GcmFnbWVudCwgeyBjaGlsZHJlbjogW19qc3hzKCJzdmciLCB7IGNsYXNzTmFtZTogImFic29sdXRlIGluc2V0LXgtMCBib3R0b20tMCB0b3AtNSBwb2ludGVyLWV2ZW50cy1ub25lIHotNTAgb3ZlcmZsb3ctdmlzaWJsZSIsIHN0eWxlOiB7IGhlaWdodDogJzEwMCUnIH0sIGNoaWxkcmVuOiBbX2pzeCgicG9seWdvbiIsIHsgcG9pbnRzOiBgMCwwICR7ZmFkZUluRHVyYXRpb24gKiB6b29tfSwwIDAsJHt3YXZlZm9ybUhlaWdodH1gLCBmaWxsOiAicmdiYSgyNTAsIDIwNCwgMjEsIDAuMikiIH0pLCBfanN4KCJsaW5lIiwgeyB4MTogIjAiLCB5MTogIjEwMCUiLCB4MjogZmFkZUluRHVyYXRpb24gKiB6b29tLCB5MjogIjAiLCBzdHJva2U6ICIjZmFjYzE1Iiwgc3Ryb2tlV2lkdGg6ICIyIiB9KV0gfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiZmFkZS1oYW5kbGUgYWJzb2x1dGUgdG9wLTAgaC01IHctNiB6LVs2MF0gY3Vyc29yLWdyYWIgYWN0aXZlOmN1cnNvci1ncmFiYmluZyB0b3VjaC1ub25lIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIiwgc3R5bGU6IHsgbGVmdDogYCR7ZmFkZUluRHVyYXRpb24gKiB6b29tIC0gMTJ9cHhgIH0sIG9uUG9pbnRlckRvd246IG9uRmFkZUhhbmRsZVBvaW50ZXJEb3duLCBjaGlsZHJlbjogX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ3LTAgaC0wIGJvcmRlci1sLVs4cHhdIGJvcmRlci1sLXRyYW5zcGFyZW50IGJvcmRlci1yLVs4cHhdIGJvcmRlci1yLXRyYW5zcGFyZW50IGJvcmRlci10LVsxNHB4XSBib3JkZXItdC15ZWxsb3ctNDAwIGRyb3Atc2hhZG93LW1kIGhvdmVyOnNjYWxlLTExMCB0cmFuc2l0aW9uLXRyYW5zZm9ybSBtYi0wLjUiIH0pIH0pXSB9KSksIGludGVyYWN0aXZlTW9kZT8udHlwZSA9PT0gJ2ZhZGVPdXQnICYmIChfanN4cyhfRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtfanN4cygic3ZnIiwgeyBjbGFzc05hbWU6ICJhYnNvbHV0ZSBpbnNldC14LTAgYm90dG9tLTAgdG9wLTUgcG9pbnRlci1ldmVudHMtbm9uZSB6LTUwIG92ZXJmbG93LXZpc2libGUiLCBzdHlsZTogeyBoZWlnaHQ6ICcxMDAlJyB9LCBjaGlsZHJlbjogW19qc3goInBvbHlnb24iLCB7IHBvaW50czogYCR7KHZpc3VhbER1cmF0aW9uIC0gZmFkZU91dER1cmF0aW9uKSAqIHpvb219LDAgJHt2aXN1YWxEdXJhdGlvbiAqIHpvb219LDAgJHt2aXN1YWxEdXJhdGlvbiAqIHpvb219LCR7d2F2ZWZvcm1IZWlnaHR9YCwgZmlsbDogInJnYmEoMjUwLCAyMDQsIDIxLCAwLjIpIiB9KSwgX2pzeCgibGluZSIsIHsgeDE6ICh2aXN1YWxEdXJhdGlvbiAtIGZhZGVPdXREdXJhdGlvbikgKiB6b29tLCB5MTogIjAiLCB4MjogdmlzdWFsRHVyYXRpb24gKiB6b29tLCB5Mjogd2F2ZWZvcm1IZWlnaHQsIHN0cm9rZTogIiNmYWNjMTUiLCBzdHJva2VXaWR0aDogIjIiIH0pXSB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJmYWRlLWhhbmRsZSBhYnNvbHV0ZSB0b3AtMCBoLTUgdy02IHotWzYwXSBjdXJzb3ItZ3JhYiBhY3RpdmU6Y3Vyc29yLWdyYWJiaW5nIHRvdWNoLW5vbmUgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1lbmQiLCBzdHlsZTogeyBsZWZ0OiBgJHsodmlzdWFsRHVyYXRpb24gLSBmYWRlT3V0RHVyYXRpb24pICogem9vbSAtIDEyfXB4YCB9LCBvblBvaW50ZXJEb3duOiBvbkZhZGVIYW5kbGVQb2ludGVyRG93biwgY2hpbGRyZW46IF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAidy0wIGgtMCBib3JkZXItbC1bOHB4XSBib3JkZXItbC10cmFuc3BhcmVudCBib3JkZXItci1bOHB4XSBib3JkZXItci10cmFuc3BhcmVudCBib3JkZXItdC1bMTRweF0gYm9yZGVyLXQteWVsbG93LTQwMCBkcm9wLXNoYWRvdy1tZCBob3ZlcjpzY2FsZS0xMTAgdHJhbnNpdGlvbi10cmFuc2Zvcm0gbWItMC41IiB9KSB9KV0gfSkpXSB9KSldIH0sIHRyYWNrLmlkKSk7CiAgICAgICAgICAgICAgICB9KV0gfSkgfSkpOwp9KTsK"}}</script>
        <script>
          window.APPLET_FILES = ["index.tsx","metadata.json","index.html","types.ts","constants.ts","services/audioUtils.ts","services/geminiService.ts","components/Button.tsx","components/WaveformDisplay.tsx","components/AIGeneratorModal.tsx","App.tsx","components/EffectsModal.tsx","components/ExportModal.tsx","components/BeatMakerModal.tsx","services/storageService.ts","manifest.json","sw.js","components/Header.tsx","components/TransportControls.tsx","components/Timeline.tsx"];
          </script>
        <script type="module">
        (() => {
  if (window.self === window.top) {
    // Do not run the shim in the main window, only in iframes.
    return;
  }

  window.API_KEY = 'GEMINI_API_KEY';
  window.GEMINI_API_KEY = 'GEMINI_API_KEY';
  window.process = window.process || {};
  window.process.env = window.process.env || {};
  window.process.env.API_KEY = window.API_KEY;
  window.process.env.GEMINI_API_KEY = window.GEMINI_API_KEY;

  const bootstrapChannel = new Promise((resolve) => {
    window.addEventListener('message', (event) => {
      if (event.origin !== 'https://aistudio.google.com') {
        return;
      }

      if (event.data.type === 'bootstrap') {
        resolve({
          port: event.ports[0],
          urlPatterns:
              event.data.urlPatterns.map((pattern) => new RegExp(pattern)),
        });
      }
    });
  });

  window.aistudio = window.aistudio || {
    handleFullscreenEsc: true,
    getHostUrl: async function() {
      const hostPort = (await bootstrapChannel).port;
      return new Promise((resolve) => {
        const channel = new MessageChannel();
        hostPort.postMessage(
            {type: 'get_host_url'},
            [channel.port2]);
        const port = channel.port1;
        port.onmessage = (message) => {
          resolve(message.data.url);
        };
      });
    },
    hasSelectedApiKey: async function() {
      const hostPort = (await bootstrapChannel).port;
      return new Promise((resolve) => {
        const channel = new MessageChannel();
        hostPort.postMessage(
            {type: 'has_selected_api_key'},
            [channel.port2]);
        const port = channel.port1;
        port.onmessage = (message) => {
          resolve(message.data);
        };
      });
    },
    openSelectKey: async function() {
      const hostPort = (await bootstrapChannel).port;
      const channel = new MessageChannel();
      hostPort.postMessage(
          {type: 'open_select_key'},
          [channel.port2]);
    },
    getModelQuota: async function(model) {
      const hostPort = (await bootstrapChannel).port;
      return new Promise((resolve) => {
        const channel = new MessageChannel();
        hostPort.postMessage(
            {type: 'get_model_quota', model},
            [channel.port2]);
        const port = channel.port1;
        port.onmessage = (message) => {
          resolve(message.data.modelQuota);
        };
      });
    },
  };

  const nativeFetch = window.fetch;

  /**
   * @param {string | URL | Request} resource The resource of the fetch request.
   * @param {RequestInit} options The options of the fetch request.
   * @return {Promise!} The promise of the fetch request.
   */
  async function fetch(resource, options) {
    const config = await bootstrapChannel;

    const request = resource instanceof Request ?
      resource.clone() :
      new Request(resource, options);

    if (!config.urlPatterns.some((pattern) => request.url.match(pattern))) {
      return nativeFetch(resource, options);
    }
    const hostPort = config.port;

    const channel = new MessageChannel();
    const port = channel.port1;
    let bodyBytes;
    const transfer = [channel.port2];
    const parts = [];
    const buffer = await request.arrayBuffer();
    if (buffer.byteLength) {
      bodyBytes = buffer;
      transfer.push(bodyBytes);
    }
    hostPort.postMessage(
        {
          type: 'fetch',
          url: request.url,
          method: request.method,
          headers: [...request.headers.entries()],
          body: bodyBytes,
        },
        transfer);

    let streamController;
    const body = new ReadableStream({
      start(controller) {
        streamController = controller;
      },
    });
    let resolveReceive;
    const receivePromise = new Promise((resolve) => {
      resolveReceive = resolve;
    });
    port.onmessage = (message) => {
      switch (message.data.type) {
        case 'response':
          resolveReceive(new Response(body, {
            status: message.data.status,
            statusText: message.data.statusText,
            headers: new Headers(message.data.headers),
          }));
          break;
        case 'body':
          streamController.enqueue(message.data.data);
          break;
        case 'body_done':
          streamController.close();
          break;
      }
    };
    return receivePromise;
  }

  Object.defineProperty(window, 'fetch', {
    get: function() {
      return fetch;
    },
  });

  // See details in: https://github.com/angular/angular/issues/63064.
  function patchHistoryStateFunctionForAngular(originalFn, baseHref) {
    return (state, unused, url) => {
      if (typeof url === 'string' && !url.startsWith('blob:')) {
        url = baseHref + url;
      }
      return originalFn.apply(window.history, [state, unused, url]);
    };
  }

  if (false) {
    const baseHref = window.location.href;
    window.history.replaceState = patchHistoryStateFunctionForAngular(window.history.replaceState, baseHref);
    window.history.pushState = patchHistoryStateFunctionForAngular(window.history.pushState, baseHref);
  }

  const originalWebSocket = window.WebSocket;
  class ProxiedWebSocket extends EventTarget {
    /**
     * @param {string} url The url of the websocket.
     * @param {Object!} protocols The protocols of the websocket.
     */
    constructor(url, protocols) {
      super();
      this.url = url;
      this.protocols = protocols;

      this.open();
    }

    /** Opens the websocket. */
    async open() {
      const hostPort = (await bootstrapChannel).port;
      const channel = new MessageChannel();
      hostPort.postMessage(
          {type: 'websocket_open', url: this.url, protocols: this.protocols},
          [channel.port2]);
      this.port = channel.port1;
      this.port.onmessage = (message) => {
        if (message.data.type === 'close') {
          const event = new CloseEvent('close', {
            code: message.data.code,
            reason: message.data.reason,
            wasClean: message.data.wasClean,
          });
          if (this.onclose) {
            this.onclose(event);
          }
          this.dispatchEvent(event);
          return;
        } else if (message.data.type === 'open') {
          const event = new Event('open');
          if (this.onopen) {
            this.onopen(event);
          }
          this.dispatchEvent(event);
          return;
        } else if (message.data.type === 'message') {
          let data = message.data.data;
          if (message.data.messageType === 'text' || message.data.messageType === 'message') {
            data = new TextDecoder().decode(data);
          }
          const event = new MessageEvent('message', {
            data,
            type: message.data.messageType,
          });
          if (this.onmessage) {
            this.onmessage(event);
          }
          this.dispatchEvent(event);
          return;
        } else if (message.data.type === 'error') {
          const event = new ErrorEvent('error', {
            message: message.data.message,
          });
          if (this.onerror) {
            this.onerror(event);
          }
          this.dispatchEvent(event);
          return;
        }
        console.error('received unknown message in frame', event.data);
      };
    }
    /**
     * @param {string|ArrayBuffer!} data The data to send.
     */
    send(data) {
      if (typeof data === 'string') {
        this.port.postMessage({type: 'send', data});
      } else {
        this.port.postMessage({type: 'send', data}, [data.buffer]);
      }
    }

    /**
     * @param {number} code The code of the close event.
     * @param {string} reason The reason of the close event.
     */
    close(code, reason) {
      this.port.postMessage({type: 'close', code, reason});
    }
  }

  /**
   * @param {string} url The url of the websocket.
   * @param {Object!} protocols The protocols of the websocket.
   * @return {WebSocket!} The websocket.
   */
  function createWebSocket(url, protocols) {
    // This should come from the bootstrap channel, but we want this to
    // work for the synchronous constructor here.
    if (url.startsWith('wss://generativelanguage.googleapis.com/')) {
      return Reflect.construct(ProxiedWebSocket, [url, protocols]);
    }
    return Reflect.construct(originalWebSocket, [url, protocols]);
  }

  Object.defineProperty(window, 'WebSocket', {
    get: function() {
      return createWebSocket;
    },
  });

  async function instrumentErrorReporting() {
    const errors = [];
    let hostPort;

    function reportError(message) {
      if (!hostPort) {
        errors.push(message);
      } else {
        hostPort.postMessage({type: 'error', message: message}, message);
      }
    }

    function serialize(args) {
      return args.map((a) => {
        if (a instanceof Error || a instanceof ErrorEvent) {
          return a.message;
        }
        if(a instanceof CloseEvent) {
          return {code: a.code, reason: a.reason, wasClean: a.wasClean};
        }
        if( a instanceof Map) {
          return JSON.parse(JSON.stringify([...a.entries()]));
        }
        if( a instanceof Set) {
          return JSON.parse(JSON.stringify([...a.values()]));
        }
        if (a instanceof Object) {
          return JSON.parse(JSON.stringify(a));
        }
        return a;
      });
    }

    const originalConsole = window.console;
    const originalConsoleLog = window.console.log;
    const originalConsoleError = window.console.error;
    const originalConsoleWarn = window.console.warn;
    const originalConsoleDebug = window.console.debug;
    window.console = {
      ...originalConsole,
      log: (message, ...args) => {
        originalConsoleLog.apply(window.console, [message, ...args]);
        const combined = serialize([message, ...args]);
        reportError({type: 'console_log', message: combined });
      },
      debug: (message, ...args) => {
        originalConsoleDebug.apply(window.console, [message, ...args]);
        const combined = serialize([message, ...args]);
        reportError({type: 'console_debug', message: combined });
      },
      error: (message, ...args) => {
        originalConsoleError.apply(window.console, [message, ...args]);
        const combined = serialize([message, ...args]);
        reportError({type: 'console_error', message: combined });
      },
      warn: (message, ...args) => {
        originalConsoleWarn.apply(window.console, [message, ...args]);
        const combined = serialize([message, ...args]);
        reportError({type: 'console_warn', message: combined });
      },
    };

    window.onerror = (message, source, lineno, colno, error) => {
      reportError({type: 'error', message: serialize([message]), source, lineno, colno, error});
    };

    window.onunhandledrejection = (event) => {
      reportError({type: 'unhandledrejection', message: serialize([event.reason])});
    };

    window.alert = (message) => {
      reportError({type: 'alert', message: serialize([message]) });
    };

    hostPort = (await bootstrapChannel).port;
    for(const error of errors) {
      hostPort.postMessage({type: 'error', message: error});
    }
  }

  const availableFiles = new Set(window.APPLET_FILES || []);

  instrumentErrorReporting();

  if (false) {
    const notifyLocationChange = async () => {
      const hostPort = (await bootstrapChannel).port;
      hostPort.postMessage({type: 'locationchange', href: location.href});
    };

    // Send initial state on load.
    notifyLocationChange();

    const originalPushState = history.pushState;
    history.pushState = (...args) => {
      originalPushState.apply(history, args);
      notifyLocationChange();
    };

    const originalReplaceState = history.replaceState;
    history.replaceState = (...args) => {
      originalReplaceState.apply(history, args);
      notifyLocationChange();
    };
    window.addEventListener('popstate', (e) => {
      notifyLocationChange();
    });
  }

  window.addEventListener('hashchange', async (e) =>{
    const config = await bootstrapChannel;
    const hostPort = config.port;
    hostPort.postMessage({type: 'hashchange', hash: window.location.hash});
    if (false) {
      hostPort.postMessage({
        type: 'locationchange',
        href: location.href,
      });
    }
  });

  if (true) {
    const script = document.createElement('script');
    script.src = 'https://cdn.jsdelivr.net/npm/html2canvas-pro';
    script.onload = () => {
      window.addEventListener('message', async (event) => {
        if (event.data?.type === 'capture-screenshot') {
          try {
            const canvas = await html2canvas(document.documentElement, {
              logging: false,
              useCORS: true,
              backgroundColor: null,
              scale: 1,
            });
            const hostPort = (await bootstrapChannel).port;
            hostPort.postMessage(
              {
                type: 'screenshot-result',
                dataUrl: canvas.toDataURL('image/png'),
                requestId: event.data.requestId,
                scrollX: document.body.scrollLeft,
                scrollY: document.body.scrollTop,
              },
            );
          } catch (e) {
            const hostPort = (await bootstrapChannel).port;
            hostPort.postMessage(
              {
                type: 'screenshot-error',
                error: e.message,
                requestId: event.data.requestId,
              });
          }
        }
      });
    };
    document.head.appendChild(script);
  }

  if (false) {
    const MAX_ANCESTOR_LEVEL = 3;
    const MAX_DESCENDANT_LEVEL = 3;

    function getElementSelector(el) {
      if (!el || el.nodeType !== 1) {
        return '';
      }
      const parts = [];
      while(el && el.nodeType === 1 && el.tagName.toLowerCase() !== 'body') {
        let part = el.tagName.toLowerCase();
        if (el.id) {
          part += '#' + CSS.escape(el.id);
        }

        const parent = el.parentElement;
        if (parent) {
          let nth = 1;
          let prev = el.previousElementSibling;
          while(prev) {
            if (prev.tagName === el.tagName) {
              nth++;
            }
            prev = prev.previousElementSibling;
          }
          part += ':nth-of-type(' + nth + ')';
        }

        parts.unshift(part);
        el = el.parentElement;
      }
      return parts.join(' > ');
    }

    function getDomTreeAsString(element, depth, maxDepth) {
      if (!element || element.nodeType !== 1 || depth > maxDepth) {
        return '';
      }
      const tagName = element.tagName.toLowerCase();
      let attrs = [];
      if (element.id) {
        attrs.push('id="' + element.id + '"');
      }
      if (element.classList.length > 0) {
        attrs.push('class="' + element.classList.value + '"');
      }
      const attrString = attrs.length > 0 ? ' ' + attrs.join(' ') : '';

      let content = '';
      for (const node of element.childNodes) {
        if (node.nodeType === 1) { // Element node
          content += getDomTreeAsString(node, depth + 1, maxDepth);
        } else if (node.nodeType === 3) { // Text node
          content += node.textContent;
        }
      }

      return '<' + tagName + attrString + '>' + content + '</' + tagName + '>';
    }

    const style = document.createElement('style');
    style.textContent =
      '.aistudio-focus-mode-highlight { box-shadow: inset 0 0 0 0.5px white, inset 0 0 0 1.5px #87a9ff !important; }' +
      '#aistudio-focus-mode-tag { position: absolute; display: none; background: #87a9ff; border-radius: 4px; border: 0.5px solid white; z-index: 10000; text-transform: lowercase; padding: 2px 4px; color: #32302c; font-family: Inter, sans-serif; font-size: 12px; font-style: normal; font-weight: 400; line-height: 16px; pointer-events: none; }';
    document.head.appendChild(style);

    let highlightedElement = null;
    let focusTag = null;
    let resizeObserver = null;
    let iframeLoaded = false;

    function positionFocusTag() {
      if (!highlightedElement || !focusTag) return;
      requestAnimationFrame(() => {
        focusTag.style.display = 'inline-flex';
        const rect = highlightedElement.getBoundingClientRect();
        focusTag.style.top =
          rect.top + window.scrollY - focusTag.offsetHeight - 5 + 'px';
        focusTag.style.left = rect.left + window.scrollX + 'px';
      });
    }

    if (window.ResizeObserver) {
      resizeObserver = new ResizeObserver(() => {
        positionFocusTag();
      });
    }

    function highlight(element) {
      if (!iframeLoaded) return; // Do not highlight if iframe is not loaded
      if (!focusTag) {
        focusTag = document.createElement('div');
        focusTag.id = 'aistudio-focus-mode-tag';
        document.body.appendChild(focusTag);
      }

      const hadHighlightedElement = !!highlightedElement;
      if (highlightedElement) {
        highlightedElement.classList.remove('aistudio-focus-mode-highlight');
        highlightedElement.removeAttribute('data-aistudio-tag-name');
        if (resizeObserver) {
          resizeObserver.unobserve(highlightedElement);
        }
      }
      focusTag.style.display = 'none';
      highlightedElement = element;
      const hasHighlightedElement = !!highlightedElement;

      if (!hadHighlightedElement && hasHighlightedElement) {
        window.addEventListener('resize', positionFocusTag);
        window.addEventListener('scroll', positionFocusTag, true);
      } else if (hadHighlightedElement && !hasHighlightedElement) {
        window.removeEventListener('resize', positionFocusTag);
        window.removeEventListener('scroll', positionFocusTag, true);
      }

      if (highlightedElement) {
        highlightedElement.setAttribute(
          'data-aistudio-tag-name',
          highlightedElement.tagName,
        );
        highlightedElement.classList.add('aistudio-focus-mode-highlight');
        focusTag.textContent = highlightedElement.tagName.toLowerCase();
        positionFocusTag();
        if (resizeObserver) {
          resizeObserver.observe(highlightedElement);
        }
      }
    }

    window.addEventListener('load', () => {
      iframeLoaded = true;
    });

    window.addEventListener('message', async (event) => {
      if (event.data?.type === 'highlight-element-at-point') {
        try {
          const element = document.elementFromPoint(
            event.data.x,
            event.data.y,
          );
          highlight(element);
        } catch (e) {
          highlight(null);
        }
      } else if (event.data?.type === 'highlight-element-by-selector') {
        try {
          const selector = event.data.selector;
          if (selector) {
            const element = document.querySelector(selector);
            highlight(element);
          } else {
            highlight(null);
          }
        } catch (e) {
          highlight(null);
        }
      } else if (event.data?.type === 'get-element-at-point') {
        try {
          const element = document.elementFromPoint(
            event.data.x,
            event.data.y,
          );
          const hostPort = (await bootstrapChannel).port;
          if (!element) {
            hostPort.postMessage({
              type: 'element-at-point-error',
              error: 'No element found at point',
              requestId: event.data.requestId,
            });
            return;
          }
          const selector = getElementSelector(element);

          let levelsUp = 0;
          let root = element;
          while(levelsUp < MAX_ANCESTOR_LEVEL && root.parentElement && root.parentElement.tagName.toLowerCase() !== 'html') {
            root = root.parentElement;
            levelsUp++;
          }
          const domString = getDomTreeAsString(root, 0, levelsUp + MAX_DESCENDANT_LEVEL);

          const styles = window.getComputedStyle(element);
          const css = {};
          for (let i = 0; i < styles.length; i++) {
            const key = styles[i];
            css[key] = styles.getPropertyValue(key);
          }
          hostPort.postMessage({
            type: 'element-at-point-result',
            element: {
              selector: selector,
              domString: domString,
              css: css,
              x: event.data.x,
              y: event.data.y,
            },
            requestId: event.data.requestId,
          });
        } catch (e) {
          const hostPort = (await bootstrapChannel).port;
          hostPort.postMessage({
            type: 'element-at-point-error',
            error: e.message,
            requestId: event.data.requestId,
          });
        }
      } else if (event.data?.type === 'change-element-style') {
        try {
          const selector = event.data.selector;
          if (selector) {
            const element = document.querySelector(selector);
            if (element) {
              element.style.setProperty(
                event.data.property,
                event.data.value,
                'important',
              );
              positionFocusTag();
            }
          }
        } catch (e) {}
      }
    });
  }

  window.addEventListener('keydown', async (event) => {
    if (event.key === 'Escape' && window.aistudio?.handleFullscreenEsc) {
      const hostPort = (await bootstrapChannel).port;
      hostPort.postMessage({type: 'exit-fullscreen'});
    }
  });
})();
// # sourceURL=iframe_shim.js
        </script>
        <base href="https://ai.studio"/>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>SonicPocket AI</title>
    
    <!-- PWA Setup -->
    <link rel="manifest" href="/manifest.json?v=3" />
    <meta name="theme-color" content="#09090b" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="SonicPocket" />
    
    <!-- Standard Favicon (Browser Tabs) -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI3LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAyNCAxMDI0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+Cjx1YXR0ZXJuICB3aWR0aD0iODIuMDc4MDk0NSIgaGVpZ2h0PSI4Mi4wNzg1OTgiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIGlkPSJVbm5hbWVkX1BhdHRlcm5fMSIgdmlld0JveD0iNDMuNzkzNDk5IC04Ny43Nzc4MDE1IDgyLjA3ODA5NDUgODIuMDc4NTk4IiBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiPgoJPGc+CgkJPHJlY3QgeD0iNDMuNzkzNDk5IiB5PSItODcuNzc3ODAxNSIgc3R5bGU9ImZpbGw6bm9uZTsiIHdpZHRoPSI4Mi4wNzgwOTQ1IiBoZWlnaHQ9IjgyLjA3ODU5OCIvPgoJCTxyZWN0IHg9IjQzLjc5MzQ5OSIgeT0iLTg3Ljc3NzgwMTUiIHN0eWxlPSJmaWxsOiNCQ0JFQzA7IiB3aWR0aD0iODIuMDc4MDk0NSIgaGVpZ2h0PSI4Mi4wNzg1OTgiLz4KCQk8bGluZSBzdHlsZT0iZmlsbDojRkZGRkZGOyIgeDE9IjI1LjkzNDA5OTIiIHkxPSItMTAuMjU5OCIgeDI9IjMwLjQ5MjcwMDYiIHkyPSItNS42OTkyMDAyIi8+CgkJPGxpbmUgc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHgxPSIyNS45MzQwOTkyIiB5MT0iLTUuNjk5MjAwMiIgeDI9IjMwLjQ5MjcwMDYiIHkyPSItMTAuMjU5OCIvPgoJCTxyZWN0IHg9IjM4LjA5NDIwMDEiIHk9Ii00Ny44NzgzOTg5IiBzdHlsZT0iZmlsbDojODA4Mjg1OyIgd2lkdGg9IjkxLjE5NzI5NjEiIGhlaWdodD0iNC41NTk5OTk5Ii8+CgkJPHJlY3QgeD0iMzguMDk0MjAwMSIgeT0iLTIwLjUxOTUwMDciIHN0eWxlPSJmaWxsOiM4MDgyODU7IiB3aWR0aD0iOTEuMTk3Mjk2MSIgaGVpZ2h0PSI0LjU2MDUwMDEiLz4KCQk8cmVjdCB4PSIzOC4wOTQyMDAxIiB5PSItNzUuMjM3ODAwNiIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI5MS4xOTcyOTYxIiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjM4LjA5NDIwMDEiIHk9Ii01Ni45OTg1MDA4IiBzdHlsZT0iZmlsbDojODA4Mjg1OyIgd2lkdGg9IjkxLjE5NzI5NjEiIGhlaWdodD0iNC41NTk1MDAyIi8+CgkJPHJlY3QgeD0iMzguMDk0MjAwMSIgeT0iLTI5LjYzODcwMDUiIHN0eWxlPSJmaWxsOiM4MDgyODU7IiB3aWR0aD0iOTEuMTk3Mjk2MSIgaGVpZ2h0PSI0LjU2MDU5OTgiLz4KCQk8cmVjdCB4PSIzOC4wOTQyMDAxIiB5PSItODQuMzU3OTAyNSIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI5MS4xOTcyOTYxIiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjE2LjgxMjk5OTciIHk9Ii03NS4yMzc4MDA2IiBzdHlsZT0iZmlsbDojQTdBOUFDOyIgd2lkdGg9IjkuMTIxMTAwNCIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSI4MS40MTI1OTc3IiB5PSItOTEuMTk3Nzk5NyIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI0LjU2MDUwMDEiIGhlaWdodD0iOTEuMTk3Nzk5NyIvPgoJCTxyZWN0IHg9IjEwOC43NzIwMDMyIiB5PSItOT.MTk3Nzk5NyIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI0LjU2MDQ5NzMiIGhlaWdodD0iOTEuMTk3Nzk5NyIvPgoJCTxyZWN0IHg9IjU0LjA1MzE5OTgiIHk9Ii05MS4xOTc3OTk3IiBzdHlsZT0iZmlsbDojODA4Mjg1OyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI5MS4xOTc3OTk3Ii8+CgkJPHJlY3QgeD0iOTAuNTMxNzAwMSIgeT0iLTkxLjE5Nzc5OTciIHN0eWxlPSJmaWxsOiM4MDgyODU7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjkxLjE5Nzc5OTciLz4KCQk8cmVjdCB4PSIxMTcuODkxMDk4IiB5PSItOTEuMTk3Nzk5NyIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI0LjU2MDU5OTgiIGhlaWdodD0iOTEuMTk3Nzk5NyIvPgoJCTxyZWN0IHg9IjYzLjE3MjQwMTQiIHk9Ii05MS4xOTc3OTk3IiBzdHlsZT0iZmlsbDojODA4Mjg1OyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI5MS4xOTc3OTk3Ii8+CgkJPHJlY3QgeD0iMTAuNzM0OTAwNSIgeT0iLTg1Ljg3NzQwMzMiIHN0eWxlPSJmaWxsOiNBN0E5QUM7IiB3aWR0aD0iNC41NTg1OTk5IiBoZWlnaHQ9IjkuMTE5MDk5NiIvPgoJCQoJCQk8bGluZSBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMjMxRjIwO3N0cm9rZS13aWR0aDowLjk1O3N0cm9rZS1saW5lY2FwOnNxdWFyZTsiIHgxPSI0Mi45ODY4MDExIiB5MT0iLTM2LjQ3ODUwMDQiIHgyPSIxMjYuNjMxMjk0MyIgeTI9Ii0zNi40Nzg1MDA0Ii8+CgkJCgkJCTxsaW5lIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMyMzFGMjA7c3Ryb2tlLXdpZHRoOjAuOTU7c3Ryb2tlLWxpbmVjYXA6c3F1YXJlOyIgeDE9IjQyLjk4NjgwMTEiIHkxPSItOS4xMTkwOTk2IiB4Mj0iMTI2LjYzMTI5NDMiIHkyPSItOS4xMTkwOTk2Ii8+CgkJCgkJCTxsaW5lIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMyMzFGMjA7c3Ryb2tlLXdpZHRoOjAuOTU7c3Ryb2tlLWxpbmVjYXA6c3F1YXJlOyIgeDE9IjQyLjk4NjgwMTEiIHkxPSItNjMuODM4NDAxOCIgeDI9IjEyNi42MzEyOTQzIiB5Mj0iLTYzLjgzODQwMTgiLz4KCQkKCQkJPGxpbmUgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzIzMUYyMDtzdHJva2Utd2lkdGg6MC45NTtzdHJva2UtbGluZWNhcDpzcXVhcmU7IiB4MT0iMC40NzUxIiB5MT0iLTYzLjgzODQwMTgiIHgyPSIzMS4yNTQ0MDAzIiB5Mj0iLTYzLjgzODQwMTgiLz4KCQkKCQkJPGxpbmUgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzIzMUYyMDtzdHJva2Utd2lkdGg6MC45NTtzdHJva2UtbGluZWNhcDpzcXVhcmU7IiB4MT0iNzQuNTcyNzk5NyIgeTE9Ii04OC41Mzc1OTc3IiB4Mj0iNzQuNTcyNzk5NyIgeTI9Ii00Ljg5MjYwMDEiLz4KCQkKCQkJPGxpbmUgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzIzMUYyMDtzdHJva2Utd2lkdGg6MC45NTtzdHJva2UtbGluZWNhcDpzcXVhcmU7IiB4MT0iMTAxLjkzMjA5ODQiIHkxPSItODguNTM3NTk3NyIgeDI9IjEwMS45MzIwOTg0IiB5Mj0iLTQuODkyNjAwMSIvPgoJCQoJCQk8bGluZSBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMjMxRjIwO3N0cm9rZS13aWR0aDowLjk1O3N0cm9rZS1saW5lY2FwOnNxdWFyZTsiIHgxPSI0Ny4yMTM0MDE4IiB5MT0iLTg4LjUzNzU5NzciIHgyPSI0Ny4yMTM0MDE4IiB5Mj0iLTQuODkyNjAwMSIvPgoJCQoJCQk8bGluZSBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMjMxRjIwO3N0cm9rZS13aWR0aDowLjk1O3N0cm9rZS1saW5lY2FwOnNxdWFyZTsiIHgxPSIzLjg5MzEiIHkxPSItOTEuMTk3Nzk5NyIgeDI9IjMuODkzMSIgeTI9Ii02MC40MTg0OTkiLz4KCQk8cmVjdCB4PSIxMC43MzQ5MDA1IiB5PSItNzUuMjM3ODAwNiIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU1ODU5OTkiIGhlaWdodD0iNC41NTk1OTk5Ii8+CgkJPHJlY3QgeD0iNTQuMDUzMTk5OCIgeT0iLTc1LjIzNzgwMDYiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjYzLjE3MjQwMTQiIHk9Ii04NC4zNTc5MDI1IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSI2My4xNzI0MDE0IiB5PSItNzUuMjM3ODAwNiIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDUwMDEiIGhlaWdodD0iNC41NTk1OTk5Ii8+CgkJPHJlY3QgeD0iNTQuMDUzMTk5OCIgeT0iLTg0LjM1NzkwMjUiIHN0eWxlPSJmaWxsOiM4MDgyODU7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjgxLjQxMjU5NzciIHk9Ii03NS4yMzc4MDA2IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSI5MC41MzE3MDAxIiB5PSItODQuMzU3OTAyNSIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDU5OTgiIGhlaWdodD0iNC41NTk1OTk5Ii8+CgkJPHJlY3QgeD0iOTAuNTMxNzAwMSIgeT0iLTc1LjIzNzgwMDYiIHN0eWxlPSJmaWxsOiM4MDgyODU7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjgxLjQxMjU5NzciIHk9Ii04NC4zNTc5MDI1IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSIxMDguNzcyMDAzMiIgeT0iLTc1LjIzNzgwMDYiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA0OTczIiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjExNy44OTEwOTgiIHk9Ii04NC4zNTc5MDI1IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSIxMTcuODkxMDk4IiB5PSItNzUuMjM3ODAwNiIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDU5OTgiIGhlaWdodD0iNC41NTk1OTk5Ii8+CgkJPHJlY3QgeD0iMTA4Ljc3MjAwMzIiIHk9Ii04NC4zNTc5MDI1IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNDk3MyIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSI1NC4wNTMzMTk5OCIgeT0iLTQ3Ljg3ODM5ODkiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5OTk5OSIvPgoJCTxyZWN0IHg9IjYzLjE3MjQwMTQiIHk9Ii01Ni45OTg1MDA4IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU1OTUwMDIiLz4KCQk8cmVjdCB4PSI2My4xNzI0MDE0IiB5PSItNDcuODc4Mzk4OSIgc3R5bGU9ImZpbGw6IzNENEQ0RjsiIHdpZHRoPSI0LjU2MDUwMDEiIGhlaWdodD0iNC41NTk5OTk5Ii8+CgkJPHJlY3QgeD0iNTQuMDUzMTk5OCIgeT0iLTU2Ljk5ODUwMDgiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5NTAwMiIvPgoJCTxyZWN0IHg9IjgxLjQxMjU5NzciIHk9Ii00Ny44NzgzOTg5IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU1OTk5OTkiLz4KCQk8cmVjdCB4PSI5MC41MzE3MDAxIiB5PSItNTYuOTk4NTAwOCIgc3R5bGU9ImZpbGw6IzNENEQ0Rjsigd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU1OTUwMDIiLz4KCQk8cmVjdCB4PSI5MC41MzE3MDAxIiB5PSItNDcuODc4Mzk4OSIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDU5OTgiIGhlaWdodD0iNC41NTk5OTk5Ii8+CgkJPHJlY3QgeD0iODEuNDEyNTk3NyIgeT0iLTU2Ljk5ODUwMDgiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1MDAxIiBoZWlnaHQ9IjQuNTU5NTAwMiIvPgoJCTxyZWN0IHg9IjEwOC43NzIwMDMyIiB5PSItNDcuODc4Mzk4OSIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDQ5NzMiIGhlaWdodD0iNC41NTk5OTk5Ii8+CgkJPHJlY3QgeD0iMTE3Ljg5MTA5OCIgeT0iLTU2Ljk5ODUwMDgiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5NTAwMiIvPgoJCTxyZWN0IHg9IjExNy44OTEwOTgiIHk9Ii00Ny44NzgzOTg5IiBzdHlsZT0iZmlsbDojM2Q0RDRGOyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU1OTk5OTkiLz4KCQk8cmVjdCB4PSIxMDguNzcyMDAzMiIgeT0iLTU2Ljk5ODUwMDgiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA0OTczIiBoZWlnaHQ9IjQuNTU5NTAwMiIvPgoJCTxyZWN0IHg9IjU0LjA1MzE5OTgiIHk9Ii0yMC41MTk1MDA3IiBzdHlsZT0iZmlsbDojM2Q0RDRGOyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU2MDUwMDEiLz4KCQk8cmVjdCB4PSI2My4xNzI0MDE0IiB5PSIyOS42Mzg3MDA1IiBzdHlsZT0iZmlsbDojM2Q0RDRGOyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU2MDU5OTkiLz4KCQk8cmVjdCB4PSI2My4xNzI0MDE0IiB5PSItMjAuNTE5NTAwNyIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI0LjU2MDUwMDEiIGhlaWdodD0iNC41NjA1MDAxIi8+CgkJPHJlY3QgeD0iNTQuMDUzMTk5OCIgeT0iMjkuNjM4NzAwNSIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDU5OTgiIGhlaWdodD0iNC41NjA1OTk5Ii8+CgkJPHJlY3QgeD0iODEuNDEyNTk3NyIgeT0iLTIwLjUxOTUwMDciIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1MDAxIiBoZWlnaHQ9IjQuNTU2MDUwMDEiLz4KCQk8cmVjdCB4PSI5MC41MzE3MDAxIiB5PSIyOS42Mzg3MDA1IiBzdHlsZT0iZmlsbDojODA4Mjg1OyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU2MDU5OTgiLz4KCQk8cmVjdCB4PSI5MC41MzE3MDAxIiB5PSItMjAuNTE5NTAwNyIgc3R5bGU9ImZpbGw6IzNENEQ0Rjsigd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU2MDUwMDEiLz4KCQk8cmVjdCB4PSI4MS40MTI1OTc3IiB5PSIyOS42Mzg3MDA1IiBzdHlsZT0iZmlsbDojM2Q0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU2MDU5OTkiLz4KCQk8cmVjdCB4PSIxMDguNzcyMDAzMiIgeT0iLTIwLjUxOTUwMDciIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA0OTczIiBoZWlnaHQ9IjQuNTYwNTAwMSIvPgoJCTxyZWN0IHg9IjExNy44OTEwOTgiIHk9IjI5LjYzODcwMDUiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTYwNTk5OCIvPgoJCTxyZWN0IHg9IjExNy44OTEwOTgiIHk9Ii0yMC41MTk1MDA3IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU2MDUwMDEiLz4KCQk8cmVjdCB4PSIxMDguNzcyMDAzMiIgeT0iLTI5LjYzODcwMDUiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA0OTczIiBoZWlnaHQ9IjQuNTYwNTk5OCIvPgoJPC9nPgo8L3BhdHRlcm4+CjxnIGlkPSJCYWNrZ3JvdW5kIj4KCQoKCQk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lkXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjEzNy4wODcxNDI5IiB5MT0iMTAuMDUwNTU2MiIgeDI9Ijg4OC43MDY2MDQiIHkyPSIxMDE2LjM1MDk1MjEiPgoJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiMxRkNCRTciLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjUiIHN0eWxlPSJzdG9wLWNvbG9yOiM3ODgxRUYiLz4KCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojQ0M1RERDIi8+Cgk8L2xpbmVhckdyYWRpZW50PgoJPHJlY3Qgc3R5bGU9ImZpbGw6dXJsKCNTVkdJZF8xXyk7IiB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0Ii8+Cgk8ZyBpZD0iQXJyb3dfMjUiPgoJPC9nPgoJPGcgaWQ9IkFycm93XzIiPgoJPC9nPgo8L2c+CjxnIGlkPSJfeDMxX19fX3gyMDEzX19MYXllciI+Cgk8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTMxMS4xMDIwNTA4LDc4MC42NTgyMDMxYy02LjA5NzE2OCwwLTExLjM3MzUzNTItNC40Mzg0NzY2LTEyLjMzNjkxNDEtMTAuNTU2NjQwNgoJCWwtMzcuNjIyNTU4Ni0yMzguOTMxNjQwNkMyNjAuNTM0NjY4LDUyNC4zMDQ2ODc1LDI1Ny4yNTM0MTgsNTI0LjUsMjUzLjM0MDgyMDMsNTI0LjVIMTI4Ljc4NDE3OTcKCQljLTYuOTAzMzIwMywwLTEyLjUtNS41OTY2Nzk3LTEyLjUtMTIuNXM1LjU5NjY3OTctMTIuNSwxMi41LTEyLjVoMTI0LjU1NjY0MDYKCQljMTYuMjk2Mzg2NywwLDI5Ljk2MzM3ODksMTEuNjg0MDgyLDMyLjQ5ODA0NjksMjcuNzgxMjVsMTIuNzczOTI1OCw4MS4xMjY5NTMxVjI1NS44NDI3NzM0CgkJYzAtNi43MDM2MTMzLDUuMjg4MDg1OS0xMi4yMTM4NjcyLDExLjk4NTgzOTgtMTIuNDg5MjU3OGM2LjY5NDgyNDItMC4yODk1NTA4LDEyLjQyMDg5ODQsNC43ODEyNSwxMi45NzE2Nzk3LDExLjQ2MTkxNDEKCQlsMjguNDk5NTExNywzNDUuNTM1MTU2MmwyNy4yNjMxODM2LTI5OS4wNjgzNTk0YzAuNTg0NDcyNy02LjQxMTYyMTEsNS45NDMzNTk0LTExLjMzMTA1NDcsMTIuMzgxODM1OS0xMS4zNjUyMzQ0CgkJYzYuMDY5MzM1OS0wLjAyMDAxOTUsMTEuODQ5MTIxMSw0LjgyODEyNSwxMi41MDE5NTMxLDExLjIzMjkxMDJsMjguNjc1MjkzLDI4MS40NDY3NzczbDI3LjE0MDEzNjctMjM1LjA0MDAzOTEKCQljMC43MjM2MzI4LTYuMjY1MTM2Nyw2LjAwMDk3NjYtMTEuMDEwMjUzOSwxMi4zMDgxMDU1LTExLjA2NTQyOTdjNi4zMjEyODkxLTAuMDY2ODk0NSwxMS42NjY5OTIyLDQuNTk2Njc5NywxMi41LDEwLjg0ODYzMjgKCQlsMjguOTc1MDk3NywyMTcuNDcwNzAzMWwyNi45NTUwNzgxLTE3MS4xODk5NDE0YzAuOTQ0MzM1OS01Ljk5ODUzNTIsNi4wNjM0NzY2LTEwLjQ1MDY4MzYsMTIuMTM1NzQyMi0xMC41NTM3MTA5CgkJYzYuMDY5MzM1OS0wLjEzMTM0NzcsMTEuMzM4ODY3Miw0LjE3MjM2MzMsMTIuNDg2MzI4MSwxMC4xMzU3NDIyTDU5NC45Nzk0OTIyLDU0Ni45Mzc1bDI2LjY3MzgyODEtMTA3LjgwMDc4MTIKCQljMS4zMjkxMDE2LTUuMzc0MDIzNCw2LjAzNTE1NjItOS4yMzI5MTAyLDExLjU2NTQyOTctOS40ODQzNzVjNS41NDk4MDQ3LTAuMjQ3MDcwMywxMC41NjczODI4LDMuMTY0NTUwOCwxMi4zNzk4ODI4LDguMzk1NTA3OAoJCWwzMS4zNzc5Mjk3LDkwLjU4MTA1NDdsMjYuNjU0Mjk2OS00Ni4xNjYwMTU2YzEuNjU3MjI2Ni0yLjg3MTA5MzgsNC4zODc2OTUzLTQuOTY2MzA4Niw3LjU4OTg0MzgtNS44MjQyMTg4CgkJYzMuMjAzMTI1LTAuODU2OTMzNiw2LjYxNDI1NzgtMC40MDkxNzk3LDkuNDg1MzUxNiwxLjI0OTAyMzRsMjguODIxMjg5MSwxNi42NDA2MjUKCQlDNzU1LjE2MTEzMjgsNDk3Ljc4MDc2MTcsNzYxLjU3ODEyNSw0OTkuNSw3NjguMDgzMDA3OCw0OTkuNSw3NjguMDgzMDA3OCw0OTkuNWgxMjguNzAxMTcxOWM2LjkwMzMyMDMsMCwxMi41LDUuNTk2Njc5NywxMi41LDEyLjUKCQlzLTUuNTk2Njc5NywxMi41LTEyLjUsMTIuNUg3NjguMDgzMDA3OGMtMTAuODg2NzE4OCwwLTIxLjYyNTk3NjYtMi44NzY5NTMxLTMxLjA1NTY2NDEtOC4zMjEyODkxTDcxOS4wMzEyNSw1MDUuNzg4NTc0MgoJCWwtMzQuMDg0OTYwOSw1OS4wMzU2NDQ1Yy0yLjQ0NjI4OTEsNC4yMzYzMjgxLTcuMTM3Njk1Myw2LjY1ODIwMzEtMTIuMDExNzE4OCw2LjE5MzM1OTQKCQljLTQuODcxMDkzOC0wLjQ2Mzg2NzItOS4wMjM0Mzc1LTMuNzI4NTE1Ni0xMC42MjUtOC4zNTE1NjI1bC0yNi41MjI0NjA5LTc2LjU2NTkxOGwtMzAuMjAwMTk1MywxMjIuMDUwMjkzCgkJYy0xLjM4MjgxMjUsNS41OTA4MjAzLTYuMzk5NDE0MSw5LjQ5ODA0NjktMTIuMTMwODU5NCw5LjQ5ODA0NjljLTAuMTA5Mzc1LDAtMC4yMTk3MjY2LTAuMDAwOTc2Ni0wLjMzMTA1NDctMC4wMDM5MDYyCgkJYy01Ljg2NzE4NzUtMC4xNTQyOTY5LTEwLjgzNjkxNDEtNC4zNzAxMTcyLTExLjk0NjI4OTEtMTAuMTMzNzg5MWwtMjYuODI5MTAxNi0xMzkuNDAzMzIwM2wtMjkuMjE3NzczNCwxODUuNTU4NTkzOAoJCWMtMC45NTgwMDc4LDYuMDgzOTg0NC02LjIwMTE3MTksMTAuNTU1NjY0MS0xMi4zNDUyMTQ4DEwLjU1NTY2NDFjLTAuMDUwMjkzLDAtMC4xMDAwOTc3LDAtMC4xNTA4Nzg5LTAuMDAwOTc2NgoJCWMtNi4yMDg0OTYxLTAuMDczMjQyMi0xMS40MjE4NzUtNC42OTMzNTk0LTEyLjI0MjE4NzUtMTAuODQ4NjMyOGwtMjcuMDU3NjE3Mi0yMDMuMDgyNTE5NWwtMjguODAyNzM0NCwyNDkuNDM5OTQxNAoJCWMtMC43Mjg1MTU2LDYuMzEwNTQ2OS02LjA3MzI0MjIsMTEuMDY1NDI5Ny0xMi40MTYwMTU2LDExLjA2NjQwNjJjLTAuMDI4ODA4NiwwLTAuMDU2NjQwNiwwLTAuMDg1NDQ5MiwwCgkJYy02LjM4MDg1OTQtMC4wNDI5Njg4LTExLjcwNDU4OTgtNC44ODQ3NjU2LTEyLjM1MTU2MjUtMTEuMjMzMzk4NGwtMjcuMjA3NTE5NS0yNjcuMDM4NTc0MmwtMjguNTc3MTQ4NCwzMTMuNDgwOTU3CgkJYy0wLjU4NjkxNDEsNi40Mzk0NTMxLTUuOTg3NzkzLDExLjM2NDI1NzgtMTIuNDQ3MjY1NiwxMS4zNjUyMzQ0Yy0wLjAxODU1NDcsMC0wLjAzNjEzMjgsMC0wLjA1NDY4NzUsMAoJCWMtNi40ODQ4NjMzLTAuMDI4MzIwMy0xMS44NzEwOTM4LTUuMDA5NzY1Ni0xMi40MDM4MDg2LTExLjQ3MjY1NjJMMzIzLjYxMjc5Myw1NTkuNDY1ODIwM3YyMDguNjkxNDA2MgoJCWMwLDYuNTI1MzkwNi01LjAxOTUzMTIsMTEuOTUzMTI1LTExLjUyNDkwMjMsMTIuNDYxOTE0MUMzMTEuNzU3ODEyNSw3ODAuNjQ0NTMxMiwzMTEuNDI4MjIyNyw3ODAuNjU4MjAzMSwzMTEuMTAyMDUwOCw3ODAuNjU4MjAzMQoJCXoiLz4KPC9nPgo8ZyBpZD0iX3gyX19fX3gyMDEzX19MYXllciI+Cgk8cmVjdCB4PSIwIiB5PSItMC4wMDAwMDgiIHN0eWxlPSJmaWxsOiNGQUNDMTQ7IiB3aWR0aD0iMTI4Ljc4NDIyNTUiIGhlaWdodD0iMTAyNCIvPgoJCgk8cmVjdCB4PSI4OTYuNzg0MjQwNyIgeT0iLTAuMDAwMDA4IiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAtMS4yMjQ2NDdlLTE2IDEuMjI0NjQ3ZS0xNiAtMSAxOTIwLjc4NDE3OTcgMTAyNCkiIHN0eWxlPSJmaWxsOiNGQUNDMTQ7IiB3aWR0aD0iMTI3LjIxNTc4MjIiIGhlaWdodD0iMTAyNCIvPgo8L2c+CjxnIGlkPSJfeDNfX19feDIwMTNfX0xheWVyIj4KCTxwYXRoIGQ9Ik05NS41NzAzMTI1LDY1MS4wMDI5Mjk3Yy01LjE0MTExMzMsMC0xMC4wODkzNTU1LTIuODQxNzk2OS0xMi41Mzk1NTA4LTcuNzU0ODgyOGwtNjIuMzM0OTYwOS0xMjUKCQljLTEuOTYxNDI1OC0zLjkzNDU3MDMtMS45NjE0MjU4LTguNTYxNTIzNCwwLTEyLjQ5NTYwNTVsNjIuMzM0OTYwOS0xMjUKCQljMy40NTA2ODM2LTYuOTE5OTIxOSwxMS44NTc0MjE5LTkuNzMxOTMzNiwxOC43NzYzNjcyLTYuMjgxMjVjNi45MTk0MzM2LDMuNDUwNjgzNiw5LjczMTQ0NTMsMTE4LTYuMjgxMjUsMTguNzc2MzY3MgoJClM0OC44Njg2NTIzLDUxMmwtNTkuMjE5NzI2NiwxMTguNzUxOTUzMWMzLjQ1MDE5NTMsNi45MTk5MjE5LDAuNjM4MTgzNiwxNS4zMjYxNzE5LTYuMjgxMjUsMTguNzc2MzY3MgoJCUM5OS44MDEyNjk1LDY1MC41MjkyOTY5LDk3LjY2OTQzMzYsNjUxLjAwMjkyOTcsOTUuNTcwMzEyNSw2NTEuMDAyOTI5N3oiLz4KCTxwYXRoIGQ9Ik05MjkuMjEzODY3Miw2NTEuMDAyOTI5N2MtMi4wOTk2MDk0LDAtNC4yMzA0Njg4LTAuNDczNjMyOC02LjIzNzMwNDctMS40NzQ2MDk0CgkJYy02LjkxODk0NTMtMy40NTAxOTUzLTkuNzMxNDQ1My0xMS44NTY0NDUzLTYuMjgwMjczNC0xOC43NzYzNjcyTDk3NS45MTUwMzkxLDUxMmwtNTkuMjE4NzUtMTE4Ljc1MjQ0MTQKCQljLTMuNDUxMTcxOS02LjkxODk0NTMtMC42Mzg2NzE5LTE1LjMyNTY4MzYsNi4yODAyNzM0LTE4Ljc3NjM2NzJjNi45MTg5NDUzLTMuNDUwMTk1MywxNS4zMjYxNzE5LTAuNjM4NjcxOSwxOC43NzYzNjcyLDYuMjgxMjUKCQlsNjIuMzM0OTYwOSwxMjVjMS45NjE5MTQxMuOTM0MDgyLDEuOTYxOTE0MSw4LjU2MTAzNTIsMCwxMi40OTU2MDU1bC02Mi4zMzQ5NjA5LDEyNQoJCUM5MzkuMzAzNzEwOSw2NDguMTYxMTMyOCw5MzQuMzU0NDkyMiw2NTEuMDAyOTI5Nyw5MjkuMjEzODY3Miw2NTEuMDAyOTI5N3oiLz4KPC9nPgo8ZyBpZD0iQXBwX0ljb25fU2hhcGUiPgoJPGc+CgkJPHBhdGggZD0iTTAsMHYxMDI0aDEwMjRWMHl6IE0xMDIzLjk5OTkzOSw2NTAuOTk5OTM5YzAsMTQuMjQyNzM2OCwwLjAwNTkyMDQsMjguNDgzMjE1My0wLjA4NDA0NTQsNDIuNzI1OTUyMQoJCQljLTAuMDY4OTA4NywxMS45OTYzOTg5LTAuMjA3Mjc1NCwyMy45OTAxNzMzLTAuNTMyMzQ4NiwzNS45ODI5NzEyYy0wLjcwODMxMywyNi4xMzM2MDYtMi4yNDY0Niw1Mi40OTQwNzk2LTYuODkyMDg5OCw3OC4zMzc1ODU0CgkJCWMtNC43MTI3Njg2LDI2LjIxNzE2MzEtMTIuNDAzOTkxNyw1MC42MTc1NTM3LTI0LjUyODg2OTYsNzQuNDM3OTI3MgoJCQljLTExLjkxNzA1MzIsMjMuNDEyMTA5NC0yNy40ODkwMTM3LDQ0LjgzNjk3NTEtNDYuMDY1MTI0NSw2My40MTMwODU5cy00MC4wMDA5NzY2LDM0LjE0ODA3MTMtNjMuNDEzMDg1OSw0Ni4wNjUxMjQ1CgkJCWMtMjMuODIwMzczNSwxMi4xMjQ4Nzc5LTQ4LjIyMDcwMzEsMTkuODE2MDQtNzQuNDM3OTI3MiwyNC41Mjg4Njk2CgkJCWMtMjUuODQzNDQ0OCw0LjY0NTYyOTktNTIuMjAzOTc5NSw2LjE4Mzc3NjktNzguMzM3NTg1NCw2Ljg5MjA4OTgKCQkJYy0xMS45OTI3OTc5LDAuMzI1MDczMi0yMy45ODY1NzIzLDAuNDYzNDM5OS0zNS45ODI5MTAyLDAuNTMyMzQ4NgoJCQljLTE0LjI0MjczNjgsMC4wODk5NjU4LTI4LjQ4MzIxNTMsMC4wODM5ODQ0LTQyLjcyNTk1MjEsMC4wODM5ODQ0SDM3M2MtMTQuMjQyNzM2OCwwLTI4LjQ4MzIxNTMsMC4wMDU5ODE0LTQyLjcyNTk1MjEsLTAuMDgzOTg0NAoJCQljLTExLjk5NjMzNzktMC4wNjg5MDg3LTIzLjk5MDExMjMtMC4yMDcyNzU0LTM1OTgyOTEwMi0wLjUzMjM0ODZjLTI2LjEzMzYwNi0wLjcwODMxMy01Mi40OTQxNDA2LTIuMjQ2NDYtNzguMzM3NTg1NC02Ljg5MjA4OTgKCQkJYy0yNi4yMTcyMjQxLTQuNzEyODI5Ni01MC42MTc1NTM3LTEyLjQwMzk5MTctNzQuNDM3OTI3Mi0yNC41Mjg4Njk2CgkJCWMtMjMuNDEyMTA5NC0xMS45MTcwNTMyLTQ0LjgzNjk3NTEtMjcuNDg5MDEzNy02My40MTMwODU5LTQ2LjA2NTEyNDVzLTM0LjE0ODA3MTMtNDAuMDAwOTc2Ni00Ni4wNjUxMjQ1LTYzLjQxMzA4NTkKCQkJYy0xMi4xMjQ4Nzc5LTIzLjgyMDM3MzUtMTkuODE2MTAxMS00OC4yMjA3NjQyLTI0LjUyODg2OTYtNzQuNDM3OTI3MgoJCQljLTQuNjQ1NjI5OS0yNS44NDM1MDU5LTYuMTgzNzc2OS01Mi4yMDM5Nzk1LTYuODkyMDg5OC03OC4zMzc1ODU0CgkJCWMtMC4zMjUwNzMyLTExLjk5Mjc5NzktMC40NjM0Mzk5LTIzLjk4NjU3MjMtMC41MzIzNDg2LTM1OTgyOTEwMgoJCQljLTAuMDkwMDI2OS0xNC4yNDI3MzY4LTAuMDg0MDQ1NC0yOC40ODMyMTUzLTAuMDg0MDQ1NC00Mi43MjU5NTIxYzYuMjgxMjVsMTIuNzczOTI1OCw4MS4xMjY5NTMxVjI1NS44NDI3NzM0CgkJYzAtNi43MDM2MTMzLDUuMjg4MDg1OS0xMi4yMTM4NjcyLDExLjk4NTgzOTgtMTIuNDg5MjU3OGM2LjY5NDgyNDItMC4yODk1NTA4LDEyLjQyMDg5ODQsNC43ODEyNSwxMi45NzE2Nzk3LDExLjQ2MTkxNDEKCQlsMjguNDk5NTExNywzNDUuNTM1MTU2MmwyNy4yNjMxODM2LTI5OS4wNjgzNTk0YzAuNTg0NDcyNy02LjQxMTYyMTEsNS45NDMzNTk0LTExLjMzMTA1NDcsMTIuMzgxODM1OS0xMS4zNjUyMzQ0CgkJYzYuMzkzMDY2NC0wLjAyMDAxOTUsMTEuODQ5MTIxMSw0LjgyODEyNSwxMi41MDE5NTMxLDExLjIzMjkxMDJsMjguNjc1MjkzLDI4MS40NDY3NzczbDI3LjE0MDEzNjctMjM1LjA0MDAzOTEKCQljMC43MjM2MzI4LTYuMjY1MTM2Nyw2LjAwMDk3NjYtMTEuMDEwMjUzOSwxMi4zMDgxMDU1LTExLjA2NTQyOTdjNi4zMjEyODkxLTAuMDY2ODk0NSwxMS42NjY5OTIyLDQuNTk2Njc5NywxMi41LDEwLjg0ODYzMjgKCQlsMjguOTc1MDk3NywyMTcuNDcwNzAzMWwyNi45NTUwNzgxLTE3MS4xODk5NDE0YzAuOTQ0MzM1OS01Ljk5ODUzNTIsNi4wNjM0NzY2LTEwLjQ1MDY4MzYsMTIuMTM1NzQyMi0xMC41NTM3MTA5CgkJYzYuMDY5MzM1OS0wLjEzMTM0NzcsMTEuMzM4ODY3Miw0LjE3MjM2MzMsMTIuNDg2MzI4MSwxMC4xMzU3NDIyTDU5NC45Nzk0OTIyLDU0Ni45Mzc1bDI2LjY3MzgyODEtMTA3LjgwMDc4MTIKCQljMS4zMjkxMDE2LTUuMzc0MDIzNCw2LjAzNTE1NjItOS4yMzI5MTAyLDExLjU2NTQyOTctOS40ODQzNzVjNS41NDk4MDQ3LTAuMjQ3MDcwMywxMC41NjczODI4LDMuMTY0NTUwOCwxMi4zNzk4ODI4LDguMzk1NTA3OAoJCWwzMS4zNzc5Mjk3LDkwLjU4MTA1NDdsMjYuNjU0Mjk2OS00Ni4xNjYwMTU2YzEuNjU3MjI2Ni0yLjg3MTA5MzgsNC4zODc2OTUzLTQuOTY2MzA4Niw3LjU4OTg0MzgtNS44MjQyMTg4CgkJYzMuMjAzMTI1LTAuODU2OTMzNiw2LjYxNDI1NzgtMC40MDkxNzk3LDkuNDg1MzUxNiwxLjI0OTAyMzRsMjguODIxMjg5MSwxNi42NDA2MjUKCQlDNzU1LjE2MTEzMjgsNDk3Ljc4MDc2MTcsNzYxLjU3ODEyNSw0OTkuNSw3NjguMDgzMDA3OCw0OTkuNSw3NjguMDgzMDA3OCw0OTkuNWgxMjguNzAxMTcxOWM2LjkwMzMyMDMsMCwxMi41LDUuNTk2Njc5NywxMi41LDEyLjUKCQlzLTUuNTk2Njc5NywxMi41LTEyLjUsMTIuNUg3NjguMDgzMDA3OGMtMTAuODg2NzE4OCwwLTIxLjYyNTk3NjYtMi44NzY5NTMxLTMxLjA1NTY2NDEtOC4zMjEyODkxTDcxOS4wMzEyNSw1MDUuNzg4NTc0MgoJCWwtMzQuMDg0OTYwOSw1OS4wMzU2NDQ1Yy0yLjQ0NjI4OTEsNC4yMzYzMjgxLTcuMTM3Njk1Myw2LjY1ODIwMzEtMTIuMDExNzE4OCw2LjE5MzM1OTQKCQljLTQuODcxMDkzOC0wLjQ2Mzg2NzItOS4wMjM0Mzc1LTMuNzI4NTE1Ni0xMC42MjUtOC4zNTE1NjI1bC0yNi41MjI0NjA5LTc2LjU2NTkxOGwtMzAuMjAwMTk1MywxMjIuMDUwMjkzCgkJYy0xLjM4MjgxMjUsNS41OTA4MjAzLTYuMzk5NDE0MSw5LjQ5ODA0NjktMTIuMTMwODU5NCw5LjQ5ODA0NjljLTAuMTA5Mzc1LDAtMC4yMTk3MjY2LTAuMDAwOTc2Ni0wLjMzMTA1NDctMC4wMDM5MDYyCgkJYy01Ljg2NzE4NzUtMC4xNTQyOTY5LTEwLjgzNjkxNDEtNC4zNzAxMTcyLTExLjk0NjI4OTEtMTAuMTMzNzg5MWwtMjYuODI5MTAxNi0xMzkuNDAzMzIwM2wtMjkuMjE3NzczNCwxODUuNTU4NTkzOAoJCWMtMC45NTgwMDc4LDYuMDgzOTg0NC02LjIwMTE3MTksMTAuNTU1NjY0MS0xMi4zNDUyMTQ4DEwLjU1NTY2NDFjLTAuMDUwMjkzLDAtMC4xMDAwOTc3LDAtMC4xNTA4Nzg5LTAuMDAwOTc2NgoJCWMtNi4yMDg0OTYxLTAuMDczMjQyMi0xMS40MjE4NzUtNC42OTMzNTk0LTEyLjI0MjE4NzUtMTAuODQ4NjMyOGwtMjcuMDU3NjE3Mi0yMDMuMDgyNTE5NWwtMjguODAyNzM0NCwyNDkuNDM5OTQxNAoJCWMtMC43Mjg1MTU2LDYuMzEwNTQ2OS02LjA3MzI0MjIsMTEuMDY1NDI5Ny0xMi40MTYwMTU2LDExLjA2NjQwNjJjLTAuMDI4ODA4NiwwLTAuMDU2NjQwNiwwLTAuMDg1NDQ5MiwwCgkJYy02LjM4MDg1OTQtMC4wNDI5Njg4LTExLjcwNDU4OTgtNC44ODQ3NjU2LTEyLjM1MTU2MjUtMTEuMjMzMzk4NGwtMjcuMjA3NTE5NS0yNjcuMDM4NTc0MmwtMjguNTc3MTQ4NCwzMTMuNDgwOTU3CgkJYy0wLjU4NjkxNDEsNi40Mzk0NTMxLTUuOTg3NzkzLDExLjM2NDI1NzgtMTIuNDQ3MjY1NiwxMS4zNjUyMzQ0Yy0wLjAxODU1NDcsMC0wLjAzNjEzMjgsMC0wLjA1NDY4NzUsMAoJCWMtNi40ODQ4NjMzLTAuMDI4MzIwMy0xMS44NzEwOTM4LTUuMDA5NzY1Ni0xMi40MDM4MDg2LTExLjQ3MjY1NjJMMzIzLjYxMjc5Myw1NTkuNDY1ODIwM3YyMDguNjkxNDA2MgoJCWMwLDYuNTI1MzkwNi01LjAxOTUzMTIsMTEuOTUzMTI1LTExLjUyNDkwMjMsMTIuNDYxOTE0MUMzMTEuNzU3ODEyNSw3ODAuNjQ0NTMxMiwzMTEuNDI4MjIyNyw3ODAuNjU4MjAzMSwzMTEuMTAyMDUwOCw3ODAuNjU4MjAzMQoJCXoiLz4KPC9nPgo8L3N2Zz4K" />

    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI3LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAyNCAxMDI0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+Cjx1YXR0ZXJuICB3aWR0aD0iODIuMDc4MDk0NSIgaGVpZ2h0PSI4Mi4wNzg1OTgiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIGlkPSJVbm5hbWVkX1BhdHRlcm5fMSIgdmlld0JveD0iNDMuNzkzNDk5IC04Ny43Nzc4MDE1IDgyLjA3ODA5NDUgODIuMDc4NTk4IiBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiPgoJPGc+CgkJPHJlY3QgeD0iNDMuNzkzNDk5IiB5PSItODcuNzc3ODAxNSIgc3R5bGU9ImZpbGw6bm9uZTsiIHdpZHRoPSI4Mi4wNzgwOTQ1IiBoZWlnaHQ9IjgyLjA3ODU5OCIvPgoJCTxyZWN0IHg9IjQzLjc5MzQ5OSIgeT0iLTg3Ljc3NzgwMTUiIHN0eWxlPSJmaWxsOiNCQ0JFQzA7IiB3aWR0aD0iODIuMDc4MDk0NSIgaGVpZ2h0PSI4Mi4wNzg1OTgiLz4KCQk8bGluZSBzdHlsZT0iZmlsbDojRkZGRkZGOyIgeDE9IjI1LjkzNDA5OTIiIHkxPSItMTAuMjU5OCIgeDI9IjMwLjQ5MjcwMDYiIHkyPSItNS42OTkyMDAyIi8+CgkJPGxpbmUgc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHgxPSIyNS45MzQwOTkyIiB5MT0iLTUuNjk5MjAwMiIgeDI9IjMwLjQ5MjcwMDYiIHkyPSItMTAuMjU5OCIvPgoJCTxyZWN0IHg9IjM4LjA5NDIwMDEiIHk9Ii00Ny44NzgzOTg5IiBzdHlsZT0iZmlsbDojODA4Mjg1OyIgd2lkdGg9IjkxLjE5NzI5NjEiIGhlaWdodD0iNC41NTk5OTk5Ii8+CgkJPHJlY3QgeD0iMzguMDk0MjAwMSIgeT0iLTIwLjUxOTUwMDciIHN0eWxlPSJmaWxsOiM4MDgyODU7IiB3aWR0aD0iOTEuMTk3Mjk2MSIgaGVpZ2h0PSI0LjU2MDUwMDEiLz4KCQk8cmVjdCB4PSIzOC4wOTQyMDAxIiB5PSItNzUuMjM3ODAwNiIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI5MS4xOTcyOTYxIiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjM4LjA5NDIwMDEiIHk9Ii01Ni45OTg1MDA4IiBzdHlsZT0iZmlsbDojODA4Mjg1OyIgd2lkdGg9IjkxLjE5NzI5NjEiIGhlaWdodD0iNC41NTk1MDAyIi8+CgkJPHJlY3QgeD0iMzguMDk0MjAwMSIgeT0iLTI5LjYzODcwMDUiIHN0eWxlPSJmaWxsOiM4MDgyODU7IiB3aWR0aD0iOTEuMTk3Mjk2MSIgaGVpZ2h0PSI0LjU2MDU5OTgiLz4KCQk8cmVjdCB4PSIzOC4wOTQyMDAxIiB5PSItODQuMzU3OTAyNSIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI5MS4xOTcyOTYxIiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjE2LjgxMjk5OTciIHk9Ii03NS4yMzc4MDA2IiBzdHlsZT0iZmlsbDojQTdBOUFDOyIgd2lkdGg9IjkuMTIxMTAwNCIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSI4MS40MTI1OTc3IiB5PSItOTEuMTk3Nzk5NyIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI0LjU2MDUwMDEiIGhlaWdodD0iOTEuMTk3Nzk5NyIvPgoJCTxyZWN0IHg9IjEwOC43NzIwMDMyIiB5PSItOT.MTk3Nzk5NyIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI0LjU2MDQ5NzMiIGhlaWdodD0iOTEuMTk3Nzk5NyIvPgoJCTxyZWN0IHg9IjU0LjA1MzE5OTgiIHk9Ii05MS4xOTc3OTk3IiBzdHlsZT0iZmlsbDojODA4Mjg1OyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI5MS4xOTc3OTk3Ii8+CgkJPHJlY3QgeD0iOTAuNTMxNzAwMSIgeT0iLTkxLjE5Nzc5OTciIHN0eWxlPSJmaWxsOiM4MDgyODU7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjkxLjE5Nzc5OTciLz4KCQk8cmVjdCB4PSIxMTcuODkxMDk4IiB5PSItOTEuMTk3Nzk5NyIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI0LjU2MDU5OTgiIGhlaWdodD0iOTEuMTk3Nzk5NyIvPgoJCTxyZWN0IHg9IjYzLjE3MjQwMTQiIHk9Ii05MS4xOTc3OTk3IiBzdHlsZT0iZmlsbDojODA4Mjg1OyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI5MS4xOTc3OTk3Ii8+CgkJPHJlY3QgeD0iMTAuNzM0OTAwNSIgeT0iLTg1Ljg3NzQwMzMiIHN0eWxlPSJmaWxsOiNBN0E5QUM7IiB3aWR0aD0iNC41NTg1OTk5IiBoZWlnaHQ9IjkuMTE5MDk5NiIvPgoJCQoJCQk8bGluZSBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMjMxRjIwO3N0cm9rZS13aWR0aDowLjk1O3N0cm9rZS1saW5lY2FwOnNxdWFyZTsiIHgxPSI0Mi45ODY4MDExIiB5MT0iLTM2LjQ3ODUwMDQiIHgyPSIxMjYuNjMxMjk0MyIgeTI9Ii0zNi40Nzg1MDA0Ii8+CgkJCgkJCTxsaW5lIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMyMzFGMjA7c3Ryb2tlLXdpZHRoOjAuOTU7c3Ryb2tlLWxpbmVjYXA6c3F1YXJlOyIgeDE9IjQyLjk4NjgwMTEiIHkxPSItOS4xMTkwOTk2IiB4Mj0iMTI2LjYzMTI5NDMiIHkyPSItOS4xMTkwOTk2Ii8+CgkJCgkJCTxsaW5lIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMyMzFGMjA7c3Ryb2tlLXdpZHRoOjAuOTU7c3Ryb2tlLWxpbmVjYXA6c3F1YXJlOyIgeDE9IjQyLjk4NjgwMTEiIHkxPSItNjMuODM4NDAxOCIgeDI9IjEyNi42MzEyOTQzIiB5Mj0iLTYzLjgzODQwMTgiLz4KCQkKCQkJPGxpbmUgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzIzMUYyMDtzdHJva2Utd2lkdGg6MC45NTtzdHJva2UtbGluZWNhcDpzcXVhcmU7IiB4MT0iMC40NzUxIiB5MT0iLTYzLjgzODQwMTgiIHgyPSIzMS4yNTQ0MDAzIiB5Mj0iLTYzLjgzODQwMTgiLz4KCQkKCQkJPGxpbmUgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzIzMUYyMDtzdHJva2Utd2lkdGg6MC45NTtzdHJva2UtbGluZWNhcDpzcXVhcmU7IiB4MT0iNzQuNTcyNzk5NyIgeTE9Ii04OC41Mzc1OTc3IiB4Mj0iNzQuNTcyNzk5NyIgeTI9Ii00Ljg5MjYwMDEiLz4KCQkKCQkJPGxpbmUgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzIzMUYyMDtzdHJva2Utd2lkdGg6MC45NTtzdHJva2UtbGluZWNhcDpzcXVhcmU7IiB4MT0iMTAxLjkzMjA5ODQiIHkxPSItODguNTM3NTk3NyIgeDI9IjEwMS45MzIwOTg0IiB5Mj0iLTQuODkyNjAwMSIvPgoJCQoJCQk8bGluZSBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMjMxRjIwO3N0cm9rZS13aWR0aDowLjk1O3N0cm9rZS1saW5lY2FwOnNxdWFyZTsiIHgxPSI0Ny4yMTM0MDE4IiB5MT0iLTg4LjUzNzU5NzciIHgyPSI0Ny4yMTM0MDE4IiB5Mj0iLTQuODkyNjAwMSIvPgoJCQoJCQk8bGluZSBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMjMxRjIwO3N0cm9rZS13aWR0aDowLjk1O3N0cm9rZS1saW5lY2FwOnNxdWFyZTsiIHgxPSIzLjg5MzEiIHkxPSItOTEuMTk3Nzk5NyIgeDI9IjMuODkzMSIgeTI9Ii02MC40MTg0OTkiLz4KCQk8cmVjdCB4PSIxMC43MzQ5MDA1IiB5PSItNzUuMjM3ODAwNiIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU1ODU5OTkiIGhlaWdodD0iNC41NTk1OTk5Ii8+CgkJPHJlY3QgeD0iNTQuMDUzMTk5OCIgeT0iLTc1LjIzNzgwMDYiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjYzLjE3MjQwMTQiIHk9Ii04NC4zNTc5MDI1IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSI2My4xNzI0MDE0IiB5PSItNzUuMjM3ODAwNiIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDUwMDEiIGhlaWdodD0iNC41NTk1OTk5Ii8+CgkJPHJlY3QgeD0iNTQuMDUzMTk5OCIgeT0iLTg0LjM1NzkwMjUiIHN0eWxlPSJmaWxsOiM4MDgyODU7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjgxLjQxMjU5NzciIHk9Ii03NS4yMzc4MDA2IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSI5MC41MzE3MDAxIiB5PSItODQuMzU3OTAyNSIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDU5OTgiIGhlaWdodD0iNC41NTk1OTk5Ii8+CgkJPHJlY3QgeD0iOTAuNTMxNzAwMSIgeT0iLTc1LjIzNzgwMDYiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjgxLjQxMjU5NzciIHk9Ii04NC4zNTc5MDI1IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSIxMDguNzcyMDAzMiIgeT0iLTc1LjIzNzgwMDYiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA0OTczIiBoZWlnaHQ9IjQuNTU5NTk5OSIvPgoJCTxyZWN0IHg9IjExNy44OTEwOTgiIHk9Ii04NC4zNTc5MDI1IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSIxMTcuODkxMDk4IiB5PSItNzUuMjM3ODAwNiIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDU5OTgiIGhlaWdodD0iNC41NTk1OTk5Ii8+CgkJPHJlY3QgeD0iMTA4Ljc3MjAwMzIiIHk9Ii04NC4zNTc5MDI1IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNDk3MyIgaGVpZ2h0PSI0LjU1OTU5OTkiLz4KCQk8cmVjdCB4PSI1NC4wNTMzMTk5OCIgeT0iLTQ3Ljg3ODM5ODkiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5OTk5OSIvPgoJCTxyZWN0IHg9IjYzLjE3MjQwMTQiIHk9Ii01Ni45OTg1MDA4IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU1OTUwMDIiLz4KCQk8cmVjdCB4PSI2My4xNzI0MDE0IiB5PSItNDcuODc4Mzk4OSIgc3R5bGU9ImZpbGw6IzNENEQ0RjsiIHdpZHRoPSI0LjU2MDUwMDEiIGhlaWdodD0iNC41NTk5OTk5Ii8+CgkJPHJlY3QgeD0iNTQuMDUzMTk5OCIgeT0iLTU2Ljk5ODUwMDgiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5NTAwMiIvPgoJCTxyZWN0IHg9IjgxLjQxMjU5NzciIHk9Ii00Ny44NzgzOTg5IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU1OTk5OTkiLz4KCQk8cmVjdCB4PSI5MC41MzE3MDAxIiB5PSItNTYuOTk4NTAwOCIgc3R5bGU9ImZpbGw6IzNENEQ0Rjsigd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU1OTUwMDIiLz4KCQk8cmVjdCB4PSI5MC41MzE3MDAxIiB5PSItNDcuODc4Mzk4OSIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDU5OTgiIGhlaWdodD0iNC41NTk5OTk5Ii8+CgkJPHJlY3QgeD0iODEuNDEyNTk3NyIgeT0iLTU2Ljk5ODUwMDgiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1MDAxIiBoZWlnaHQ9IjQuNTU5NTAwMiIvPgoJCTxyZWN0IHg9IjEwOC43NzIwMDMyIiB5PSItNDcuODc4Mzk4OSIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDQ5NzMiIGhlaWdodD0iNC41NTk5OTk5Ii8+CgkJPHJlY3QgeD0iMTE3Ljg5MTA5OCIgeT0iLTU2Ljk5ODUwMDgiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTU5NTAwMiIvPgoJCTxyZWN0IHg9IjExNy44OTEwOTgiIHk9Ii00Ny44NzgzOTg5IiBzdHlsZT0iZmlsbDojM2Q0RDRGOyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU1OTk5OTkiLz4KCQk8cmVjdCB4PSIxMDguNzcyMDAzMiIgeT0iLTU2Ljk5ODUwMDgiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA0OTczIiBoZWlnaHQ9IjQuNTU5NTAwMiIvPgoJCTxyZWN0IHg9IjU0LjA1MzE5OTgiIHk9Ii0yMC41MTk1MDA3IiBzdHlsZT0iZmlsbDojM2Q0RDRGOyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU2MDUwMDEiLz4KCQk8cmVjdCB4PSI2My4xNzI0MDE0IiB5PSIyOS42Mzg3MDA1IiBzdHlsZT0iZmlsbDojM2Q0RDRGOyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU2MDU5OTkiLz4KCQk8cmVjdCB4PSI2My4xNzI0MDE0IiB5PSItMjAuNTE5NTAwNyIgc3R5bGU9ImZpbGw6IzgwODI4NTsiIHdpZHRoPSI0LjU2MDUwMDEiIGhlaWdodD0iNC41NjA1MDAxIi8+CgkJPHJlY3QgeD0iNTQuMDUzMTk5OCIgeT0iMjkuNjM4NzAwNSIgc3R5bGU9ImZpbGw6IzRENEQ0RjsiIHdpZHRoPSI0LjU2MDU5OTgiIGhlaWdodD0iNC41NjA1OTk5Ii8+CgkJPHJlY3QgeD0iODEuNDEyNTk3NyIgeT0iLTIwLjUxOTUwMDciIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1MDAxIiBoZWlnaHQ9IjQuNTU2MDUwMDEiLz4KCQk8cmVjdCB4PSI5MC41MzE3MDAxIiB5PSIyOS42Mzg3MDA1IiBzdHlsZT0iZmlsbDojODA4Mjg1OyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU2MDU5OTgiLz4KCQk8cmVjdCB4PSI5MC41MzE3MDAxIiB5PSItMjAuNTE5NTAwNyIgc3R5bGU9ImZpbGw6IzNENEQ0Rjsigd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU2MDUwMDEiLz4KCQk8cmVjdCB4PSI4MS40MTI1OTc3IiB5PSIyOS42Mzg3MDA1IiBzdHlsZT0iZmlsbDojM2Q0RDRGOyIgd2lkdGg9IjQuNTYwNTAwMSIgaGVpZ2h0PSI0LjU2MDU5OTkiLz4KCQk8cmVjdCB4PSIxMDguNzcyMDAzMiIgeT0iLTIwLjUxOTUwMDciIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA0OTczIiBoZWlnaHQ9IjQuNTYwNTAwMSIvPgoJCTxyZWN0IHg9IjExNy44OTEwOTgiIHk9IjI5LjYzODcwMDUiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA1OTk4IiBoZWlnaHQ9IjQuNTYwNTk5OCIvPgoJCTxyZWN0IHg9IjExNy44OTEwOTgiIHk9Ii0yMC41MTk1MDA3IiBzdHlsZT0iZmlsbDojNEQ0RDRGOyIgd2lkdGg9IjQuNTYwNTk5OCIgaGVpZ2h0PSI0LjU2MDUwMDEiLz4KCQk8cmVjdCB4PSIxMDguNzcyMDAzMiIgeT0iLTI5LjYzODcwMDUiIHN0eWxlPSJmaWxsOiM0RDRENEY7IiB3aWR0aD0iNC41NjA0OTczIiBoZWlnaHQ9IjQuNTYwNTk5OCIvPgoJPC9nPgo8L3BhdHRlcm4+CjxnIGlkPSJCYWNrZ3JvdW5kIj4KCQoKCQk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lkXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjEzNy4wODcxNDI5IiB5MT0iMTAuMDUwNTU2MiIgeDI9Ijg4OC43MDY2MDQiIHkyPSIxMDE2LjM1MDk1MjEiPgoJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiMxRkNCRTciLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjUiIHN0eWxlPSJzdG9wLWNvbG9yOiM3ODgxRUYiLz4KCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojQ0M1RERDIi8+Cgk8L2xpbmVhckdyYWRpZW50PgoJPHJlY3Qgc3R5bGU9ImZpbGw6dXJsKCNTVkdJZF8xXyk7IiB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0Ii8+Cgk8ZyBpZD0iQXJyb3dfMjUiPgoJPC9nPgoJPGcgaWQ9IkFycm93XzIiPgoJPC9nPgo8L2c+CjxnIGlkPSJfeDMxX19fX3gyMDEzX19MYXllciI+Cgk8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTMxMS4xMDIwNTA4LDc4MC42NTgyMDMxYy02LjA5NzE2OCwwLTExLjM3MzUzNTItNC40Mzg0NzY2LTEyLjMzNjkxNDEtMTAuNTU2NjQwNgoJCWwtMzcuNjIyNTU4Ni0yMzguOTMxNjQwNkMyNjAuNTM0NjY4LDUyNy4zMDQ2ODc1LDI1Ny4yNTM0MTgsNTI0LjUsMjUzLjM0MDgyMDMsNTI0LjVIMTI4Ljc4NDE3OTcKCQljLTYuOTAzMzIwMywwLTEyLjUtNS41OTY2Nzk3LTEyLjUtMTIuNXM1LjU5NjY3OTctMTIuNSwxMi41LTEyLjVoMTI0LjU1NjY0MDYKCQljMTYuMjk2Mzg2NywwLDI5Ljk2MzM3ODksMTEuNjg0MDgyLDMyLjQ5ODA0NjksMjcuNzgxMjVsMTIuNzczOTI1OCw4MS4xMjY5NTMxVjI1NS44NDI3NzM0CgkJYzAtNi43MDM2MTMzLDUuMjg4MDg1OS0xMi4yMTM4NjcyLDExLjk4NTgzOTgtMTIuNDg5MjU3OGM2LjY5NDgyNDItMC4yODk1NTA4LDEyLjQyMDg5ODQsNC43ODEyNSwxMi45NzE2Nzk3LDExLjQ2MTkxNDEKCQlsMjguNDk5NTExNywzNDUuNTM1MTU2MmwyNy4yNjMxODM2LTI5OS4wNjgzNTk0YzAuNTg0NDcyNy02LjQxMTYyMTEsNS45NDMzNTk0LTExLjMzMTA1NDcsMTIuMzgxODM1OS0xMS4zNjUyMzQ0CgkJYzYuMDY5MzM1OS0wLjAyMDAxOTUsMTEuODQ5MTIxMSw0LjgyODEyNSwxMi41MDE5NTMxLDExLjIzMjkxMDJsMjguNjc1MjkzLDI4MS40NDY3NzczbDI3LjE0MDEzNjctMjM1LjA0MDAzOTEKCQljMC43MjM2MzI4LTYuMjY1MTM2Nyw2LjAwMDk3NjYtMTEuMDEwMjUzOSwxMi4zMDgxMDU1LTExLjA2NTQyOTdjNi4zMjEyODkxLTAuMDY2ODk0NSwxMS42NjY5OTIyLDQuNTk2Njc5NywxMi41LDEwLjg0ODYzMjgKCQlsMjguOTc1MDk3NywyMTcuNDcwNzAzMWwyNi45NTUwNzgxLTE3MS4xODk5NDE0YzAuOTQ0MzM1OS01Ljk5ODUzNTIsNi4wNjM0NzY2LTEwLjQ1MDY4MzYsMTIuMTM1NzQyMi0xMC41NTM3MTA5CgkJYzYuMDY5MzM1OS0wLjEzMTM0NzcsMTEuMzM4ODY3Miw0LjE3MjM2MzMsMTIuNDg2MzI4MSwxMC4xMzU3NDIyTDU5NC45Nzk0OTIyLDU0Ni45Mzc1bDI2LjY3MzgyODEtMTA3LjgwMDc4MTIKCQljMS4zMjkxMDE2LTUuMzc0MDIzNCw2LjAzNTE1NjItOS4yMzI5MTAyLDExLjU2NTQyOTctOS40ODQzNzVjNS41NDk4MDQ3LTAuMjQ3MDcwMywxMC41NjczODI4LDMuMTY0NTUwOCwxMi4zNzk4ODI4LDguMzk1NTA3OAoJCWwzMS4zNzc5Mjk3LDkwLjU4MTA1NDdsMjYuNjU0Mjk2OS00Ni4xNjYwMTU2YzEuNjU3MjI2Ni0yLjg3MTA5MzgsNC4zODc2OTUzLTQuOTY2MzA4Niw3LjU4OTg0MzgtNS44MjQyMTg4CgkJYzMuMjAzMTI1LTAuODU2OTMzNiw2LjYxNDI1NzgtMC40MDkxNzk3LDkuNDg1MzUxNiwxLjI0OTAyMzRsMjguODIxMjg5MSwxNi42NDA2MjUKCQlDNzU1LjE2MTEzMjgsNDk3Ljc4MDc2MTcsNzYxLjU3ODEyNSw0OTkuNSw3NjguMDgzMDA3OCw0OTkuNSw3NjguMDgzMDA3OCw0OTkuNWgxMjguNzAxMTcxOWM2LjkwMzMyMDMsMCwxMi41LDUuNTk2Njc5NywxMi41LDEyLjUKCQlzLTUuNTk2Njc5NywxMi41LTEyLjUsMTIuNUg3NjguMDgzMDA3OGMtMTAuODg2NzE4OCwwLTIxLjYyNTk3NjYtMi44NzY5NTMxLTMxLjA1NTY2NDEtOC4zMjEyODkxTDcxOS4wMzEyNSw1MDUuNzg4NTc0MgoJCWwtMzQuMDg0OTYwOSw1OS4wMzU2NDQ1Yy0yLjQ0NjI4OTEsNC4yMzYzMjgxLTcuMTM3Njk1Myw2LjY1ODIwMzEtMTIuMDExNzE4OCw2LjE5MzM1OTQKCQljLTQuODcxMDkzOC0wLjQ2Mzg2NzItOS4wMjM0Mzc1LTMuNzI4NTE1Ni0xMC42MjUtOC4zNTE1NjI1bC0yNi41MjI0NjA5LTc2LjU2NTkxOGwtMzAuMjAwMTk1MywxMjIuMDUwMjkzCgkJYy0xLjM4MjgxMjUsNS41OTA4MjAzLTYuMzk5NDE0MSw5LjQ5ODA0NjktMTIuMTMwODU5NCw5LjQ5ODA0NjljLTAuMTA5Mzc1LDAtMC4yMTk3MjY2LTAuMDAwOTc2Ni0wLjMzMTA1NDctMC4wMDM5MDYyCgkJYy01Ljg2NzE4NzUtMC4xNTQyOTY5LTEwLjgzNjkxNDEtNC4zNzAxMTcyLTExLjk0NjI4OTEtMTAuMTMzNzg5MWwtMjYuODI5MTAxNi0xMzkuNDAzMzIwM2wtMjkuMjE3NzczNCwxODUuNTU4NTkzOAoJCWMtMC45NTgwMDc4LDYuMDgzOTg0NC02LjIwMTE3MTksMTAuNTU1NjY0MS0xMi4zNDUyMTQ4DEwLjU1NTY2NDFjLTAuMDUwMjkzLDAtMC4xMDAwOTc3LDAtMC4xNTA4Nzg5LTAuMDAwOTc2NgoJCWMtNi4yMDg0OTYxLTAuMDczMjQyMi0xMS40MjE4NzUtNC42OTMzNTk0LTEyLjI0MjE4NzUtMTAuODQ4NjMyOGwtMjcuMDU3NjE3Mi0yMDMuMDgyNTE5NWwtMjguODAyNzM0NCwyNDkuNDM5OTQxNAoJCWMtMC43Mjg1MTU2LDYuMzEwNTQ2OS02LjA3MzI0MjIsMTEuMDY1NDI5Ny0xMi40MTYwMTU2LDExLjA2NjQwNjJjLTAuMDI4ODA4NiwwLTAuMDU2NjQwNiwwLTAuMDg1NDQ5MiwwCgkJYy02LjM4MDg1OTQtMC4wNDI5Njg4LTExLjcwNDU4OTgtNC44ODQ3NjU2LTEyLjM1MTU2MjUtMTEuMjMzMzk4NGwtMjcuMjA3NTE5NS0yNjcuMDM4NTc0MmwtMjguNTc3MTQ4NCwzMTMuNDgwOTU3CgkJYy0wLjU4NjkxNDEsNi40Mzk0NTMxLTUuOTg3NzkzLDExLjM2NDI1NzgtMTIuNDQ3MjY1NiwxMS4zNjUyMzQ0Yy0wLjAxODU1NDcsMC0wLjAzNjEzMjgsMC0wLjA1NDY4NzUsMAoJCWMtNi40ODQ4NjMzLTAuMDI4MzIwMy0xMS44NzEwOTM4LTUuMDA5NzY1Ni0xMi40MDM4MDg2LTExLjQ3MjY1NjJMMzIzLjYxMjc5Myw1NTkuNDY1ODIwM3YyMDguNjkxNDA2MgoJCWMwLDYuNTI1MzkwNi01LjAxOTUzMTIsMTEuOTUzMTI1LTExLjUyNDkwMjMsMTIuNDYxOTE0MUMzMTEuNzU3ODEyNSw3ODAuNjQ0NTMxMiwzMTEuNDI4MjIyNyw3ODAuNjU4MjAzMSwzMTEuMTAyMDUwOCw3ODAuNjU4MjAzMQoJCXoiLz4KPC9nPgo8ZyBpZD0iX3gyX19fX3gyMDEzX19MYXllciI+Cgk8cmVjdCB4PSIwIiB5PSItMC4wMDAwMDgiIHN0eWxlPSJmaWxsOiNGQUNDMTQ7IiB3aWR0aD0iMTI4Ljc4NDIyNTUiIGhlaWdodD0iMTAyNCIvPgoJCgk8cmVjdCB4PSI4OTYuNzg0MjQwNyIgeT0iLTAuMDAwMDA4IiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAtMS4yMjQ2NDdlLTE2IDEuMjI0NjQ3ZS0xNiAtMSAxOTIwLjc4NDE3OTcgMTAyNCkiIHN0eWxlPSJmaWxsOiNGQUNDMTQ7IiB3aWR0aD0iMTI3LjIxNTc4MjIiIGhlaWdodD0iMTAyNCIvPgo8L2c+CjxnIGlkPSJfeDNfX19feDIwMTNfX0xheWVyIj4KCTxwYXRoIGQ9Ik05NS41NzAzMTI1LDY1MS4wMDI5Mjk3Yy01LjE0MTExMzMsMC0xMC4wODkzNTU1LTIuODQxNzk2OS0xMi41Mzk1NTA4LTcuNzU0ODgyOGwtNjIuMzM0OTYwOS0xMjUKCQljLTEuOTYxNDI1OC0zLjkzNDU3MDMtMS45NjE0MjU4LTguNTYxNTIzNCwwLTEyLjQ5NTYwNTVsNjIuMzM0OTYwOS0xMjUKCQljMy40NTA2ODM2LTYuOTE5OTIxOSwxMS44NTc0MjE5LTkuNzMxOTMzNiwxOC43NzYzNjcyLTYuMjgxMjVjNi45MTk0MzM2LDMuNDUwNjgzNiw5LjczMTQ0NTMsMTE4LTYuMjgxMjUsMTguNzc2MzY3MgoJClM0OC44Njg2NTIzLDUxMmwtNTkuMjE5NzI2NiwxMTguNzUxOTUzMWMzLjQ1MDE5NTMsNi45MTk5MjE5LDAuNjM4MTgzNiwxNS4zMjYxNzE5LTYuMjgxMjUsMTguNzc2MzY3MgoJCUM5OS44MDEyNjk1LDY1MC41MjkyOTY5LDk3LjY2OTQzMzYsNjUxLjAwMjkyOTcsOTUuNTcwMzEyNSw2NTEuMDAyOTI5N3oiLz4KCTxwYXRoIGQ9Ik05MjkuMjEzODY3Miw2NTEuMDAyOTI5N2MtMi4wOTk2MDk0LDAtNC4yMzA0Njg4LTAuNDczNjMyOC02LjIzNzMwNDctMS40NzQ2MDk0CgkJYy02LjkxODk0NTMtMy40NTAxOTUzLTkuNzMxNDQ1My0xMS44NTY0NDUzLTYuMjgwMjczNC0xOC43NzYzNjcyTDk3NS45MTUwMzkxLDUxMmwtNTkuMjE4NzUtMTE4Ljc1MjQ0MTQKCQljLTMuNDUxMTcxOS02LjkxODk0NTMtMC42Mzg2NzE5LTE1LjMyNTY4MzYsNi4yODAyNzM0LTE4Ljc3NjM2NzJjNi45MTg5NDUzLTMuNDUwMTk1MywxNS4zMjYxNzE5LTAuNjM4NjcxOSwxOC43NzYzNjcyLDYuMjgxMjUKCQlsNjIuMzM0OTYwOSwxMjVjMS45NjE5MTQxLDMuOTM0MDgyLDEuOTYxOTE0MSw4LjU2MTAzNTIsMCwxMi40OTU2MDU1bC02Mi4zMzQ5NjA5LDEyNQoJCUM5MzkuMzAzNzEwOSw2NDguMTYxMTMyOCw5MzQuMzU0NDkyMiw2NTEuMDAyOTI5Nyw5MjkuMjEzODY3Miw2NTEuMDAyOTI5N3oiLz4KPC9nPgo8ZyBpZD0iQXBwX0ljb25fU2hhcGUiPgoJPGc+CgkJPHBhdGggZD0iTTAsMHYxMDI0aDEwMjRWMHl6IE0xMDIzLjk5OTkzOSw2NTAuOTk5OTM5YzAsMTQuMjQyNzM2OCwwLjAwNTkyMDQsMjguNDgzMjE1My0wLjA4NDA0NTQsNDIuNzI1OTUyMQoJCQljLTAuMDY4OTA4NywxMS45OTYzOTg5LTAuMjA3Mjc1NCwyMy45OTAxNzMzLTAuNTMyMzQ4NiwzNS45ODI5NzEyYy0wLjcwODMxMywyNi4xMzM2MDYtMi4yNDY0Niw1Mi40OTQwNzk2LTYuODkyMDg5OCw3OC4zMzc1ODU0CgkJCWMtNC43MTI3Njg2LDI2LjIxNzE2MzEtMTIuNDAzOTkxNyw1MC42MTc1NTM3LTI0LjUyODg2OTYsNzQuNDM3OTI3MgoJCQljLTExLjkxNzA1MzIsMjMuNDEyMTA5NC0yNy40ODkwMTM3LDQ0LjgzNjk3NTEtNDYuMDY1MTI0NSw2My40MTMwODU5cy00MC4wMDA5NzY2LDM0LjE0ODA3MTMtNjMuNDEzMDg1OSw0Ni4wNjUxMjQ1CgkJCWMtMjMuODIwMzczNSwxMi4xMjQ4Nzc5LTQ4LjIyMDcwMzEsMTkuODE2MDQtNzQuNDM3OTI3MiwyNC41Mjg4Njk2CgkJCWMtMjUuODQzNDQ0OCw0LjY0NTYyOTktNTIuMjAzOTc5NSw2LjE4Mzc3NjktNzguMzM3NTg1NCw2Ljg5MjA4OTgKCQkJYy0xMS45OTI3OTc5LDAuMzI1MDczMi0yMy45ODY1NzIzLDAuNDYzNDM5OS0zNS45ODI5MTAyLDAuNTMyMzQ4NgoJCQljLTE0LjI0MjczNjgsMC4wODk5NjU4LTI4LjQ4MzIxNTMsMC4wODM5ODQ0LTQyLjcyNTk1MjEsMC4wODM5ODQ0SDM3M2MtMTQuMjQyNzM2OCwwLTI4LjQ4MzIxNTMsMC4wMDU5ODE0LTQyLjcyNTk1MjEsLTAuMDgzOTg0NAoJCQljLTExLjk5NjMzNzktMC4wNjg5MDg3LTIzLjk5MDExMjMtMC4yMDcyNzU0LTM1OTgyOTEwMi0wLjUzMjM0ODZjLTI2LjEzMzYwNi0wLjcwODMxMy01Mi40OTQxNDA2LTIuMjQ2NDYtNzguMzM3NTg1NC02Ljg5MjA4OTgKCQkJYy0yNi4yMTcyMjQxLTQuNzEyODI5Ni01MC42MTc1NTM3LTEyLjQwMzk5MTctNzQuNDM3OTI3Mi0yNC41Mjg4Njk2CgkJCWMtMjMuNDEyMTA5NC0xMS45MTcwNTMyLTQ0LjgzNjk3NTEtMjcuNDg5MDEzNy02My40MTMwODU5LTQ2LjA2NTEyNDVzLTM0LjE0ODA3MTMtNDAuMDAwOTc2Ni00Ni4wNjUxMjQ1LTYzLjQxMzA4NTkKCQkJYy0xMi4xMjQ4Nzc5LTIzLjgyMDM3MzUtMTkuODE2MTAxMS00OC4yMjA3NjQyLTI0LjUyODg2OTYtNzQuNDM3OTI3MgoJCQljLTQuNjQ1NjI5OS0yNS44NDM1MDU5LTYuMTgzNzc2OS01Mi4yMDM5Nzk1LTYuODkyMDg5OC03OC4zMzc1ODU0CgkJCWMtMC4zMjUwNzMyLTExLjk5Mjc5NzktMC40NjM0Mzk5LTIzLjk4NjU3MjMtMC41MzIzNDg2LTM1OTgyOTEwMgoJCQljLTAuMDkwMDI2OS0xNC4yNDI3MzY4LTAuMDg0MDQ1NC0yOC40ODMyMTUzLTAuMDg0MDQ1NC00Mi43MjU5NTIxYzYuMjgxMjVsMTIuNzczOTI1OCw4MS4xMjY5NTMxVjI1NS44NDI3NzM0CgkJYzAtNi43MDM2MTMzLDUuMjg4MDg1OS0xMi4yMTM4NjcyLDExLjk4NTgzOTgtMTIuNDg5MjU3OGM2LjY5NDgyNDItMC4yODk1NTA4LDEyLjQyMDg5ODQsNC43ODEyNSwxMi45NzE2Nzk3LDExLjQ2MTkxNDEKCQlsMjguNDk5NTExNywzNDUuNTM1MTU2MmwyNy4yNjMxODM2LTI5OS4wNjgzNTk0YzAuNTg0NDcyNy02LjQxMTYyMTEsNS45NDMzNTk0LTExLjMzMTA1NDcsMTIuMzgxODM1OS0xMS4zNjUyMzQ0CgkJYzYuMzkzMDY2NC0wLjAyMDAxOTUsMTEuODQ5MTIxMSw0LjgyODEyNSwxMi41MDE5NTMxLDExLjIzMjkxMDJsMjguNjc1MjkzLDI4MS40NDY3NzczbDI3LjE0MDEzNjctMjM1LjA0MDAzOTEKCQljMC43MjM2MzI4LTYuMjY1MTM2Nyw2LjAwMDk3NjYtMTEuMDEwMjUzOSwxMi4zMDgxMDU1LTExLjA2NTQyOTdjNi4zMjEyODkxLTAuMDY2ODk0NSwxMS42NjY5OTIyLDQuNTk2Njc5NywxMi41LDEwLjg0ODYzMjgKCQlsMjguOTc1MDk3NywyMTcuNDcwNzAzMWwyNi45NTUwNzgxLTE3MS4xODk5NDE0YzAuOTQ0MzM1OS01Ljk5ODUzNTIsNi4wNjM0NzY2LTEwLjQ1MDY4MzYsMTIuMTM1NzQyMi0xMC41NTM3MTA5CgkJYzYuMDY5MzM1OS0wLjEzMTM0NzcsMTEuMzM4ODY3Miw0LjE3MjM2MzMsMTIuNDg2MzI4MSwxMC4xMzU3NDIyTDU5NC45Nzk0OTIyLDU0Ni45Mzc1bDI2LjY3MzgyODEtMTA3LjgwMDc4MTIKCQljMS4zMjkxMDE2LTUuMzc0MDIzNCw2LjAzNTE1NjItOS4yMzI5MTAyLDExLjU2NTQyOTctOS40ODQzNzVjNS41NDk4MDQ3LTAuMjQ3MDcwMywxMC41NjczODI4LDMuMTY0NTUwOCwxMi4zNzk4ODI4LDguMzk1NTA3OAoJCWwzMS4zNzc5Mjk3LDkwLjU4MTA1NDdsMjYuNjU0Mjk2OS00Ni4xNjYwMTU2YzEuNjU3MjI2Ni0yLjg3MTA5MzgsNC4zODc2OTUzLTQuOTY2MzA4Niw3LjU4OTg0MzgtNS44MjQyMTg4CgkJYzMuMjAzMTI1LTAuODU2OTMzNiw2LjYxNDI1NzgtMC40MDkxNzk3LDkuNDg1MzUxNiwxLjI0OTAyMzRsMjguODIxMjg5MSwxNi42NDA2MjUKCQlDNzU1LjE2MTEzMjgsNDk3Ljc4MDc2MTcsNzYxLjU3ODEyNSw0OTkuNSw3NjguMDgzMDA3OCw0OTkuNSw3NjguMDgzMDA3OCw0OTkuNWgxMjguNzAxMTcxOWM2LjkwMzMyMDMsMCwxMi41LDUuNTk2Njc5NywxMi41LDEyLjUKCQlzLTUuNTk2Njc5NywxMi41LTEyLjUsMTIuNUg3NjguMDgzMDA3OGMtMTAuODg2NzE4OCwwLTIxLjYyNTk3NjYtMi44NzY5NTMxLTMxLjA1NTY2NDEtOC4zMjEyODkxTDcxOS4wMzEyNSw1MDUuNzg4NTc0MgoJCWwtMzQuMDg0OTYwOSw1OS4wMzU2NDQ1Yy0yLjQ0NjI4OTEsNC4yMzYzMjgxLTcuMTM3Njk1Myw2LjY1ODIwMzEtMTIuMDExNzE4OCw2LjE5MzM1OTQKCQljLTQuODcxMDkzOC0wLjQ2Mzg2NzItOS4wMjM0Mzc1LTMuNzI4NTE1Ni0xMC42MjUtOC4zNTE1NjI1bC0yNi41MjI0NjA5LTc2LjU2NTkxOGwtMzAuMjAwMTk1MywxMjIuMDUwMjkzCgkJYy0xLjM4MjgxMjUsNS41OTA4MjAzLTYuMzk5NDE0MSw5LjQ5ODA0NjktMTIuMTMwODU5NCw5LjQ5ODA0NjljLTAuMTA5Mzc1LDAtMC4yMTk3MjY2LTAuMDAwOTc2Ni0wLjMzMTA1NDctMC4wMDM5MDYyCgkJYy01Ljg2NzE4NzUtMC4xNTQyOTY5LTEwLjgzNjkxNDEtNC4zNzAxMTcyLTExLjk0NjI4OTEtMTAuMTMzNzg5MWwtMjYuODI5MTAxNi0xMzkuNDAzMzIwM2wtMjkuMjE3NzczNCwxODUuNTU4NTkzOAoJCWMtMC45NTgwMDc4LDYuMDgzOTg0NC02LjIwMTE3MTksMTAuNTU1NjY0MS0xMi4zNDUyMTQ4DEwLjU1NTY2NDFjLTAuMDUwMjkzLDAtMC4xMDAwOTc3LDAtMC4xNTA4Nzg5LTAuMDAwOTc2NgoJCWMtNi4yMDg0OTYxLTAuMDczMjQyMi0xMS40MjE4NzUtNC42OTMzNTk0LTEyLjI0MjE4NzUtMTAuODQ4NjMyOGwtMjcuMDU3NjE3Mi0yMDMuMDgyNTE5NWwtMjguODAyNzM0NCwyNDkuNDM5OTQxNAoJCWMtMC43Mjg1MTU2LDYuMzEwNTQ2OS02LjA3MzI0MjIsMTEuMDY1NDI5Ny0xMi40MTYwMTU2LDExLjA2NjQwNjJjLTAuMDI4ODA4NiwwLTAuMDU2NjQwNiwwLTAuMDg1NDQ5MiwwCgkJYy02LjM4MDg1OTQtMC4wNDI5Njg4LTExLjcwNDU4OTgtNC44ODQ3NjU2LTEyLjM1MTU2MjUtMTEuMjMzMzk4NGwtMjcuMjA3NTE5NS0yNjcuMDM4NTc0MmwtMjguNTc3MTQ4NCwzMTMuNDgwOTU3CgkJYy0wLjU4NjkxNDEsNi40Mzk0NTMxLTUuOTg3NzkzLDExLjM2NDI1NzgtMTIuNDQ3MjY1NiwxMS4zNjUyMzQ0Yy0wLjAxODU1NDcsMC0wLjAzNjEzMjgsMC0wLjA1NDY4NzUsMAoJCWMtNi40ODQ4NjMzLTAuMDI4MzIwMy0xMS44NzEwOTM4LTUuMDA5NzY1Ni0xMi40MDM4MDg2LTExLjQ3MjY1NjJMMzIzLjYxMjc5Myw1NTkuNDY1ODIwM3YyMDguNjkxNDA2MgoJCWMwLDYuNTI1MzkwNi01LjAxOTUzMTIsMTEuOTUzMTI1LTExLjUyNDkwMjMsMTIuNDYxOTE0MUMzMTEuNzU3ODEyNSw3ODAuNjQ0NTMxMiwzMTEuNDI4MjIyNyw3ODAuNjU4MjAzMSwzMTEuMTAyMDUwOCw3ODAuNjU4MjAzMQoJCXoiLz4KPC9nPgo8L3N2Zz4K" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/lamejs@1.2.1/lame.min.js"></script>
    <style>
      /* Custom scrollbar for webkit */
      ::-webkit-scrollbar {
        width: 6px;
        height: 6px;
      }
      ::-webkit-scrollbar-track {
        background: #18181b;
      }
      ::-webkit-scrollbar-thumb {
        background: #3f3f46;
        border-radius: 3px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #52525b;
      }
      /* Disable pull-to-refresh on mobile */
      body {
        overscroll-behavior-y: contain;
      }
      /* Safe area padding for iPhone X+ */
      .safe-area-pb {
        padding-bottom: env(safe-area-inset-bottom);
      }
      .safe-area-pl {
        padding-left: env(safe-area-inset-left);
      }
      .safe-area-pr {
        padding-right: env(safe-area-inset-right);
      }
    </style>
  </head>
  <body class="bg-zinc-950 text-zinc-100 antialiased overflow-hidden select-none">
    <div id="root" class="h-screen w-screen flex flex-col"></div>
    <script type="module" src="/index.tsx"></script>
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js').then(registration => {
            console.log('SW registered: ', registration);
          }).catch(registrationError => {
            console.log('SW registration failed: ', registrationError);
          });
        });
      }
    </script>
  </body>
</html>

        <script type="module" onerror="console.warn('Failed to load the app. Try reloading it.')">import '@/index';</script>
        